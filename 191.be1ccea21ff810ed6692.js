"use strict";(self.webpackChunkcerth_dataports_frontend_data_governance_use_case=self.webpackChunkcerth_dataports_frontend_data_governance_use_case||[]).push([[191],{191:function(Ow,Vr,X){X.r(Vr),X.d(Vr,{DashboardModule:function(){return xw}});var I=X(1116),ee=X(8302),q=X(7853),e=X(38),Au=function(){function r(){}return r.prototype.ngOnInit=function(){console.log("home")},r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],decls:3,vars:0,template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5"),e._uU(2,"Home"),e.qZA(),e.qZA())},styles:["h6[_ngcontent-%COMP%]{color:#023f88}.title[_ngcontent-%COMP%]{color:#023f88}"]}),r}(),T=X(1462),F=X(162),z=X(8481),ne=X(4568),Ze=X(883),V=X(3928),W=X(4388),M=X(4599),R=X(1783),J=X(9713),k=X(250),E=X(8807),D=X(2290),Ne=X(3431),dn=X(7593),je=X(6239);function wu(r,a){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){var n=e.oxw();e.xp6(1),e.Oqu(n.label)}}function xu(r,a){1&r&&e.GkF(0)}var Jr=function(a){return{height:a}},Ou=function(a,n){return{"p-highlight":a,"p-disabled":n}},qu=function(a){return{"p-highlight":a}},Yr=function(a){return{"pi pi-check":a}},pn=function(a){return{$implicit:a}},Du=["container"],Mu=["filterInput"],Ru=["in"];function Iu(r,a){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){var n=e.oxw(2);e.xp6(1),e.Oqu(n.valuesAsString||"empty")}}function Uu(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(i){e.CHM(n);var o=e.oxw().$implicit;return e.oxw(3).removeChip(o,i)}),e.qZA()}}function Pu(r,a){if(1&r&&(e.TgZ(0,"div",13,14),e.TgZ(2,"span",15),e._uU(3),e.qZA(),e.YNc(4,Uu,1,0,"span",16),e.qZA()),2&r){var n=a.$implicit,t=e.oxw(3);e.xp6(3),e.Oqu(t.findLabelByValue(n)),e.xp6(1),e.Q6J("ngIf",!t.disabled)}}function Eu(r,a){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){var n=e.oxw(3);e.xp6(1),e.Oqu(n.placeholder||n.defaultLabel||"empty")}}function Bu(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Pu,5,2,"div",12),e.YNc(2,Eu,2,1,"ng-container",7),e.BQk()),2&r){var n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.value),e.xp6(1),e.Q6J("ngIf",!n.value||0===n.value.length)}}function Nu(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Iu,2,1,"ng-container",7),e.YNc(2,Bu,3,2,"ng-container",7),e.BQk()),2&r){var n=e.oxw();e.xp6(1),e.Q6J("ngIf","comma"===n.display),e.xp6(1),e.Q6J("ngIf","chip"===n.display)}}function Lu(r,a){1&r&&e.GkF(0)}function Fu(r,a){1&r&&e.GkF(0)}var zu=function(a){return{"p-checkbox-disabled":a}},Hu=function(a,n,t){return{"p-highlight":a,"p-focus":n,"p-disabled":t}};function Vu(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",30),e.TgZ(1,"div",2),e.TgZ(2,"input",31),e.NdJ("focus",function(){return e.CHM(n),e.oxw(3).onHeaderCheckboxFocus()})("blur",function(){return e.CHM(n),e.oxw(3).onHeaderCheckboxBlur()})("keydown.space",function(o){return e.CHM(n),e.oxw(3).toggleAll(o)}),e.qZA(),e.qZA(),e.TgZ(3,"div",32),e.NdJ("click",function(o){return e.CHM(n),e.oxw(3).toggleAll(o)}),e._UZ(4,"span",33),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(3);e.Q6J("ngClass",e.VKq(6,zu,t.disabled||t.toggleAllDisabled)),e.xp6(2),e.Q6J("checked",t.allChecked)("disabled",t.disabled||t.toggleAllDisabled),e.xp6(1),e.Q6J("ngClass",e.kEZ(8,Hu,t.allChecked,t.headerCheckboxFocus,t.disabled||t.toggleAllDisabled)),e.uIk("aria-checked",t.allChecked),e.xp6(1),e.Q6J("ngClass",e.VKq(12,Yr,t.allChecked))}}function Ju(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",34),e.TgZ(1,"input",35,36),e.NdJ("input",function(o){return e.CHM(n),e.oxw(3).onFilterInputChange(o)}),e.qZA(),e._UZ(3,"span",37),e.qZA()}if(2&r){var t=e.oxw(3);e.xp6(1),e.Q6J("value",t.filterValue||"")("disabled",t.disabled),e.uIk("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel)}}function Yu(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",24),e.Hsn(1),e.YNc(2,Fu,1,0,"ng-container",25),e.YNc(3,Vu,5,14,"div",26),e.YNc(4,Ju,4,4,"div",27),e.TgZ(5,"button",28),e.NdJ("click",function(o){return e.CHM(n),e.oxw(2).close(o)}),e._UZ(6,"span",29),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngIf",t.showToggleAll&&!t.selectionLimit),e.xp6(1),e.Q6J("ngIf",t.filter)}}function Qu(r,a){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){var n=e.oxw().$implicit,t=e.oxw(3);e.xp6(1),e.Oqu(t.getOptionGroupLabel(n)||"empty")}}function Ku(r,a){1&r&&e.GkF(0)}function $u(r,a){1&r&&e.GkF(0)}function Gu(r,a){if(1&r&&(e.TgZ(0,"li",39),e.YNc(1,Qu,2,1,"span",7),e.YNc(2,Ku,1,0,"ng-container",8),e.qZA(),e.YNc(3,$u,1,0,"ng-container",8)),2&r){var n=a.$implicit;e.oxw(2);var t=e.MAs(7),i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",i.groupTemplate)("ngTemplateOutletContext",e.VKq(5,pn,n)),e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(7,pn,i.getOptionGroupChildren(n)))}}function Wu(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Gu,4,9,"ng-template",38),e.BQk()),2&r){var n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.optionsToRender)}}function ju(r,a){1&r&&e.GkF(0)}function Xu(r,a){if(1&r&&(e.ynx(0),e.YNc(1,ju,1,0,"ng-container",8),e.BQk()),2&r){e.oxw();var n=e.MAs(7),t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(2,pn,t.optionsToRender))}}function ec(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"p-multiSelectItem",43),e.NdJ("onClick",function(s){return e.CHM(n),e.oxw(4).onOptionClick(s)})("onKeydown",function(s){return e.CHM(n),e.oxw(4).onOptionKeydown(s)}),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw(4);e.Q6J("option",t)("selected",i.isSelected(t))("label",i.getOptionLabel(t))("disabled",i.isOptionDisabled(t))("template",i.itemTemplate)}}function tc(r,a){if(1&r&&(e.ynx(0),e.YNc(1,ec,1,5,"ng-template",38),e.BQk()),2&r){var n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",n)}}function nc(r,a){if(1&r){var n=e.EpF();e.ynx(0),e.TgZ(1,"p-multiSelectItem",48),e.NdJ("onClick",function(s){return e.CHM(n),e.oxw(5).onOptionClick(s)})("onKeydown",function(s){return e.CHM(n),e.oxw(5).onOptionKeydown(s)}),e.qZA(),e.BQk()}if(2&r){var t=a.$implicit,i=e.oxw(5);e.xp6(1),e.Q6J("option",t)("selected",i.isSelected(t))("label",i.getOptionLabel(t))("disabled",i.isOptionDisabled(t))("template",i.itemTemplate)("itemSize",i.itemSize)}}function ac(r,a){if(1&r&&(e.TgZ(0,"cdk-virtual-scroll-viewport",45,46),e.YNc(2,nc,2,6,"ng-container",47),e.qZA()),2&r){var n=e.oxw(2).$implicit,t=e.oxw(2);e.Q6J("ngStyle",e.VKq(3,Jr,t.scrollHeight))("itemSize",t.itemSize),e.xp6(2),e.Q6J("cdkVirtualForOf",n)}}function ic(r,a){if(1&r&&e.YNc(0,ac,3,5,"cdk-virtual-scroll-viewport",44),2&r){var n=e.oxw(3);e.Q6J("ngIf",n.virtualScroll&&!n.emptyOptions)}}function rc(r,a){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){var n=e.oxw(4);e.xp6(1),e.hij(" ",n.emptyFilterMessageLabel," ")}}function oc(r,a){1&r&&e.GkF(0,null,50)}function sc(r,a){if(1&r&&(e.TgZ(0,"li",49),e.YNc(1,rc,2,1,"ng-container",40),e.YNc(2,oc,2,0,"ng-container",25),e.qZA()),2&r){var n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!n.emptyFilterTemplate&&!n.emptyTemplate)("ngIfElse",n.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",n.emptyFilterTemplate||n.emptyTemplate)}}function lc(r,a){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){var n=e.oxw(4);e.xp6(1),e.hij(" ",n.emptyMessageLabel," ")}}function uc(r,a){1&r&&e.GkF(0,null,51)}function cc(r,a){if(1&r&&(e.TgZ(0,"li",49),e.YNc(1,lc,2,1,"ng-container",40),e.YNc(2,uc,2,0,"ng-container",25),e.qZA()),2&r){var n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!n.emptyTemplate)("ngIfElse",n.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",n.emptyTemplate)}}function dc(r,a){if(1&r&&(e.YNc(0,tc,2,1,"ng-container",40),e.YNc(1,ic,1,1,"ng-template",null,41,e.W1O),e.YNc(3,sc,3,3,"li",42),e.YNc(4,cc,3,3,"li",42)),2&r){var n=e.MAs(2),t=e.oxw(2);e.Q6J("ngIf",!t.virtualScroll)("ngIfElse",n),e.xp6(3),e.Q6J("ngIf",t.hasFilter()&&t.emptyOptions),e.xp6(1),e.Q6J("ngIf",!t.hasFilter()&&t.emptyOptions)}}function pc(r,a){1&r&&e.GkF(0)}function gc(r,a){if(1&r&&(e.TgZ(0,"div",52),e.Hsn(1,1),e.YNc(2,pc,1,0,"ng-container",25),e.qZA()),2&r){var n=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",n.footerTemplate)}}var hc=function(){return["p-multiselect-panel p-component"]},fc=function(a,n){return{showTransitionParams:a,hideTransitionParams:n}},mc=function(a){return{value:"visible",params:a}},vc=function(a){return{"p-multiselect-virtualscroll":a}};function bc(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",18),e.NdJ("@overlayAnimation.start",function(o){return e.CHM(n),e.oxw().onOverlayAnimationStart(o)})("@overlayAnimation.done",function(o){return e.CHM(n),e.oxw().onOverlayAnimationEnd(o)})("keydown",function(o){return e.CHM(n),e.oxw().onKeydown(o)})("click",function(o){return e.CHM(n),e.oxw().onOverlayClick(o)}),e.YNc(1,Yu,7,3,"div",19),e.TgZ(2,"div",20),e.TgZ(3,"ul",21),e.YNc(4,Wu,2,1,"ng-container",7),e.YNc(5,Xu,2,4,"ng-container",7),e.YNc(6,dc,5,4,"ng-template",null,22,e.W1O),e.qZA(),e.qZA(),e.YNc(8,gc,3,1,"div",23),e.qZA()}if(2&r){var t=e.oxw();e.Tol(t.panelStyleClass),e.Q6J("ngClass",e.DdM(12,hc))("@overlayAnimation",e.VKq(16,mc,e.WLB(13,fc,t.showTransitionOptions,t.hideTransitionOptions)))("ngStyle",t.panelStyle),e.xp6(1),e.Q6J("ngIf",t.showHeader),e.xp6(1),e.Udp("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),e.xp6(1),e.Q6J("ngClass",e.VKq(18,vc,t.virtualScroll)),e.xp6(1),e.Q6J("ngIf",t.group),e.xp6(1),e.Q6J("ngIf",!t.group),e.xp6(3),e.Q6J("ngIf",t.footerFacet||t.footerTemplate)}}var yc=[[["p-header"]],[["p-footer"]]],_c=function(a,n,t,i){return{"p-multiselect p-component":!0,"p-multiselect-open":a,"p-multiselect-chip":n,"p-focus":t,"p-disabled":i}},Tc=function(a,n){return{"p-placeholder":a,"p-multiselect-label-empty":n}},Cc=function(){return{"p-multiselect-trigger":!0}},Zc=["p-header","p-footer"],kc={provide:T.JU,useExisting:(0,e.Gpc)(function(){return gn}),multi:!0},Sc=function(){var r=function(){function a(){(0,M.Z)(this,a),this.onClick=new e.vpe,this.onKeydown=new e.vpe}return(0,R.Z)(a,[{key:"onOptionClick",value:function(t){this.onClick.emit({originalEvent:t,option:this.option})}},{key:"onOptionKeydown",value:function(t){this.onKeydown.emit({originalEvent:t,option:this.option})}}]),a}();return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:20,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,t){1&n&&(e.TgZ(0,"li",0),e.NdJ("click",function(o){return t.onOptionClick(o)})("keydown",function(o){return t.onOptionKeydown(o)}),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"span",3),e.qZA(),e.qZA(),e.YNc(4,wu,2,1,"span",4),e.YNc(5,xu,1,0,"ng-container",5),e.qZA()),2&n&&(e.Q6J("ngStyle",e.VKq(9,Jr,t.itemSize+"px"))("ngClass",e.WLB(11,Ou,t.selected,t.disabled)),e.uIk("aria-label",t.label)("tabindex",t.disabled?null:"0"),e.xp6(2),e.Q6J("ngClass",e.VKq(14,qu,t.selected)),e.xp6(1),e.Q6J("ngClass",e.VKq(16,Yr,t.selected)),e.xp6(1),e.Q6J("ngIf",!t.template),e.xp6(1),e.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",e.VKq(18,pn,t.option)))},directives:[je.H,I.PC,I.mk,I.O5,I.tP],encapsulation:2}),r}(),gn=function(){var r=function(){function a(n,t,i,o,s,l){(0,M.Z)(this,a),this.el=n,this.renderer=t,this.cd=i,this.filterService=o,this.config=s,this.overlayService=l,this.filter=!0,this.displaySelectedLabel=!0,this.maxSelectedLabels=3,this.selectedItemsLabel="ellipsis",this.showToggleAll=!0,this.emptyFilterMessage="",this.emptyMessage="",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.showHeader=!0,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.display="comma",this.onChange=new e.vpe,this.onFilter=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onPanelShow=new e.vpe,this.onPanelHide=new e.vpe,this.scrollHeight="200px",this.onModelChange=function(){},this.onModelTouched=function(){}}return(0,R.Z)(a,[{key:"defaultLabel",get:function(){return this._defaultLabel},set:function(t){this._defaultLabel=t,this.updateLabel()}},{key:"placeholder",get:function(){return this._placeholder},set:function(t){this._placeholder=t,this.updateLabel()}},{key:"options",get:function(){return this._options},set:function(t){this._options=t,this.updateLabel()}},{key:"filterValue",get:function(){return this._filterValue},set:function(t){this._filterValue=t,this.activateFilter()}},{key:"ngOnInit",value:function(){this.updateLabel()}},{key:"ngAfterContentInit",value:function(){var t=this;this.templates.forEach(function(i){switch(i.getType()){case"item":default:t.itemTemplate=i.template;break;case"group":t.groupTemplate=i.template;break;case"selectedItems":t.selectedItemsTemplate=i.template;break;case"header":t.headerTemplate=i.template;break;case"emptyfilter":t.emptyFilterTemplate=i.template;break;case"empty":t.emptyTemplate=i.template;break;case"footer":t.footerTemplate=i.template}})}},{key:"ngAfterViewInit",value:function(){this.overlayVisible&&this.show()}},{key:"ngAfterViewChecked",value:function(){this.filtered&&(this.alignOverlay(),this.filtered=!1)}},{key:"getOptionLabel",value:function(t){return this.optionLabel?E.gb.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}},{key:"getOptionValue",value:function(t){return this.optionValue?E.gb.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}},{key:"getOptionGroupLabel",value:function(t){return this.optionGroupLabel?E.gb.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}},{key:"getOptionGroupChildren",value:function(t){return this.optionGroupChildren?E.gb.resolveFieldData(t,this.optionGroupChildren):t.items}},{key:"isOptionDisabled",value:function(t){return(this.optionDisabled?E.gb.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled)||this.maxSelectionLimitReached&&!this.isSelected(t)}},{key:"writeValue",value:function(t){this.value=t,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}},{key:"checkSelectionLimit",value:function(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}},{key:"updateFilledState",value:function(){this.filled=this.value&&this.value.length>0}},{key:"registerOnChange",value:function(t){this.onModelChange=t}},{key:"registerOnTouched",value:function(t){this.onModelTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this.cd.markForCheck()}},{key:"onOptionClick",value:function(t){var i=t.option;if(!this.isOptionDisabled(i)){var o=this.getOptionValue(i),s=this.findSelectionIndex(o);-1!=s?(this.value=this.value.filter(function(l,u){return u!=s}),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[].concat((0,W.Z)(this.value||[]),[o])),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:t.originalEvent,value:this.value,itemValue:o}),this.updateLabel(),this.updateFilledState()}}},{key:"isSelected",value:function(t){return-1!=this.findSelectionIndex(this.getOptionValue(t))}},{key:"findSelectionIndex",value:function(t){var i=-1;if(this.value)for(var o=0;o<this.value.length;o++)if(E.gb.equals(this.value[o],t,this.dataKey)){i=o;break}return i}},{key:"toggleAllDisabled",get:function(){var t=this.optionsToRender;if(!t||0===t.length)return!0;var o,i=(0,V.Z)(t);try{for(i.s();!(o=i.n()).done;)if(!this.isOptionDisabled(o.value))return!1}catch(l){i.e(l)}finally{i.f()}return!0}},{key:"toggleAll",value:function(t){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateFilledState(),this.updateLabel(),t.preventDefault())}},{key:"checkAll",value:function(){var t=this,o=[];this.optionsToRender.forEach(function(s){if(t.group){var u=t.getOptionGroupChildren(s);u&&u.forEach(function(c){var d=t.isOptionDisabled(c);(!d||d&&t.isSelected(c))&&o.push(t.getOptionValue(c))})}else{var l=t.isOptionDisabled(s);(!l||l&&t.isSelected(s))&&o.push(t.getOptionValue(s))}}),this.value=o}},{key:"uncheckAll",value:function(){var t=this,o=[];this.optionsToRender.forEach(function(s){t.group?s.items&&s.items.forEach(function(u){t.isOptionDisabled(u)&&t.isSelected(u)&&o.push(t.getOptionValue(u))}):t.isOptionDisabled(s)&&t.isSelected(s)&&o.push(t.getOptionValue(s))}),this.value=o}},{key:"show",value:function(){this.overlayVisible||(this.overlayVisible=!0)}},{key:"onOverlayClick",value:function(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}},{key:"onOverlayAnimationStart",value:function(t){switch(t.toState){case"visible":this.overlay=t.element,this.appendOverlay(),this.autoZIndex&&E.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onOverlayHide()}}},{key:"onOverlayAnimationEnd",value:function(t){"void"===t.toState&&E.P9.clear(t.element)}},{key:"appendOverlay",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):k.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=k.p.getWidth(this.containerViewChild.nativeElement)+"px"))}},{key:"restoreOverlayAppend",value:function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}},{key:"alignOverlay",value:function(){this.overlay&&(this.appendTo?k.p.absolutePosition(this.overlay,this.containerViewChild.nativeElement):k.p.relativePosition(this.overlay,this.containerViewChild.nativeElement))}},{key:"hide",value:function(){this.overlayVisible=!1,this.unbindDocumentClickListener(),this.resetFilterOnHide&&(this.filterInputChild.nativeElement.value="",this._filterValue=null,this._filteredOptions=null),this.onPanelHide.emit(),this.cd.markForCheck()}},{key:"close",value:function(t){this.hide(),t.preventDefault(),t.stopPropagation()}},{key:"onMouseclick",value:function(t,i){this.disabled||this.readonly||t.target.isSameNode(this.accessibleViewChild.nativeElement)||(this.onClick.emit(t),!this.isOverlayClick(t)&&!k.p.hasClass(t.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():(i.focus(),this.show())))}},{key:"removeChip",value:function(t,i){var o=this;this.value=this.value.filter(function(s){return!E.gb.equals(s,t,o.dataKey)}),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:i,value:this.value,itemValue:t}),this.updateLabel(),this.updateFilledState()}},{key:"isOverlayClick",value:function(t){var i=t.target;return!!this.overlay&&(this.overlay.isSameNode(i)||this.overlay.contains(i))}},{key:"isOutsideClicked",value:function(t){return!(this.el.nativeElement.isSameNode(t.target)||this.el.nativeElement.contains(t.target)||this.isOverlayClick(t))}},{key:"onInputFocus",value:function(t){this.focus=!0,this.onFocus.emit({originalEvent:t})}},{key:"onInputBlur",value:function(t){this.focus=!1,this.onBlur.emit({originalEvent:t}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}},{key:"onOptionKeydown",value:function(t){if(!this.readonly)switch(t.originalEvent.which){case 40:var i=this.findNextItem(t.originalEvent.target.parentElement);i&&i.focus(),t.originalEvent.preventDefault();break;case 38:var o=this.findPrevItem(t.originalEvent.target.parentElement);o&&o.focus(),t.originalEvent.preventDefault();break;case 13:this.onOptionClick(t),t.originalEvent.preventDefault()}}},{key:"findNextItem",value:function(t){var i=t.nextElementSibling;return i?k.p.hasClass(i.children[0],"p-disabled")||k.p.isHidden(i.children[0])||k.p.hasClass(i,"p-multiselect-item-group")?this.findNextItem(i):i.children[0]:null}},{key:"findPrevItem",value:function(t){var i=t.previousElementSibling;return i?k.p.hasClass(i.children[0],"p-disabled")||k.p.isHidden(i.children[0])||k.p.hasClass(i,"p-multiselect-item-group")?this.findPrevItem(i):i.children[0]:null}},{key:"onKeydown",value:function(t){switch(t.which){case 40:!this.overlayVisible&&t.altKey&&(this.show(),t.preventDefault());break;case 32:this.overlayVisible||(this.show(),t.preventDefault());break;case 27:this.hide()}}},{key:"updateLabel",value:function(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){for(var t="",i=0;i<this.value.length;i++){var o=this.findLabelByValue(this.value[i]);o&&(t.length>0&&(t+=", "),t+=o)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=t;else{var s=/{(.*?)}/;this.valuesAsString=s.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(s)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}},{key:"findLabelByValue",value:function(t){if(this.group){for(var i=null,o=0;o<this.options.length;o++){var s=this.getOptionGroupChildren(this.options[o]);if(s&&(i=this.searchLabelByValue(t,s)))break}return i}return this.searchLabelByValue(t,this.options)}},{key:"searchLabelByValue",value:function(t,i){for(var o=null,s=0;s<i.length;s++){var l=i[s],u=this.getOptionValue(l);if(null==t&&null==u||E.gb.equals(t,u,this.dataKey)){o=this.getOptionLabel(l);break}}return o}},{key:"allChecked",get:function(){var t=this.optionsToRender;if(!t||0===t.length)return!1;var c,i=0,o=0,s=0,l=this.group?0:this.optionsToRender.length,u=(0,V.Z)(t);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(this.group){var f,h=(0,V.Z)(this.getOptionGroupChildren(d));try{for(h.s();!(f=h.n()).done;){var m=f.value,v=this.isOptionDisabled(m),b=this.isSelected(m);if(v)b?i++:o++;else{if(!b)return!1;s++}l++}}catch(y){h.e(y)}finally{h.f()}}else{var p=this.isOptionDisabled(d),g=this.isSelected(d);if(p)g?i++:o++;else{if(!g)return!1;s++}}}}catch(y){u.e(y)}finally{u.f()}return l===i||l===s||s&&l===s+o+i}},{key:"optionsToRender",get:function(){return this._filteredOptions||this.options}},{key:"emptyOptions",get:function(){var t=this.optionsToRender;return!t||0===t.length}},{key:"emptyMessageLabel",get:function(){return this.emptyMessage||this.config.getTranslation(D.ws.EMPTY_MESSAGE)}},{key:"emptyFilterMessageLabel",get:function(){return this.emptyFilterMessage||this.config.getTranslation(D.ws.EMPTY_FILTER_MESSAGE)}},{key:"hasFilter",value:function(){return this._filterValue&&this._filterValue.trim().length>0}},{key:"onFilterInputChange",value:function(t){this._filterValue=t.target.value,this.activateFilter(),this.onFilter.emit({originalEvent:t,filter:this._filterValue}),this.cd.detectChanges(),this.alignOverlay()}},{key:"activateFilter",value:function(){if(this.hasFilter()&&this._options){var t=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){var l,i=(this.optionLabel||"label").split(","),o=[],s=(0,V.Z)(this.options);try{for(s.s();!(l=s.n()).done;){var u=l.value,c=this.filterService.filter(this.getOptionGroupChildren(u),i,this.filterValue,this.filterMatchMode,this.filterLocale);c&&c.length&&o.push(Object.assign(Object.assign({},u),(0,Ze.Z)({},this.optionGroupChildren,c)))}}catch(d){s.e(d)}finally{s.f()}this._filteredOptions=o}else this._filteredOptions=this.filterService.filter(this.options,t,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}},{key:"onHeaderCheckboxFocus",value:function(){this.headerCheckboxFocus=!0}},{key:"onHeaderCheckboxBlur",value:function(){this.headerCheckboxFocus=!1}},{key:"bindDocumentClickListener",value:function(){var t=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",function(o){t.isOutsideClicked(o)&&t.hide()}))}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}},{key:"bindDocumentResizeListener",value:function(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"onWindowResize",value:function(){k.p.isAndroid()||this.hide()}},{key:"bindScrollListener",value:function(){var t=this;this.scrollHandler||(this.scrollHandler=new k.V(this.containerViewChild.nativeElement,function(){t.overlayVisible&&t.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"onOverlayHide",value:function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onModelTouched()}},{key:"ngOnDestroy",value:function(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&E.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(D.iZ),e.Y36(D.b4),e.Y36(D.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-multiSelect"]],contentQueries:function(n,t,i){var o;1&n&&(e.Suo(i,D.$_,5),e.Suo(i,D.h4,5),e.Suo(i,D.jx,4)),2&n&&(e.iGM(o=e.CRH())&&(t.footerFacet=o.first),e.iGM(o=e.CRH())&&(t.headerFacet=o.first),e.iGM(o=e.CRH())&&(t.templates=o))},viewQuery:function(n,t){var i;1&n&&(e.Gf(Du,5),e.Gf(Mu,5),e.Gf(Ru,5)),2&n&&(e.iGM(i=e.CRH())&&(t.containerViewChild=i.first),e.iGM(i=e.CRH())&&(t.filterInputChild=i.first),e.iGM(i=e.CRH())&&(t.accessibleViewChild=i.first))},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(n,t){2&n&&e.ekj("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focus||t.overlayVisible)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:"selectionLimit",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",filterBy:"filterBy",virtualScroll:"virtualScroll",itemSize:"itemSize",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",scrollHeight:"scrollHeight",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide"},features:[e._Bn([kc])],ngContentSelectors:Zc,decls:12,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[1,"p-multiselect-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","keydown","click",4,"ngIf"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],["class","p-multiselect-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-multiselect-token-icon","pi","pi-times-circle",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","keydown","click"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["itemslist",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngTemplateOutlet"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link",3,"click"],[1,"p-multiselect-close-icon","pi","pi-times"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],[1,"p-multiselect-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["class","p-multiselect-empty-message",4,"ngIf"],[3,"option","selected","label","disabled","template","onClick","onKeydown"],[3,"ngStyle","itemSize",4,"ngIf"],[3,"ngStyle","itemSize"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"option","selected","label","disabled","template","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(n,t){if(1&n){var i=e.EpF();e.F$t(yc),e.TgZ(0,"div",0,1),e.NdJ("click",function(s){e.CHM(i);var l=e.MAs(4);return t.onMouseclick(s,l)}),e.TgZ(2,"div",2),e.TgZ(3,"input",3,4),e.NdJ("focus",function(s){return t.onInputFocus(s)})("blur",function(s){return t.onInputBlur(s)})("keydown",function(s){return t.onKeydown(s)}),e.qZA(),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.YNc(7,Nu,3,2,"ng-container",7),e.YNc(8,Lu,1,0,"ng-container",8),e.qZA(),e.qZA(),e.TgZ(9,"div",9),e._UZ(10,"span",10),e.qZA(),e.YNc(11,bc,9,20,"div",11),e.qZA()}2&n&&(e.Tol(t.styleClass),e.Q6J("ngClass",e.l5B(21,_c,t.overlayVisible,"chip"===t.display,t.focus,t.disabled))("ngStyle",t.style),e.xp6(3),e.Q6J("disabled",t.disabled),e.uIk("id",t.inputId)("name",t.name)("tabindex",t.tabindex)("aria-expanded",t.overlayVisible)("aria-labelledby",t.ariaLabelledBy),e.xp6(2),e.Q6J("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),e.xp6(1),e.Q6J("ngClass",e.WLB(26,Tc,t.valuesAsString===(t.defaultLabel||t.placeholder),!(null!=t.valuesAsString&&0!==t.valuesAsString.length||null!=t.placeholder&&0!==t.placeholder.length))),e.xp6(1),e.Q6J("ngIf",!t.selectedItemsTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.selectedItemsTemplate)("ngTemplateOutletContext",e.VKq(29,pn,t.value)),e.xp6(1),e.Q6J("ngClass",e.DdM(31,Cc)),e.xp6(1),e.Q6J("ngClass",t.dropdownIcon),e.xp6(1),e.Q6J("ngIf",t.overlayVisible))},directives:[I.mk,I.PC,dn.u,I.O5,I.tP,I.sg,je.H,Sc,Ne.N7,Ne.xd,Ne.x0],styles:[".p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect .p-multiselect-panel{min-width:100%}.p-multiselect-panel{position:absolute;top:0;left:0}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}"],encapsulation:2,data:{animation:[(0,J.X$)("overlayAnimation",[(0,J.eR)(":enter",[(0,J.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,J.jt)("{{showTransitionParams}}")]),(0,J.eR)(":leave",[(0,J.jt)("{{hideTransitionParams}}",(0,J.oB)({opacity:0}))])])]},changeDetection:0}),r}(),Ac=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez,D.m8,Ne.Cl,dn.z,je.T],D.m8,Ne.Cl]}),r}(),$=X(6726),wc=["container"],xc=["inputfield"],Oc=["contentWrapper"];function qc(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(o){e.CHM(n),e.oxw();var s=e.MAs(1);return e.oxw().onButtonClick(o,s)}),e.qZA()}if(2&r){var t=e.oxw(2);e.Q6J("icon",t.icon)("disabled",t.disabled),e.uIk("aria-label",t.iconAriaLabel)}}function Dc(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"input",4,5),e.NdJ("focus",function(o){return e.CHM(n),e.oxw().onInputFocus(o)})("keydown",function(o){return e.CHM(n),e.oxw().onInputKeydown(o)})("click",function(){return e.CHM(n),e.oxw().onInputClick()})("blur",function(o){return e.CHM(n),e.oxw().onInputBlur(o)})("input",function(o){return e.CHM(n),e.oxw().onUserInput(o)}),e.qZA(),e.YNc(2,qc,1,3,"button",6)}if(2&r){var t=e.oxw();e.Tol(t.inputStyleClass),e.Q6J("value",t.inputFieldValue)("readonly",t.readonlyInput)("ngStyle",t.inputStyle)("placeholder",t.placeholder||"")("disabled",t.disabled)("ngClass","p-inputtext p-component"),e.uIk("id",t.inputId)("name",t.name)("required",t.required)("aria-required",t.required)("tabindex",t.tabindex)("inputmode",t.touchUI?"off":null)("aria-labelledby",t.ariaLabelledBy),e.xp6(2),e.Q6J("ngIf",t.showIcon)}}function Mc(r,a){1&r&&e.GkF(0)}function Rc(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"button",27),e.NdJ("keydown",function(i){return e.CHM(n),e.oxw(4).onContainerButtonKeydown(i)})("click",function(i){return e.CHM(n),e.oxw(4).onPrevButtonClick(i)}),e._UZ(1,"span",28),e.qZA()}}function Ic(r,a){if(1&r&&(e.TgZ(0,"span",29),e._uU(1),e.qZA()),2&r){var n=e.oxw().$implicit,t=e.oxw(3);e.xp6(1),e.Oqu(t.getTranslation("monthNames")[n.month])}}function Uc(r,a){if(1&r&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&r){var n=a.$implicit,t=a.index,i=e.oxw(2).$implicit;e.Q6J("value",t)("selected",t===i.month),e.xp6(1),e.Oqu(n)}}function Pc(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"select",30),e.NdJ("change",function(o){return e.CHM(n),e.oxw(4).onMonthDropdownChange(o.target.value)}),e.YNc(1,Uc,2,3,"option",31),e.qZA()}if(2&r){var t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.getTranslation("monthNames"))}}function Ec(r,a){if(1&r&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&r){var n=a.$implicit,t=e.oxw(5);e.Q6J("value",n)("selected",n===t.currentYear),e.xp6(1),e.Oqu(n)}}function Bc(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"select",33),e.NdJ("change",function(o){return e.CHM(n),e.oxw(4).onYearDropdownChange(o.target.value)}),e.YNc(1,Ec,2,3,"option",31),e.qZA()}if(2&r){var t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.yearOptions)}}function Nc(r,a){if(1&r&&(e.TgZ(0,"span",34),e._uU(1),e.qZA()),2&r){var n=e.oxw().$implicit,t=e.oxw(3);e.xp6(1),e.Oqu("month"===t.view?t.currentYear:n.year)}}function Lc(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"button",35),e.NdJ("keydown",function(i){return e.CHM(n),e.oxw(4).onContainerButtonKeydown(i)})("click",function(i){return e.CHM(n),e.oxw(4).onNextButtonClick(i)}),e._UZ(1,"span",36),e.qZA()}}function Fc(r,a){if(1&r&&(e.TgZ(0,"th",42),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.qZA()),2&r){var n=e.oxw(5);e.xp6(2),e.Oqu(n.getTranslation("weekHeader"))}}function zc(r,a){if(1&r&&(e.TgZ(0,"th",43),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n)}}function Hc(r,a){if(1&r&&(e.TgZ(0,"td",46),e.TgZ(1,"span",47),e._uU(2),e.qZA(),e.qZA()),2&r){var n=e.oxw().index,t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",t.weekNumbers[n]," ")}}function Vc(r,a){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){var n=e.oxw(2).$implicit;e.xp6(1),e.Oqu(n.day)}}function Jc(r,a){1&r&&e.GkF(0)}var Qr=function(a,n){return{"p-highlight":a,"p-disabled":n}},Yc=function(a){return{$implicit:a}};function Qc(r,a){if(1&r){var n=e.EpF();e.ynx(0),e.TgZ(1,"span",49),e.NdJ("click",function(s){e.CHM(n);var l=e.oxw().$implicit;return e.oxw(6).onDateSelect(s,l)})("keydown",function(s){e.CHM(n);var l=e.oxw().$implicit,u=e.oxw(3).index;return e.oxw(3).onDateCellKeydown(s,l,u)}),e.YNc(2,Vc,2,1,"ng-container",11),e.YNc(3,Jc,1,0,"ng-container",50),e.qZA(),e.BQk()}if(2&r){var t=e.oxw().$implicit,i=e.oxw(6);e.xp6(1),e.Q6J("ngClass",e.WLB(4,Qr,i.isSelected(t),!t.selectable)),e.xp6(1),e.Q6J("ngIf",!i.dateTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",e.VKq(7,Yc,t))}}var Kc=function(a,n){return{"p-datepicker-other-month":a,"p-datepicker-today":n}};function $c(r,a){if(1&r&&(e.TgZ(0,"td",48),e.YNc(1,Qc,4,9,"ng-container",11),e.qZA()),2&r){var n=a.$implicit,t=e.oxw(6);e.Q6J("ngClass",e.WLB(2,Kc,n.otherMonth,n.today)),e.xp6(1),e.Q6J("ngIf",!n.otherMonth||t.showOtherMonths)}}function Gc(r,a){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Hc,3,1,"td",44),e.YNc(2,$c,2,5,"td",45),e.qZA()),2&r){var n=a.$implicit,t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",t.showWeek),e.xp6(1),e.Q6J("ngForOf",n)}}function Wc(r,a){if(1&r&&(e.TgZ(0,"div",37),e.TgZ(1,"table",38),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.YNc(4,Fc,3,1,"th",39),e.YNc(5,zc,3,1,"th",40),e.qZA(),e.qZA(),e.TgZ(6,"tbody"),e.YNc(7,Gc,3,2,"tr",41),e.qZA(),e.qZA(),e.qZA()),2&r){var n=e.oxw().$implicit,t=e.oxw(3);e.xp6(4),e.Q6J("ngIf",t.showWeek),e.xp6(1),e.Q6J("ngForOf",t.weekDays),e.xp6(2),e.Q6J("ngForOf",n.dates)}}function jc(r,a){if(1&r&&(e.TgZ(0,"div",17),e.TgZ(1,"div",18),e.YNc(2,Rc,2,0,"button",19),e.TgZ(3,"div",20),e.YNc(4,Ic,2,1,"span",21),e.YNc(5,Pc,2,1,"select",22),e.YNc(6,Bc,2,1,"select",23),e.YNc(7,Nc,2,1,"span",24),e.qZA(),e.YNc(8,Lc,2,0,"button",25),e.qZA(),e.YNc(9,Wc,8,3,"div",26),e.qZA()),2&r){var n=a.index,t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",0===n),e.xp6(2),e.Q6J("ngIf",!t.monthNavigator&&"month"!==t.view),e.xp6(1),e.Q6J("ngIf",t.monthNavigator&&"month"!==t.view&&1===t.numberOfMonths),e.xp6(1),e.Q6J("ngIf",t.yearNavigator&&1===t.numberOfMonths),e.xp6(1),e.Q6J("ngIf",!t.yearNavigator),e.xp6(1),e.Q6J("ngIf",1===t.numberOfMonths||n===t.numberOfMonths-1),e.xp6(1),e.Q6J("ngIf","date"===t.view)}}function Xc(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"span",53),e.NdJ("click",function(l){var c=e.CHM(n).index;return e.oxw(4).onMonthSelect(l,c)})("keydown",function(l){var c=e.CHM(n).index;return e.oxw(4).onMonthCellKeydown(l,c)}),e._uU(1),e.qZA()}if(2&r){var t=a.$implicit,i=a.index,o=e.oxw(4);e.Q6J("ngClass",e.WLB(2,Qr,o.isMonthSelected(i),!o.isSelectable(1,i,o.currentYear,!1))),e.xp6(1),e.hij(" ",t," ")}}function ed(r,a){if(1&r&&(e.TgZ(0,"div",51),e.YNc(1,Xc,2,5,"span",52),e.qZA()),2&r){var n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",n.monthPickerValues)}}function td(r,a){if(1&r&&(e.ynx(0),e.TgZ(1,"div",14),e.YNc(2,jc,10,7,"div",15),e.qZA(),e.YNc(3,ed,2,1,"div",16),e.BQk()),2&r){var n=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",n.months),e.xp6(1),e.Q6J("ngIf","month"===n.view)}}function nd(r,a){1&r&&(e.ynx(0),e._uU(1,"0"),e.BQk())}function ad(r,a){1&r&&(e.ynx(0),e._uU(1,"0"),e.BQk())}function id(r,a){if(1&r&&(e.TgZ(0,"div",59),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.qZA()),2&r){var n=e.oxw(3);e.xp6(2),e.Oqu(n.timeSeparator)}}function rd(r,a){1&r&&(e.ynx(0),e._uU(1,"0"),e.BQk())}function od(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",64),e.TgZ(1,"button",56),e.NdJ("keydown",function(o){return e.CHM(n),e.oxw(3).onContainerButtonKeydown(o)})("keydown.enter",function(o){return e.CHM(n),e.oxw(3).incrementSecond(o)})("mousedown",function(o){return e.CHM(n),e.oxw(3).onTimePickerElementMouseDown(o,2,1)})("mouseup",function(o){return e.CHM(n),e.oxw(3).onTimePickerElementMouseUp(o)})("mouseleave",function(){return e.CHM(n),e.oxw(3).onTimePickerElementMouseLeave()}),e._UZ(2,"span",57),e.qZA(),e.TgZ(3,"span"),e.YNc(4,rd,2,0,"ng-container",11),e._uU(5),e.qZA(),e.TgZ(6,"button",56),e.NdJ("keydown",function(o){return e.CHM(n),e.oxw(3).onContainerButtonKeydown(o)})("keydown.enter",function(o){return e.CHM(n),e.oxw(3).decrementSecond(o)})("mousedown",function(o){return e.CHM(n),e.oxw(3).onTimePickerElementMouseDown(o,2,-1)})("mouseup",function(o){return e.CHM(n),e.oxw(3).onTimePickerElementMouseUp(o)})("mouseleave",function(){return e.CHM(n),e.oxw(3).onTimePickerElementMouseLeave()}),e._UZ(7,"span",58),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(3);e.xp6(4),e.Q6J("ngIf",t.currentSecond<10),e.xp6(1),e.Oqu(t.currentSecond)}}function sd(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",65),e.TgZ(1,"button",66),e.NdJ("keydown",function(o){return e.CHM(n),e.oxw(3).onContainerButtonKeydown(o)})("click",function(o){return e.CHM(n),e.oxw(3).toggleAMPM(o)})("keydown.enter",function(o){return e.CHM(n),e.oxw(3).toggleAMPM(o)}),e._UZ(2,"span",57),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"button",66),e.NdJ("keydown",function(o){return e.CHM(n),e.oxw(3).onContainerButtonKeydown(o)})("click",function(o){return e.CHM(n),e.oxw(3).toggleAMPM(o)})("keydown.enter",function(o){return e.CHM(n),e.oxw(3).toggleAMPM(o)}),e._UZ(6,"span",58),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(3);e.xp6(4),e.Oqu(t.pm?"PM":"AM")}}function ld(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",54),e.TgZ(1,"div",55),e.TgZ(2,"button",56),e.NdJ("keydown",function(o){return e.CHM(n),e.oxw(2).onContainerButtonKeydown(o)})("keydown.enter",function(o){return e.CHM(n),e.oxw(2).incrementHour(o)})("mousedown",function(o){return e.CHM(n),e.oxw(2).onTimePickerElementMouseDown(o,0,1)})("mouseup",function(o){return e.CHM(n),e.oxw(2).onTimePickerElementMouseUp(o)})("mouseleave",function(){return e.CHM(n),e.oxw(2).onTimePickerElementMouseLeave()}),e._UZ(3,"span",57),e.qZA(),e.TgZ(4,"span"),e.YNc(5,nd,2,0,"ng-container",11),e._uU(6),e.qZA(),e.TgZ(7,"button",56),e.NdJ("keydown",function(o){return e.CHM(n),e.oxw(2).onContainerButtonKeydown(o)})("keydown.enter",function(o){return e.CHM(n),e.oxw(2).decrementHour(o)})("mousedown",function(o){return e.CHM(n),e.oxw(2).onTimePickerElementMouseDown(o,0,-1)})("mouseup",function(o){return e.CHM(n),e.oxw(2).onTimePickerElementMouseUp(o)})("mouseleave",function(){return e.CHM(n),e.oxw(2).onTimePickerElementMouseLeave()}),e._UZ(8,"span",58),e.qZA(),e.qZA(),e.TgZ(9,"div",59),e.TgZ(10,"span"),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"div",60),e.TgZ(13,"button",56),e.NdJ("keydown",function(o){return e.CHM(n),e.oxw(2).onContainerButtonKeydown(o)})("keydown.enter",function(o){return e.CHM(n),e.oxw(2).incrementMinute(o)})("mousedown",function(o){return e.CHM(n),e.oxw(2).onTimePickerElementMouseDown(o,1,1)})("mouseup",function(o){return e.CHM(n),e.oxw(2).onTimePickerElementMouseUp(o)})("mouseleave",function(){return e.CHM(n),e.oxw(2).onTimePickerElementMouseLeave()}),e._UZ(14,"span",57),e.qZA(),e.TgZ(15,"span"),e.YNc(16,ad,2,0,"ng-container",11),e._uU(17),e.qZA(),e.TgZ(18,"button",56),e.NdJ("keydown",function(o){return e.CHM(n),e.oxw(2).onContainerButtonKeydown(o)})("keydown.enter",function(o){return e.CHM(n),e.oxw(2).decrementMinute(o)})("mousedown",function(o){return e.CHM(n),e.oxw(2).onTimePickerElementMouseDown(o,1,-1)})("mouseup",function(o){return e.CHM(n),e.oxw(2).onTimePickerElementMouseUp(o)})("mouseleave",function(){return e.CHM(n),e.oxw(2).onTimePickerElementMouseLeave()}),e._UZ(19,"span",58),e.qZA(),e.qZA(),e.YNc(20,id,3,1,"div",61),e.YNc(21,od,8,2,"div",62),e.YNc(22,sd,7,1,"div",63),e.qZA()}if(2&r){var t=e.oxw(2);e.xp6(5),e.Q6J("ngIf",t.currentHour<10),e.xp6(1),e.Oqu(t.currentHour),e.xp6(5),e.Oqu(t.timeSeparator),e.xp6(5),e.Q6J("ngIf",t.currentMinute<10),e.xp6(1),e.Oqu(t.currentMinute),e.xp6(3),e.Q6J("ngIf",t.showSeconds),e.xp6(1),e.Q6J("ngIf",t.showSeconds),e.xp6(1),e.Q6J("ngIf","12"==t.hourFormat)}}var Kr=function(a){return[a]};function ud(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",67),e.TgZ(1,"button",68),e.NdJ("keydown",function(o){return e.CHM(n),e.oxw(2).onContainerButtonKeydown(o)})("click",function(o){return e.CHM(n),e.oxw(2).onTodayButtonClick(o)}),e.qZA(),e.TgZ(2,"button",68),e.NdJ("keydown",function(o){return e.CHM(n),e.oxw(2).onContainerButtonKeydown(o)})("click",function(o){return e.CHM(n),e.oxw(2).onClearButtonClick(o)}),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(2);e.xp6(1),e.Q6J("label",t.getTranslation("today"))("ngClass",e.VKq(4,Kr,t.todayButtonStyleClass)),e.xp6(1),e.Q6J("label",t.getTranslation("clear"))("ngClass",e.VKq(6,Kr,t.clearButtonStyleClass))}}function cd(r,a){1&r&&e.GkF(0)}var dd=function(a,n,t,i,o,s){return{"p-datepicker p-component":!0,"p-datepicker-inline":a,"p-disabled":n,"p-datepicker-timeonly":t,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":o,"p-datepicker-touch-ui":s}},$r=function(a,n){return{showTransitionParams:a,hideTransitionParams:n}},pd=function(a){return{value:"visibleTouchUI",params:a}},gd=function(a){return{value:"visible",params:a}};function hd(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",8,9),e.NdJ("@overlayAnimation.start",function(o){return e.CHM(n),e.oxw().onOverlayAnimationStart(o)})("@overlayAnimation.done",function(o){return e.CHM(n),e.oxw().onOverlayAnimationDone(o)})("click",function(o){return e.CHM(n),e.oxw().onOverlayClick(o)}),e.Hsn(2),e.YNc(3,Mc,1,0,"ng-container",10),e.YNc(4,td,4,2,"ng-container",11),e.YNc(5,ld,23,8,"div",12),e.YNc(6,ud,3,8,"div",13),e.Hsn(7,1),e.YNc(8,cd,1,0,"ng-container",10),e.qZA()}if(2&r){var t=e.oxw();e.Tol(t.panelStyleClass),e.Q6J("ngStyle",t.panelStyle)("ngClass",e.HTZ(11,dd,t.inline,t.disabled,t.timeOnly,t.numberOfMonths>1,"month"===t.view,t.touchUI))("@overlayAnimation",t.touchUI?e.VKq(21,pd,e.WLB(18,$r,t.showTransitionOptions,t.hideTransitionOptions)):e.VKq(26,gd,e.WLB(23,$r,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",!0===t.inline),e.xp6(3),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngIf",!t.timeOnly),e.xp6(1),e.Q6J("ngIf",t.showTime||t.timeOnly),e.xp6(1),e.Q6J("ngIf",t.showButtonBar),e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}var fd=[[["p-header"]],[["p-footer"]]],md=function(a,n,t,i){return{"p-calendar":!0,"p-calendar-w-btn":a,"p-calendar-timeonly":n,"p-calendar-disabled":t,"p-focus":i}},vd=["p-header","p-footer"],bd={provide:T.JU,useExisting:(0,e.Gpc)(function(){return hn}),multi:!0},hn=function(){var r=function(){function a(n,t,i,o,s,l){(0,M.Z)(this,a),this.el=n,this.renderer=t,this.cd=i,this.zone=o,this.config=s,this.overlayService=l,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.numberOfMonths=1,this.view="date",this.timeSeparator=":",this.focusTrap=!0,this.firstDayOfWeek=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onClose=new e.vpe,this.onSelect=new e.vpe,this.onInput=new e.vpe,this.onTodayClick=new e.vpe,this.onClearClick=new e.vpe,this.onMonthChange=new e.vpe,this.onYearChange=new e.vpe,this.onClickOutside=new e.vpe,this.onShow=new e.vpe,this.onModelChange=function(){},this.onModelTouched=function(){},this.inputFieldValue=null,this.navigationState=null,this.convertTo24Hour=function(u,c){return"12"==this.hourFormat?12===u?c?12:0:c?u+12:u:u}}return(0,R.Z)(a,[{key:"content",set:function(t){var i=this;this.contentViewChild=t,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(function(){return i.updateFocus()}),this.isMonthNavigate=!1):this.initFocusableCell())}},{key:"defaultDate",get:function(){return this._defaultDate},set:function(t){if(this._defaultDate=t,this.initialized){var i=t||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}},{key:"minDate",get:function(){return this._minDate},set:function(t){this._minDate=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}},{key:"maxDate",get:function(){return this._maxDate},set:function(t){this._maxDate=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}},{key:"disabledDates",get:function(){return this._disabledDates},set:function(t){this._disabledDates=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}},{key:"disabledDays",get:function(){return this._disabledDays},set:function(t){this._disabledDays=t,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}},{key:"yearRange",get:function(){return this._yearRange},set:function(t){if(this._yearRange=t,t){var i=t.split(":"),o=parseInt(i[0]),s=parseInt(i[1]);this.populateYearOptions(o,s)}}},{key:"showTime",get:function(){return this._showTime},set:function(t){this._showTime=t,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}},{key:"locale",get:function(){return this._locale},set:function(t){console.warn("Locale property has no effect, use new i18n API instead.")}},{key:"ngOnInit",value:function(){var t=this,i=this.defaultDate||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),"date"===this.view?(this.createWeekDays(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7):"month"===this.view&&this.createMonthPickerValues(),this.translationSubscription=this.config.translationObserver.subscribe(function(){t.createWeekDays()}),this.initialized=!0}},{key:"ngAfterContentInit",value:function(){var t=this;this.templates.forEach(function(i){switch(i.getType()){case"date":default:t.dateTemplate=i.template;break;case"disabledDate":t.disabledDateTemplate=i.template;break;case"header":t.headerTemplate=i.template;break;case"footer":t.footerTemplate=i.template}})}},{key:"getTranslation",value:function(t){return this.config.getTranslation(t)}},{key:"populateYearOptions",value:function(t,i){this.yearOptions=[];for(var o=t;o<=i;o++)this.yearOptions.push(o)}},{key:"createWeekDays",value:function(){this.weekDays=[];for(var t=this.firstDayOfWeek,i=this.getTranslation(D.ws.DAY_NAMES_MIN),o=0;o<7;o++)this.weekDays.push(i[t]),t=6==t?0:++t}},{key:"createMonthPickerValues",value:function(){this.monthPickerValues=[];for(var t=this.getTranslation(D.ws.MONTH_NAMES_SHORT),i=0;i<=11;i++)this.monthPickerValues.push(t[i])}},{key:"createMonths",value:function(t,i){this.months=this.months=[];for(var o=0;o<this.numberOfMonths;o++){var s=t+o,l=i;s>11&&(s=s%11-1,l=i+1),this.months.push(this.createMonth(s,l))}}},{key:"getWeekNumber",value:function(t){var i=new Date(t.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));var o=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((o-i.getTime())/864e5)/7)+1}},{key:"createMonth",value:function(t,i){for(var o=[],s=this.getFirstDayOfMonthIndex(t,i),l=this.getDaysCountInMonth(t,i),u=this.getDaysCountInPrevMonth(t,i),c=1,d=new Date,p=[],g=Math.ceil((l+s)/7),h=0;h<g;h++){var f=[];if(0==h){for(var m=u-s+1;m<=u;m++){var v=this.getPreviousMonthAndYear(t,i);f.push({day:m,month:v.month,year:v.year,otherMonth:!0,today:this.isToday(d,m,v.month,v.year),selectable:this.isSelectable(m,v.month,v.year,!0)})}for(var b=7-f.length,y=0;y<b;y++)f.push({day:c,month:t,year:i,today:this.isToday(d,c,t,i),selectable:this.isSelectable(c,t,i,!1)}),c++}else for(var _=0;_<7;_++){if(c>l){var C=this.getNextMonthAndYear(t,i);f.push({day:c-l,month:C.month,year:C.year,otherMonth:!0,today:this.isToday(d,c-l,C.month,C.year),selectable:this.isSelectable(c-l,C.month,C.year,!0)})}else f.push({day:c,month:t,year:i,today:this.isToday(d,c,t,i),selectable:this.isSelectable(c,t,i,!1)});c++}this.showWeek&&p.push(this.getWeekNumber(new Date(f[0].year,f[0].month,f[0].day))),o.push(f)}return{month:t,year:i,dates:o,weekNumbers:p}}},{key:"initTime",value:function(t){this.pm=t.getHours()>11,this.showTime?(this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds(),this.setCurrentHourPM(t.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}},{key:"navBackward",value:function(t){var i=this;t.stopPropagation(),this.disabled?t.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.decrementYear(),setTimeout(function(){i.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}},{key:"navForward",value:function(t){var i=this;t.stopPropagation(),this.disabled?t.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.incrementYear(),setTimeout(function(){i.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}},{key:"decrementYear",value:function(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){var t=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-t,this.yearOptions[this.yearOptions.length-1]-t)}}},{key:"incrementYear",value:function(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){var t=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+t,this.yearOptions[this.yearOptions.length-1]+t)}}},{key:"onDateSelect",value:function(t,i){var o=this;!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter(function(s,l){return!o.isDateEquals(s,i)}),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(function(){t.preventDefault(),o.hideOverlay(),o.mask&&o.disableModality(),o.cd.markForCheck()},150),this.updateInputfield(),t.preventDefault()):t.preventDefault()}},{key:"shouldSelectDate",value:function(t){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}},{key:"onMonthSelect",value:function(t,i){k.p.hasClass(t.target,"p-disabled")||this.onDateSelect(t,{year:this.currentYear,month:i,day:1,selectable:!0})}},{key:"updateInputfield",value:function(){var t="";if(this.value)if(this.isSingleSelection())t=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(var i=0;i<this.value.length;i++)t+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(t+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){var l=this.value[1];t=this.formatDateTime(this.value[0]),l&&(t+=" "+this.rangeSeparator+" "+this.formatDateTime(l))}this.inputFieldValue=t,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}},{key:"formatDateTime",value:function(t){var i=null;return t&&(this.timeOnly?i=this.formatTime(t):(i=this.formatDate(t,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(t)))),i}},{key:"setCurrentHourPM",value:function(t){"12"==this.hourFormat?(this.pm=t>11,this.currentHour=t>=12?12==t?12:t-12:0==t?12:t):this.currentHour=t}},{key:"selectDate",value:function(t){var i=new Date(t.year,t.month,t.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(this.setCurrentHourPM((i=this.minDate).getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(this.setCurrentHourPM((i=this.maxDate).getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[].concat((0,W.Z)(this.value),[i]):[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){var o=this.value[0],s=this.value[1];!s&&i.getTime()>=o.getTime()?s=i:(o=i,s=null),this.updateModel([o,s])}else this.updateModel([i,null]);this.onSelect.emit(i)}},{key:"updateModel",value:function(t){var i=this;if(this.value=t,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{var o=null;this.value&&(o=this.value.map(function(s){return i.formatDateTime(s)})),this.onModelChange(o)}}},{key:"getFirstDayOfMonthIndex",value:function(t,i){var o=new Date;o.setDate(1),o.setMonth(t),o.setFullYear(i);var s=o.getDay()+this.getSundayIndex();return s>=7?s-7:s}},{key:"getDaysCountInMonth",value:function(t,i){return 32-this.daylightSavingAdjust(new Date(i,t,32)).getDate()}},{key:"getDaysCountInPrevMonth",value:function(t,i){var o=this.getPreviousMonthAndYear(t,i);return this.getDaysCountInMonth(o.month,o.year)}},{key:"getPreviousMonthAndYear",value:function(t,i){var o,s;return 0===t?(o=11,s=i-1):(o=t-1,s=i),{month:o,year:s}}},{key:"getNextMonthAndYear",value:function(t,i){var o,s;return 11===t?(o=0,s=i+1):(o=t+1,s=i),{month:o,year:s}}},{key:"getSundayIndex",value:function(){return this.firstDayOfWeek>0?7-this.firstDayOfWeek:0}},{key:"isSelected",value:function(t){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,t);if(this.isMultipleSelection()){var s,i=!1,o=(0,V.Z)(this.value);try{for(o.s();!(s=o.n()).done&&!(i=this.isDateEquals(s.value,t)););}catch(u){o.e(u)}finally{o.f()}return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],t)||this.isDateEquals(this.value[1],t)||this.isDateBetween(this.value[0],this.value[1],t):this.isDateEquals(this.value[0],t):void 0}},{key:"isMonthSelected",value:function(t){var i=this.value?Array.isArray(this.value)?this.value[0].getDate():this.value.getDate():1;return this.isSelected({year:this.currentYear,month:t,day:i,selectable:!0})}},{key:"isDateEquals",value:function(t,i){return!!t&&t.getDate()===i.day&&t.getMonth()===i.month&&t.getFullYear()===i.year}},{key:"isDateBetween",value:function(t,i,o){if(t&&i){var l=new Date(o.year,o.month,o.day);return t.getTime()<=l.getTime()&&i.getTime()>=l.getTime()}return!1}},{key:"isSingleSelection",value:function(){return"single"===this.selectionMode}},{key:"isRangeSelection",value:function(){return"range"===this.selectionMode}},{key:"isMultipleSelection",value:function(){return"multiple"===this.selectionMode}},{key:"isToday",value:function(t,i,o,s){return t.getDate()===i&&t.getMonth()===o&&t.getFullYear()===s}},{key:"isSelectable",value:function(t,i,o,s){var l=!0,u=!0,c=!0,d=!0;return!(s&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>o||this.minDate.getFullYear()===o&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>t))&&(l=!1),this.maxDate&&(this.maxDate.getFullYear()<o||this.maxDate.getFullYear()===o&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<t))&&(u=!1),this.disabledDates&&(c=!this.isDateDisabled(t,i,o)),this.disabledDays&&(d=!this.isDayDisabled(t,i,o)),l&&u&&c&&d)}},{key:"isDateDisabled",value:function(t,i,o){if(this.disabledDates){var l,s=(0,V.Z)(this.disabledDates);try{for(s.s();!(l=s.n()).done;){var u=l.value;if(u.getFullYear()===o&&u.getMonth()===i&&u.getDate()===t)return!0}}catch(c){s.e(c)}finally{s.f()}}return!1}},{key:"isDayDisabled",value:function(t,i,o){if(this.disabledDays){var l=new Date(o,i,t).getDay();return-1!==this.disabledDays.indexOf(l)}return!1}},{key:"onInputFocus",value:function(t){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(t)}},{key:"onInputClick",value:function(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}},{key:"onInputBlur",value:function(t){this.focus=!1,this.onBlur.emit(t),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}},{key:"onButtonClick",value:function(t,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}},{key:"onOverlayClick",value:function(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}},{key:"onPrevButtonClick",value:function(t){this.navigationState={backward:!0,button:!0},this.navBackward(t)}},{key:"onNextButtonClick",value:function(t){this.navigationState={backward:!1,button:!0},this.navForward(t)}},{key:"onContainerButtonKeydown",value:function(t){switch(t.which){case 9:this.inline||this.trapFocus(t);break;case 27:this.overlayVisible=!1,t.preventDefault()}}},{key:"onInputKeydown",value:function(t){this.isKeydown=!0,40===t.keyCode&&this.contentViewChild?this.trapFocus(t):27===t.keyCode||13===t.keyCode?this.overlayVisible&&(this.overlayVisible=!1,t.preventDefault()):9===t.keyCode&&this.contentViewChild&&(k.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(function(i){return i.tabIndex="-1"}),this.overlayVisible&&(this.overlayVisible=!1))}},{key:"onDateCellKeydown",value:function(t,i,o){var s=t.currentTarget,l=s.parentElement;switch(t.which){case 40:s.tabIndex="-1";var u=k.p.index(l),c=l.parentElement.nextElementSibling;c?k.p.hasClass(c.children[u].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(t)):(c.children[u].children[0].tabIndex="0",c.children[u].children[0].focus()):(this.navigationState={backward:!1},this.navForward(t)),t.preventDefault();break;case 38:s.tabIndex="-1";var p=k.p.index(l),g=l.parentElement.previousElementSibling;if(g){var h=g.children[p].children[0];k.p.hasClass(h,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(t)):(h.tabIndex="0",h.focus())}else this.navigationState={backward:!0},this.navBackward(t);t.preventDefault();break;case 37:s.tabIndex="-1";var f=l.previousElementSibling;if(f){var m=f.children[0];k.p.hasClass(m,"p-disabled")||k.p.hasClass(m.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,o):(m.tabIndex="0",m.focus())}else this.navigateToMonth(!0,o);t.preventDefault();break;case 39:s.tabIndex="-1";var v=l.nextElementSibling;if(v){var b=v.children[0];k.p.hasClass(b,"p-disabled")?this.navigateToMonth(!1,o):(b.tabIndex="0",b.focus())}else this.navigateToMonth(!1,o);t.preventDefault();break;case 13:this.onDateSelect(t,i),t.preventDefault();break;case 27:this.overlayVisible=!1,t.preventDefault();break;case 9:this.inline||this.trapFocus(t)}}},{key:"onMonthCellKeydown",value:function(t,i){var o=t.currentTarget;switch(t.which){case 38:case 40:o.tabIndex="-1";var s=o.parentElement.children,l=k.p.index(o),u=s[40===t.which?l+3:l-3];u&&(u.tabIndex="0",u.focus()),t.preventDefault();break;case 37:o.tabIndex="-1";var c=o.previousElementSibling;c&&(c.tabIndex="0",c.focus()),t.preventDefault();break;case 39:o.tabIndex="-1";var d=o.nextElementSibling;d&&(d.tabIndex="0",d.focus()),t.preventDefault();break;case 13:this.onMonthSelect(t,i),t.preventDefault();break;case 27:this.overlayVisible=!1,t.preventDefault();break;case 9:this.inline||this.trapFocus(t)}}},{key:"navigateToMonth",value:function(t,i){if(t)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{var s=k.p.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),l=s[s.length-1];l.tabIndex="0",l.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{var c=k.p.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");c.tabIndex="0",c.focus()}}},{key:"updateFocus",value:function(){var t;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?k.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():k.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){var i=k.p.find(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t=i[i.length-1]}else t=k.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");t&&(t.tabIndex="0",t.focus())}this.navigationState=null}else this.initFocusableCell()}},{key:"initFocusableCell",value:function(){var t;if("month"===this.view){var i=k.p.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),o=k.p.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");i.forEach(function(u){return u.tabIndex=-1}),t=o||i[0],0===i.length&&k.p.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(function(u){return u.tabIndex=-1})}else if(!(t=k.p.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"))){t=k.p.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)")||k.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}t&&(t.tabIndex="0")}},{key:"trapFocus",value:function(t){var i=k.p.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){var o=i.indexOf(i[0].ownerDocument.activeElement);if(t.shiftKey)if(-1==o||0===o)if(this.focusTrap)i[i.length-1].focus();else{if(-1===o)return this.hideOverlay();if(0===o)return}else i[o-1].focus();else if(-1==o||o===i.length-1){if(!this.focusTrap&&-1!=o)return this.hideOverlay();i[0].focus()}else i[o+1].focus()}else i[0].focus();t.preventDefault()}},{key:"onMonthDropdownChange",value:function(t){this.currentMonth=parseInt(t),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}},{key:"onYearDropdownChange",value:function(t){this.currentYear=parseInt(t),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}},{key:"validateTime",value:function(t,i,o,s){var l=this.value,u=this.convertTo24Hour(t,s);this.isRangeSelection()&&(l=this.value[1]||this.value[0]),this.isMultipleSelection()&&(l=this.value[this.value.length-1]);var c=l?l.toDateString():null;return!(this.minDate&&c&&this.minDate.toDateString()===c&&(this.minDate.getHours()>u||this.minDate.getHours()===u&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>o))||this.maxDate&&c&&this.maxDate.toDateString()===c&&(this.maxDate.getHours()<u||this.maxDate.getHours()===u&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<o)))}},{key:"incrementHour",value:function(t){var o=this.currentHour+this.stepHour,s=this.pm;"24"==this.hourFormat?o=o>=24?o-24:o:"12"==this.hourFormat&&(this.currentHour<12&&o>11&&(s=!this.pm),o=o>=13?o-12:o),this.validateTime(o,this.currentMinute,this.currentSecond,s)&&(this.currentHour=o,this.pm=s),t.preventDefault()}},{key:"onTimePickerElementMouseDown",value:function(t,i,o){this.disabled||(this.repeat(t,null,i,o),t.preventDefault())}},{key:"onTimePickerElementMouseUp",value:function(t){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}},{key:"onTimePickerElementMouseLeave",value:function(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}},{key:"repeat",value:function(t,i,o,s){var l=this,u=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(function(){l.repeat(t,100,o,s),l.cd.markForCheck()},u),o){case 0:1===s?this.incrementHour(t):this.decrementHour(t);break;case 1:1===s?this.incrementMinute(t):this.decrementMinute(t);break;case 2:1===s?this.incrementSecond(t):this.decrementSecond(t)}this.updateInputfield()}},{key:"clearTimePickerTimer",value:function(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}},{key:"decrementHour",value:function(t){var i=this.currentHour-this.stepHour,o=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(o=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,o)&&(this.currentHour=i,this.pm=o),t.preventDefault()}},{key:"incrementMinute",value:function(t){var i=this.currentMinute+this.stepMinute;this.validateTime(this.currentHour,i=i>59?i-60:i,this.currentSecond,this.pm)&&(this.currentMinute=i),t.preventDefault()}},{key:"decrementMinute",value:function(t){var i=this.currentMinute-this.stepMinute;this.validateTime(this.currentHour,i=i<0?60+i:i,this.currentSecond,this.pm)&&(this.currentMinute=i),t.preventDefault()}},{key:"incrementSecond",value:function(t){var i=this.currentSecond+this.stepSecond;this.validateTime(this.currentHour,this.currentMinute,i=i>59?i-60:i,this.pm)&&(this.currentSecond=i),t.preventDefault()}},{key:"decrementSecond",value:function(t){var i=this.currentSecond-this.stepSecond;this.validateTime(this.currentHour,this.currentMinute,i=i<0?60+i:i,this.pm)&&(this.currentSecond=i),t.preventDefault()}},{key:"updateTime",value:function(){var t=this.value;this.isRangeSelection()&&(t=this.value[1]||this.value[0]),this.isMultipleSelection()&&(t=this.value[this.value.length-1]),(t=t?new Date(t.getTime()):new Date).setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond),this.isRangeSelection()&&(t=this.value[1]?[this.value[0],t]:[t,null]),this.isMultipleSelection()&&(t=[].concat((0,W.Z)(this.value.slice(0,-1)),[t])),this.updateModel(t),this.onSelect.emit(t),this.updateInputfield()}},{key:"toggleAMPM",value:function(t){var i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),t.preventDefault()}},{key:"onUserInput",value:function(t){if(this.isKeydown){this.isKeydown=!1;var i=t.target.value;try{var o=this.parseValueFromString(i);this.isValidSelection(o)&&(this.updateModel(o),this.updateUI())}catch(s){this.updateModel(null)}this.filled=null!=i&&i.length,this.onInput.emit(t)}}},{key:"isValidSelection",value:function(t){var i=this,o=!0;return this.isSingleSelection()?this.isSelectable(t.getDate(),t.getMonth(),t.getFullYear(),!1)||(o=!1):t.every(function(s){return i.isSelectable(s.getDate(),s.getMonth(),s.getFullYear(),!1)})&&this.isRangeSelection()&&(o=t.length>1&&t[1]>t[0]),o}},{key:"parseValueFromString",value:function(t){if(!t||0===t.trim().length)return null;var i;if(this.isSingleSelection())i=this.parseDateTime(t);else if(this.isMultipleSelection()){var o=t.split(this.multipleSeparator);i=[];var l,s=(0,V.Z)(o);try{for(s.s();!(l=s.n()).done;)i.push(this.parseDateTime(l.value.trim()))}catch(p){s.e(p)}finally{s.f()}}else if(this.isRangeSelection()){var c=t.split(" "+this.rangeSeparator+" ");i=[];for(var d=0;d<c.length;d++)i[d]=this.parseDateTime(c[d].trim())}return i}},{key:"parseDateTime",value:function(t){var i,o=t.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,o[0],o[1]);else{var s=this.getDateFormat();if(this.showTime){var l="12"==this.hourFormat?o.pop():null,u=o.pop();i=this.parseDate(o.join(" "),s),this.populateTime(i,u,l)}else i=this.parseDate(t,s)}return i}},{key:"populateTime",value:function(t,i,o){if("12"==this.hourFormat&&!o)throw"Invalid Time";this.pm="PM"===o||"pm"===o;var s=this.parseTime(i);t.setHours(s.hour),t.setMinutes(s.minute),t.setSeconds(s.second)}},{key:"updateUI",value:function(){var t=this.value||this.defaultDate||new Date;Array.isArray(t)&&(t=t[0]),this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds())}},{key:"showOverlay",value:function(){this.overlayVisible||(this.updateUI(),this.overlayVisible=!0)}},{key:"hideOverlay",value:function(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}},{key:"toggle",value:function(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}},{key:"onOverlayAnimationStart",value:function(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=t.element,this.appendOverlay(),this.autoZIndex&&(this.touchUI?E.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):E.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(t));break;case"void":this.onOverlayHide(),this.onClose.emit(t)}}},{key:"onOverlayAnimationDone",value:function(t){switch(t.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&E.P9.clear(t.element)}}},{key:"appendOverlay",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):k.p.appendChild(this.overlay,this.appendTo))}},{key:"restoreOverlayAppend",value:function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}},{key:"alignOverlay",value:function(){this.touchUI?this.enableModality(this.overlay):this.appendTo?k.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement):k.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement)}},{key:"enableModality",value:function(t){var i=this;this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(t.style.zIndex)-1),k.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",function(s){i.disableModality()}),document.body.appendChild(this.mask),k.p.addClass(document.body,"p-overflow-hidden"))}},{key:"disableModality",value:function(){this.mask&&(k.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}},{key:"destroyMask",value:function(){document.body.removeChild(this.mask);for(var i,t=document.body.children,o=0;o<t.length;o++)if(k.p.hasClass(t[o],"p-datepicker-mask-scrollblocker")){i=!0;break}i||k.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}},{key:"unbindMaskClickListener",value:function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}},{key:"unbindAnimationEndListener",value:function(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}},{key:"writeValue",value:function(t){this.value=t,this.value&&"string"==typeof this.value&&(this.value=this.parseValueFromString(this.value)),this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}},{key:"registerOnChange",value:function(t){this.onModelChange=t}},{key:"registerOnTouched",value:function(t){this.onModelTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this.cd.markForCheck()}},{key:"getDateFormat",value:function(){return this.dateFormat||this.getTranslation("dateFormat")}},{key:"formatDate",value:function(t,i){if(!t)return"";var o,s=function(g){var h=o+1<i.length&&i.charAt(o+1)===g;return h&&o++,h},l=function(g,h,f){var m=""+h;if(s(g))for(;m.length<f;)m="0"+m;return m},u=function(g,h,f,m){return s(g)?m[h]:f[h]},c="",d=!1;if(t)for(o=0;o<i.length;o++)if(d)"'"!==i.charAt(o)||s("'")?c+=i.charAt(o):d=!1;else switch(i.charAt(o)){case"d":c+=l("d",t.getDate(),2);break;case"D":c+=u("D",t.getDay(),this.getTranslation(D.ws.DAY_NAMES_SHORT),this.getTranslation(D.ws.DAY_NAMES));break;case"o":c+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=l("m",t.getMonth()+1,2);break;case"M":c+=u("M",t.getMonth(),this.getTranslation(D.ws.MONTH_NAMES_SHORT),this.getTranslation(D.ws.MONTH_NAMES));break;case"y":c+=s("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this.ticksTo1970;break;case"'":s("'")?c+="'":d=!0;break;default:c+=i.charAt(o)}return c}},{key:"formatTime",value:function(t){if(!t)return"";var i="",o=t.getHours(),s=t.getMinutes(),l=t.getSeconds();return"12"==this.hourFormat&&o>11&&12!=o&&(o-=12),i+="12"==this.hourFormat&&0===o?12:o<10?"0"+o:o,i+=":",i+=s<10?"0"+s:s,this.showSeconds&&(i+=":",i+=l<10?"0"+l:l),"12"==this.hourFormat&&(i+=t.getHours()>11?" PM":" AM"),i}},{key:"parseTime",value:function(t){var i=t.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";var s=parseInt(i[0]),l=parseInt(i[1]),u=this.showSeconds?parseInt(i[2]):null;if(isNaN(s)||isNaN(l)||s>23||l>59||"12"==this.hourFormat&&s>12||this.showSeconds&&(isNaN(u)||u>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==s&&this.pm?s+=12:!this.pm&&12===s&&(s-=12)),{hour:s,minute:l,second:u}}},{key:"parseDate",value:function(t,i){if(null==i||null==t)throw"Invalid arguments";if(""===(t="object"==typeof t?t.toString():t+""))return null;var o,s,l,m,u=0,c="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),d=-1,p=-1,g=-1,h=-1,f=!1,v=function(Z){var S=o+1<i.length&&i.charAt(o+1)===Z;return S&&o++,S},b=function(Z){var S=v(Z),A="@"===Z?14:"!"===Z?20:"y"===Z&&S?4:"o"===Z?3:2,w=new RegExp("^\\d{"+("y"===Z?A:1)+","+A+"}"),O=t.substring(u).match(w);if(!O)throw"Missing number at position "+u;return u+=O[0].length,parseInt(O[0],10)},y=function(Z,S,A){for(var x=-1,w=v(Z)?A:S,O=[],U=0;U<w.length;U++)O.push([U,w[U]]);O.sort(function(H,Q){return-(H[1].length-Q[1].length)});for(var P=0;P<O.length;P++){var L=O[P][1];if(t.substr(u,L.length).toLowerCase()===L.toLowerCase()){x=O[P][0],u+=L.length;break}}if(-1!==x)return x+1;throw"Unknown name at position "+u},_=function(){if(t.charAt(u)!==i.charAt(o))throw"Unexpected literal at position "+u;u++};for("month"===this.view&&(g=1),o=0;o<i.length;o++)if(f)"'"!==i.charAt(o)||v("'")?_():f=!1;else switch(i.charAt(o)){case"d":g=b("d");break;case"D":y("D",this.getTranslation(D.ws.DAY_NAMES_SHORT),this.getTranslation(D.ws.DAY_NAMES));break;case"o":h=b("o");break;case"m":p=b("m");break;case"M":p=y("M",this.getTranslation(D.ws.MONTH_NAMES_SHORT),this.getTranslation(D.ws.MONTH_NAMES));break;case"y":d=b("y");break;case"@":d=(m=new Date(b("@"))).getFullYear(),p=m.getMonth()+1,g=m.getDate();break;case"!":d=(m=new Date((b("!")-this.ticksTo1970)/1e4)).getFullYear(),p=m.getMonth()+1,g=m.getDate();break;case"'":v("'")?_():f=!0;break;default:_()}if(u<t.length&&(l=t.substr(u),!/^\s+/.test(l)))throw"Extra/unparsed characters found in date: "+l;if(-1===d?d=(new Date).getFullYear():d<100&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=c?0:-100)),h>-1)for(p=1,g=h;!(g<=(s=this.getDaysCountInMonth(d,p-1)));)p++,g-=s;if((m=this.daylightSavingAdjust(new Date(d,p-1,g))).getFullYear()!==d||m.getMonth()+1!==p||m.getDate()!==g)throw"Invalid date";return m}},{key:"daylightSavingAdjust",value:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null}},{key:"updateFilledState",value:function(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}},{key:"onTodayButtonClick",value:function(t){var i=new Date,o={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(t,o),this.onTodayClick.emit(t)}},{key:"onClearButtonClick",value:function(t){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(t)}},{key:"bindDocumentClickListener",value:function(){var t=this;this.documentClickListener||this.zone.runOutsideAngular(function(){t.documentClickListener=t.renderer.listen(t.el?t.el.nativeElement.ownerDocument:"document","click",function(o){t.isOutsideClicked(o)&&t.overlayVisible&&t.zone.run(function(){t.hideOverlay(),t.onClickOutside.emit(o),t.cd.markForCheck()})})})}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}},{key:"bindDocumentResizeListener",value:function(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"bindScrollListener",value:function(){var t=this;this.scrollHandler||(this.scrollHandler=new k.V(this.containerViewChild.nativeElement,function(){t.overlayVisible&&t.hideOverlay()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"isOutsideClicked",value:function(t){return!(this.el.nativeElement.isSameNode(t.target)||this.isNavIconClicked(t)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}},{key:"isNavIconClicked",value:function(t){return k.p.hasClass(t.target,"p-datepicker-prev")||k.p.hasClass(t.target,"p-datepicker-prev-icon")||k.p.hasClass(t.target,"p-datepicker-next")||k.p.hasClass(t.target,"p-datepicker-next-icon")}},{key:"onWindowResize",value:function(){this.overlayVisible&&!k.p.isAndroid()&&this.hideOverlay()}},{key:"onOverlayHide",value:function(){this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}},{key:"ngOnDestroy",value:function(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&E.P9.clear(this.overlay),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(D.b4),e.Y36(D.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-calendar"]],contentQueries:function(n,t,i){var o;1&n&&e.Suo(i,D.jx,4),2&n&&e.iGM(o=e.CRH())&&(t.templates=o)},viewQuery:function(n,t){var i;1&n&&(e.Gf(wc,5),e.Gf(xc,5),e.Gf(Oc,5)),2&n&&(e.iGM(i=e.CRH())&&(t.containerViewChild=i.first),e.iGM(i=e.CRH())&&(t.inputfieldViewChild=i.first),e.iGM(i=e.CRH())&&(t.content=i.first))},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(n,t){2&n&&e.ekj("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focus)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",numberOfMonths:"numberOfMonths",view:"view",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",firstDayOfWeek:"firstDayOfWeek",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[e._Bn([bd])],ngContentSelectors:vd,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["class","p-datepicker-month",4,"ngIf"],["tabindex","0","class","p-datepicker-month",3,"change",4,"ngIf"],["tabindex","0","class","p-datepicker-year",3,"change",4,"ngIf"],["class","p-datepicker-year",4,"ngIf"],["class","p-datepicker-next p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],[1,"p-datepicker-month"],["tabindex","0",1,"p-datepicker-month",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["tabindex","0",1,"p-datepicker-year",3,"change"],[1,"p-datepicker-year"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","mousedown","mouseup","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(n,t){1&n&&(e.F$t(fd),e.TgZ(0,"span",0,1),e.YNc(2,Dc,3,16,"ng-template",2),e.YNc(3,hd,9,28,"div",3),e.qZA()),2&n&&(e.Tol(t.styleClass),e.Q6J("ngClass",e.l5B(6,md,t.showIcon,t.timeOnly,t.disabled,t.focus))("ngStyle",t.style),e.xp6(2),e.Q6J("ngIf",!t.inline),e.xp6(1),e.Q6J("ngIf",t.inline||t.overlayVisible))},directives:[I.mk,I.PC,I.O5,$.Hq,je.H,I.tP,I.sg],styles:[".p-calendar{position:relative;display:inline-flex}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{position:static}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-next,.p-datepicker-prev{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;margin:0 auto}.p-datepicker td>span,.p-monthpicker-month{justify-content:center;align-items:center;cursor:pointer;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker,.p-timepicker button{display:flex;justify-content:center;align-items:center}.p-timepicker button{cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-calendar .p-datepicker-touch-ui,.p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}"],encapsulation:2,data:{animation:[(0,J.X$)("overlayAnimation",[(0,J.SB)("visibleTouchUI",(0,J.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,J.eR)("void => visible",[(0,J.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,J.jt)("{{showTransitionParams}}",(0,J.oB)({opacity:1,transform:"*"}))]),(0,J.eR)("visible => void",[(0,J.jt)("{{hideTransitionParams}}",(0,J.oB)({opacity:0}))]),(0,J.eR)("void => visibleTouchUI",[(0,J.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,J.jt)("{{showTransitionParams}}")]),(0,J.eR)("visibleTouchUI => void",[(0,J.jt)("{{hideTransitionParams}}",(0,J.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),r}(),Gr=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez,$.hJ,D.m8,je.T],$.hJ,D.m8]}),r}(),j=function(){var r=function(){function a(n,t,i){(0,M.Z)(this,a),this.el=n,this.ngModel=t,this.cd=i}return(0,R.Z)(a,[{key:"ngAfterViewInit",value:function(){this.updateFilledState(),this.cd.detectChanges()}},{key:"ngDoCheck",value:function(){this.updateFilledState()}},{key:"onInput",value:function(t){this.updateFilledState()}},{key:"updateFilledState",value:function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq),e.Y36(T.On,8),e.Y36(e.sBO))},r.\u0275dir=e.lG2({type:r,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(n,t){1&n&&e.NdJ("input",function(o){return t.onInput(o)}),2&n&&e.ekj("p-filled",t.filled)}}),r}(),jn=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez]]}),r}(),yd=["input"],Wr=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},jr=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function _d(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"span",5),e.TgZ(1,"button",6),e.NdJ("mousedown",function(o){return e.CHM(n),e.oxw().onUpButtonMouseDown(o)})("mouseup",function(){return e.CHM(n),e.oxw().onUpButtonMouseUp()})("mouseleave",function(){return e.CHM(n),e.oxw().onUpButtonMouseLeave()})("keydown",function(o){return e.CHM(n),e.oxw().onUpButtonKeyDown(o)})("keyup",function(){return e.CHM(n),e.oxw().onUpButtonKeyUp()}),e.qZA(),e.TgZ(2,"button",6),e.NdJ("mousedown",function(o){return e.CHM(n),e.oxw().onDownButtonMouseDown(o)})("mouseup",function(){return e.CHM(n),e.oxw().onDownButtonMouseUp()})("mouseleave",function(){return e.CHM(n),e.oxw().onDownButtonMouseLeave()})("keydown",function(o){return e.CHM(n),e.oxw().onDownButtonKeyDown(o)})("keyup",function(){return e.CHM(n),e.oxw().onDownButtonKeyUp()}),e.qZA(),e.qZA()}if(2&r){var t=e.oxw();e.xp6(1),e.Tol(t.incrementButtonClass),e.Q6J("ngClass",e.DdM(10,Wr))("icon",t.incrementButtonIcon)("disabled",t.disabled),e.xp6(1),e.Tol(t.decrementButtonClass),e.Q6J("ngClass",e.DdM(11,jr))("icon",t.decrementButtonIcon)("disabled",t.disabled)}}function Td(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"button",6),e.NdJ("mousedown",function(o){return e.CHM(n),e.oxw().onUpButtonMouseDown(o)})("mouseup",function(){return e.CHM(n),e.oxw().onUpButtonMouseUp()})("mouseleave",function(){return e.CHM(n),e.oxw().onUpButtonMouseLeave()})("keydown",function(o){return e.CHM(n),e.oxw().onUpButtonKeyDown(o)})("keyup",function(){return e.CHM(n),e.oxw().onUpButtonKeyUp()}),e.qZA()}if(2&r){var t=e.oxw();e.Tol(t.incrementButtonClass),e.Q6J("ngClass",e.DdM(5,Wr))("icon",t.incrementButtonIcon)("disabled",t.disabled)}}function Cd(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"button",6),e.NdJ("mousedown",function(o){return e.CHM(n),e.oxw().onDownButtonMouseDown(o)})("mouseup",function(){return e.CHM(n),e.oxw().onDownButtonMouseUp()})("mouseleave",function(){return e.CHM(n),e.oxw().onDownButtonMouseLeave()})("keydown",function(o){return e.CHM(n),e.oxw().onDownButtonKeyDown(o)})("keyup",function(){return e.CHM(n),e.oxw().onDownButtonKeyUp()}),e.qZA()}if(2&r){var t=e.oxw();e.Tol(t.decrementButtonClass),e.Q6J("ngClass",e.DdM(5,jr))("icon",t.decrementButtonIcon)("disabled",t.disabled)}}var Zd=function(a,n,t){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":a,"p-inputnumber-buttons-horizontal":n,"p-inputnumber-buttons-vertical":t}},kd={provide:T.JU,useExisting:(0,e.Gpc)(function(){return ri}),multi:!0},ri=function(){var r=function(){function a(n,t){(0,M.Z)(this,a),this.el=n,this.cd=t,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.onInput=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onKeyDown=new e.vpe,this.onModelChange=function(){},this.onModelTouched=function(){},this.groupChar="",this.prefixChar="",this.suffixChar=""}return(0,R.Z)(a,[{key:"disabled",get:function(){return this._disabled},set:function(t){t&&(this.focused=!1),this._disabled=t,this.timer&&this.clearTimer()}},{key:"ngOnChanges",value:function(t){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(function(o){return!!t[o]})&&this.updateConstructParser()}},{key:"ngOnInit",value:function(){this.constructParser(),this.initialized=!0}},{key:"getOptions",value:function(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}},{key:"constructParser",value:function(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());var t=(0,W.Z)(new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)).reverse(),i=new Map(t.map(function(o,s){return[o,s]}));this._numeral=new RegExp("[".concat(t.join(""),"]"),"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=function(o){return i.get(o)}}},{key:"updateConstructParser",value:function(){this.initialized&&this.constructParser()}},{key:"escapeRegExp",value:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},{key:"getDecimalExpression",value:function(){var t=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp("[".concat(t.format(1.1).replace(this._currency,"").trim().replace(this._numeral,""),"]"),"g")}},{key:"getGroupingExpression",value:function(){var t=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=t.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp("[".concat(this.groupChar,"]"),"g")}},{key:"getMinusSignExpression",value:function(){var t=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp("[".concat(t.format(-1).trim().replace(this._numeral,""),"]"),"g")}},{key:"getCurrencyExpression",value:function(){if(this.currency){var t=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp("[".concat(t.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,""),"]"),"g")}return new RegExp("[]","g")}},{key:"getPrefixExpression",value:function(){if(this.prefix)this.prefixChar=this.prefix;else{var t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=t.format(1).split("1")[0]}return new RegExp("".concat(this.escapeRegExp(this.prefixChar||"")),"g")}},{key:"getSuffixExpression",value:function(){if(this.suffix)this.suffixChar=this.suffix;else{var t=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=t.format(1).split("1")[1]}return new RegExp("".concat(this.escapeRegExp(this.suffixChar||"")),"g")}},{key:"formatValue",value:function(t){if(null!=t){if("-"===t)return t;if(this.format){var o=new Intl.NumberFormat(this.locale,this.getOptions()).format(t);return this.prefix&&(o=this.prefix+o),this.suffix&&(o+=this.suffix),o}return t.toString()}return""}},{key:"parseValue",value:function(t){var i=t.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;var o=+i;return isNaN(o)?null:o}return null}},{key:"repeat",value:function(t,i,o){var s=this;if(!this.readonly){var l=i||500;this.clearTimer(),this.timer=setTimeout(function(){s.repeat(t,40,o)},l),this.spin(t,o)}}},{key:"spin",value:function(t,i){var o=this.step*i,s=this.parseValue(this.input.nativeElement.value)||0,l=this.validateValue(s+o);this.maxlength&&this.maxlength<this.formatValue(l).length||(this.updateInput(l,null,"spin",null),this.updateModel(t,l),this.handleOnInput(t,s,l))}},{key:"onUpButtonMouseDown",value:function(t){this.input.nativeElement.focus(),this.repeat(t,null,1),t.preventDefault()}},{key:"onUpButtonMouseUp",value:function(){this.clearTimer()}},{key:"onUpButtonMouseLeave",value:function(){this.clearTimer()}},{key:"onUpButtonKeyDown",value:function(t){(32===t.keyCode||13===t.keyCode)&&this.repeat(t,null,1)}},{key:"onUpButtonKeyUp",value:function(){this.clearTimer()}},{key:"onDownButtonMouseDown",value:function(t){this.input.nativeElement.focus(),this.repeat(t,null,-1),t.preventDefault()}},{key:"onDownButtonMouseUp",value:function(){this.clearTimer()}},{key:"onDownButtonMouseLeave",value:function(){this.clearTimer()}},{key:"onDownButtonKeyUp",value:function(){this.clearTimer()}},{key:"onDownButtonKeyDown",value:function(t){(32===t.keyCode||13===t.keyCode)&&this.repeat(t,null,-1)}},{key:"onUserInput",value:function(t){this.isSpecialChar&&(t.target.value=this.lastValue),this.isSpecialChar=!1}},{key:"onInputKeyDown",value:function(t){if(this.lastValue=t.target.value,t.shiftKey||t.altKey)this.isSpecialChar=!0;else{var i=t.target.selectionStart,o=t.target.selectionEnd,s=t.target.value,l=null;switch(t.altKey&&t.preventDefault(),t.which){case 38:this.spin(t,1),t.preventDefault();break;case 40:this.spin(t,-1),t.preventDefault();break;case 37:this.isNumeralChar(s.charAt(i-1))||t.preventDefault();break;case 39:this.isNumeralChar(s.charAt(i))||t.preventDefault();break;case 13:l=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(l),this.input.nativeElement.setAttribute("aria-valuenow",l),this.updateModel(t,l);break;case 8:if(t.preventDefault(),i===o){var u=s.charAt(i-1),c=this.getDecimalCharIndexes(s),d=c.decimalCharIndex,p=c.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(u)){var g=this.getDecimalLength(s);if(this._group.test(u))this._group.lastIndex=0,l=s.slice(0,i-2)+s.slice(i-1);else if(this._decimal.test(u))this._decimal.lastIndex=0,g?this.input.nativeElement.setSelectionRange(i-1,i-1):l=s.slice(0,i-1)+s.slice(i);else if(d>0&&i>d){var h=this.isDecimalMode()&&(this.minFractionDigits||0)<g?"":"0";l=s.slice(0,i-1)+h+s.slice(i)}else 1===p?(l=s.slice(0,i-1)+"0"+s.slice(i),l=this.parseValue(l)>0?l:""):l=s.slice(0,i-1)+s.slice(i)}this.updateValue(t,l,null,"delete-single")}else l=this.deleteRange(s,i,o),this.updateValue(t,l,null,"delete-range");break;case 46:if(t.preventDefault(),i===o){var f=s.charAt(i),m=this.getDecimalCharIndexes(s),v=m.decimalCharIndex,b=m.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(f)){var y=this.getDecimalLength(s);if(this._group.test(f))this._group.lastIndex=0,l=s.slice(0,i)+s.slice(i+2);else if(this._decimal.test(f))this._decimal.lastIndex=0,y?this.input.nativeElement.setSelectionRange(i+1,i+1):l=s.slice(0,i)+s.slice(i+1);else if(v>0&&i>v){var _=this.isDecimalMode()&&(this.minFractionDigits||0)<y?"":"0";l=s.slice(0,i)+_+s.slice(i+1)}else 1===b?(l=s.slice(0,i)+"0"+s.slice(i+1),l=this.parseValue(l)>0?l:""):l=s.slice(0,i)+s.slice(i+1)}this.updateValue(t,l,null,"delete-back-single")}else l=this.deleteRange(s,i,o),this.updateValue(t,l,null,"delete-range")}this.onKeyDown.emit(t)}}},{key:"onInputKeyPress",value:function(t){t.preventDefault();var i=t.which||t.keyCode,o=String.fromCharCode(i),s=this.isDecimalSign(o),l=this.isMinusSign(o);(48<=i&&i<=57||l||s)&&this.insert(t,o,{isDecimalSign:s,isMinusSign:l})}},{key:"onPaste",value:function(t){if(!this.disabled){t.preventDefault();var i=(t.clipboardData||window.clipboardData).getData("Text");if(i){var o=this.parseValue(i);null!=o&&this.insert(t,o.toString())}}}},{key:"allowMinusSign",value:function(){return null==this.min||this.min<0}},{key:"isMinusSign",value:function(t){return!(!this._minusSign.test(t)&&"-"!==t||(this._minusSign.lastIndex=0,0))}},{key:"isDecimalSign",value:function(t){return!!this._decimal.test(t)&&(this._decimal.lastIndex=0,!0)}},{key:"isDecimalMode",value:function(){return"decimal"===this.mode}},{key:"getDecimalCharIndexes",value:function(t){var i=t.search(this._decimal);this._decimal.lastIndex=0;var s=t.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:s}}},{key:"getCharIndexes",value:function(t){var i=t.search(this._decimal);this._decimal.lastIndex=0;var o=t.search(this._minusSign);this._minusSign.lastIndex=0;var s=t.search(this._suffix);this._suffix.lastIndex=0;var l=t.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:o,suffixCharIndex:s,currencyCharIndex:l}}},{key:"insert",value:function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},s=i.search(this._minusSign);if(this._minusSign.lastIndex=0,this.allowMinusSign()||-1===s){var m,l=this.input.nativeElement.selectionStart,u=this.input.nativeElement.selectionEnd,c=this.input.nativeElement.value.trim(),d=this.getCharIndexes(c),p=d.decimalCharIndex,g=d.minusCharIndex,h=d.suffixCharIndex,f=d.currencyCharIndex;if(o.isMinusSign)0===l&&(m=c,(-1===g||0!==u)&&(m=this.insertText(c,i,0,u)),this.updateValue(t,m,i,"insert"));else if(o.isDecimalSign)p>0&&l===p?this.updateValue(t,c,i,"insert"):(p>l&&p<u||-1===p&&this.maxFractionDigits)&&(m=this.insertText(c,i,l,u),this.updateValue(t,m,i,"insert"));else{var v=this.numberFormat.resolvedOptions().maximumFractionDigits,b=l!==u?"range-insert":"insert";if(p>0&&l>p){if(l+i.length-(p+1)<=v){var y=f>=l?f-1:h>=l?h:c.length;m=c.slice(0,l)+i+c.slice(l+i.length,y)+c.slice(y),this.updateValue(t,m,i,b)}}else m=this.insertText(c,i,l,u),this.updateValue(t,m,i,b)}}}},{key:"insertText",value:function(t,i,o,s){if(2===("."===i?i:i.split(".")).length){var u=t.slice(o,s).search(this._decimal);return this._decimal.lastIndex=0,u>0?t.slice(0,o)+this.formatValue(i)+t.slice(s):t||this.formatValue(i)}return s-o===t.length?this.formatValue(i):0===o?i+t.slice(s):s===t.length?t.slice(0,o)+i:t.slice(0,o)+i+t.slice(s)}},{key:"deleteRange",value:function(t,i,o){return o-i===t.length?"":0===i?t.slice(o):o===t.length?t.slice(0,i):t.slice(0,i)+t.slice(o)}},{key:"initCursor",value:function(){var t=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,o=i.length,s=null,l=(this.prefixChar||"").length,u=(i=i.replace(this._prefix,"")).charAt(t-=l);if(this.isNumeralChar(u))return t+l;for(var c=t-1;c>=0;){if(u=i.charAt(c),this.isNumeralChar(u)){s=c+l;break}c--}if(null!==s)this.input.nativeElement.setSelectionRange(s+1,s+1);else{for(c=t;c<o;){if(u=i.charAt(c),this.isNumeralChar(u)){s=c+l;break}c++}null!==s&&this.input.nativeElement.setSelectionRange(s,s)}return s||0}},{key:"onInputClick",value:function(){this.initCursor()}},{key:"isNumeralChar",value:function(t){return!(1!==t.length||!(this._numeral.test(t)||this._decimal.test(t)||this._group.test(t)||this._minusSign.test(t))||(this.resetRegex(),0))}},{key:"resetRegex",value:function(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}},{key:"updateValue",value:function(t,i,o,s){var l=this.input.nativeElement.value,u=null;null!=i&&(u=this.parseValue(i),this.updateInput(u=u||this.allowEmpty?u:0,o,s,i),this.handleOnInput(t,l,u))}},{key:"handleOnInput",value:function(t,i,o){this.isValueChanged(i,o)&&this.onInput.emit({originalEvent:t,value:o})}},{key:"isValueChanged",value:function(t,i){return null===i&&null!==t||null!=i&&i!==("string"==typeof t?this.parseValue(t):t)}},{key:"validateValue",value:function(t){return"-"===t||null==t?null:null!=this.min&&t<this.min?this.min:null!=this.max&&t>this.max?this.max:t}},{key:"updateInput",value:function(t,i,o,s){i=i||"";var l=this.input.nativeElement.value,u=this.formatValue(t),c=l.length;if(u!==s&&(u=this.concatValues(u,s)),0===c){this.input.nativeElement.value=u,this.input.nativeElement.setSelectionRange(0,0);var p=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(p,p)}else{var g=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<u.length)return;this.input.nativeElement.value=u;var f=u.length;if("range-insert"===o){var m=this.parseValue((l||"").slice(0,g)),b=(null!==m?m.toString():"").split("").join("(".concat(this.groupChar,")?")),y=new RegExp(b,"g");y.test(u);var _=i.split("").join("(".concat(this.groupChar,")?")),C=new RegExp(_,"g");C.test(u.slice(y.lastIndex)),this.input.nativeElement.setSelectionRange(h=y.lastIndex+C.lastIndex,h)}else if(f===c)"insert"===o||"delete-back-single"===o?this.input.nativeElement.setSelectionRange(h+1,h+1):"delete-single"===o?this.input.nativeElement.setSelectionRange(h-1,h-1):("delete-range"===o||"spin"===o)&&this.input.nativeElement.setSelectionRange(h,h);else if("delete-back-single"===o){var Z=l.charAt(h-1),S=l.charAt(h),A=c-f,x=this._group.test(S);x&&1===A?h+=1:!x&&this.isNumeralChar(Z)&&(h+=-1*A+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(h,h)}else if("-"===l&&"insert"===o){this.input.nativeElement.setSelectionRange(0,0);var O=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(O,O)}else this.input.nativeElement.setSelectionRange(h+=f-c,h)}this.input.nativeElement.setAttribute("aria-valuenow",t)}},{key:"concatValues",value:function(t,i){if(t&&i){var o=i.search(this._decimal);return this._decimal.lastIndex=0,-1!==o?t.split(this._decimal)[0]+i.slice(o):t}return t}},{key:"getDecimalLength",value:function(t){if(t){var i=t.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}},{key:"onInputFocus",value:function(t){this.focused=!0,this.onFocus.emit(t)}},{key:"onInputBlur",value:function(t){this.focused=!1;var i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(t,i),this.onBlur.emit(t)}},{key:"formattedValue",value:function(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}},{key:"updateModel",value:function(t,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}},{key:"writeValue",value:function(t){this.value=t,this.cd.markForCheck()}},{key:"registerOnChange",value:function(t){this.onModelChange=t}},{key:"registerOnTouched",value:function(t){this.onModelTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this.cd.markForCheck()}},{key:"filled",get:function(){return null!=this.value&&this.value.toString().length>0}},{key:"clearTimer",value:function(){this.timer&&clearInterval(this.timer)}},{key:"getFormatter",value:function(){return this.numberFormat}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-inputNumber"]],viewQuery:function(n,t){var i;1&n&&e.Gf(yd,5),2&n&&e.iGM(i=e.CRH())&&(t.input=i.first)},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(n,t){2&n&&e.ekj("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[e._Bn([kd]),e.TTD],decls:6,vars:31,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(n,t){1&n&&(e.TgZ(0,"span",0),e.TgZ(1,"input",1,2),e.NdJ("input",function(o){return t.onUserInput(o)})("keydown",function(o){return t.onInputKeyDown(o)})("keypress",function(o){return t.onInputKeyPress(o)})("paste",function(o){return t.onPaste(o)})("click",function(){return t.onInputClick()})("focus",function(o){return t.onInputFocus(o)})("blur",function(o){return t.onInputBlur(o)}),e.qZA(),e.YNc(3,_d,3,12,"span",3),e.YNc(4,Td,1,6,"button",4),e.YNc(5,Cd,1,6,"button",4),e.qZA()),2&n&&(e.Tol(t.styleClass),e.Q6J("ngClass",e.kEZ(27,Zd,t.showButtons&&"stacked"===t.buttonLayout,t.showButtons&&"horizontal"===t.buttonLayout,t.showButtons&&"vertical"===t.buttonLayout))("ngStyle",t.style),e.xp6(1),e.Tol(t.inputStyleClass),e.Q6J("ngClass","p-inputnumber-input")("ngStyle",t.inputStyle)("value",t.formattedValue())("disabled",t.disabled)("readonly",t.readonly),e.uIk("placeholder",t.placeholder)("title",t.title)("id",t.inputId)("size",t.size)("name",t.name)("autocomplete",t.autocomplete)("maxlength",t.maxlength)("tabindex",t.tabindex)("aria-label",t.ariaLabel)("aria-required",t.ariaRequired)("required",t.required)("aria-valuemin",t.min)("aria-valuemax",t.max),e.xp6(2),e.Q6J("ngIf",t.showButtons&&"stacked"===t.buttonLayout),e.xp6(1),e.Q6J("ngIf",t.showButtons&&"stacked"!==t.buttonLayout),e.xp6(1),e.Q6J("ngIf",t.showButtons&&"stacked"!==t.buttonLayout))},directives:[I.mk,I.PC,j,I.O5,$.Hq],styles:[".p-inputnumber,p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid .p-inputnumber,.p-fluid p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}"],encapsulation:2,changeDetection:0}),r}(),oi=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez,jn,$.hJ]]}),r}();function Sd(r,a){1&r&&e.GkF(0)}var si=function(a){return{$implicit:a}};function Ad(r,a){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,Sd,1,0,"ng-container",16),e.qZA()),2&r){var n=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",n.templateLeft)("ngTemplateOutletContext",e.VKq(2,si,n.paginatorState))}}function wd(r,a){if(1&r&&(e.TgZ(0,"span",17),e._uU(1),e.qZA()),2&r){var n=e.oxw(2);e.xp6(1),e.Oqu(n.currentPageReport)}}var Xn=function(a){return{"p-disabled":a}};function xd(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(o){return e.CHM(n),e.oxw(2).changePageToFirst(o)}),e._UZ(1,"span",19),e.qZA()}if(2&r){var t=e.oxw(2);e.Q6J("disabled",t.isFirstPage()||t.empty())("ngClass",e.VKq(2,Xn,t.isFirstPage()||t.empty()))}}var Od=function(a){return{"p-highlight":a}};function qd(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(s){var u=e.CHM(n).$implicit;return e.oxw(3).onPageLinkClick(s,u-1)}),e._uU(1),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw(3);e.Q6J("ngClass",e.VKq(2,Od,t-1==i.getPage())),e.xp6(1),e.Oqu(t)}}function Dd(r,a){if(1&r&&(e.TgZ(0,"span",20),e.YNc(1,qd,2,4,"button",21),e.qZA()),2&r){var n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.pageLinks)}}function Md(r,a){if(1&r&&e._uU(0),2&r){var n=e.oxw(3);e.Oqu(n.currentPageReport)}}function Rd(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"p-dropdown",23),e.NdJ("onChange",function(o){return e.CHM(n),e.oxw(2).onPageDropdownChange(o)}),e.YNc(1,Md,1,1,"ng-template",24),e.qZA()}if(2&r){var t=e.oxw(2);e.Q6J("options",t.pageItems)("ngModel",t.getPage())("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight)}}function Id(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(o){return e.CHM(n),e.oxw(2).changePageToLast(o)}),e._UZ(1,"span",26),e.qZA()}if(2&r){var t=e.oxw(2);e.Q6J("disabled",t.isLastPage()||t.empty())("ngClass",e.VKq(2,Xn,t.isLastPage()||t.empty()))}}function Ud(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"p-inputNumber",27),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).changePage(o-1)}),e.qZA()}if(2&r){var t=e.oxw(2);e.Q6J("ngModel",t.currentPage())("disabled",t.empty())}}function Pd(r,a){1&r&&e.GkF(0)}function Ed(r,a){if(1&r&&e.YNc(0,Pd,1,0,"ng-container",16),2&r){var n=a.$implicit,t=e.oxw(4);e.Q6J("ngTemplateOutlet",t.dropdownItemTemplate)("ngTemplateOutletContext",e.VKq(2,si,n))}}function Bd(r,a){1&r&&(e.ynx(0),e.YNc(1,Ed,1,4,"ng-template",30),e.BQk())}function Nd(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"p-dropdown",28),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw(2).rows=o})("onChange",function(o){return e.CHM(n),e.oxw(2).onRppChange(o)}),e.YNc(1,Bd,2,0,"ng-container",29),e.qZA()}if(2&r){var t=e.oxw(2);e.Q6J("options",t.rowsPerPageItems)("ngModel",t.rows)("disabled",t.empty())("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight),e.xp6(1),e.Q6J("ngIf",t.dropdownItemTemplate)}}function Ld(r,a){1&r&&e.GkF(0)}function Fd(r,a){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,Ld,1,0,"ng-container",16),e.qZA()),2&r){var n=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",n.templateRight)("ngTemplateOutletContext",e.VKq(2,si,n.paginatorState))}}function zd(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",1),e.YNc(1,Ad,2,4,"div",2),e.YNc(2,wd,2,1,"span",3),e.YNc(3,xd,2,4,"button",4),e.TgZ(4,"button",5),e.NdJ("click",function(o){return e.CHM(n),e.oxw().changePageToPrev(o)}),e._UZ(5,"span",6),e.qZA(),e.YNc(6,Dd,2,1,"span",7),e.YNc(7,Rd,2,5,"p-dropdown",8),e.TgZ(8,"button",9),e.NdJ("click",function(o){return e.CHM(n),e.oxw().changePageToNext(o)}),e._UZ(9,"span",10),e.qZA(),e.YNc(10,Id,2,4,"button",11),e.YNc(11,Ud,1,2,"p-inputNumber",12),e.YNc(12,Nd,2,6,"p-dropdown",13),e.YNc(13,Fd,2,4,"div",14),e.qZA()}if(2&r){var t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngStyle",t.style)("ngClass","p-paginator p-component"),e.xp6(1),e.Q6J("ngIf",t.templateLeft),e.xp6(1),e.Q6J("ngIf",t.showCurrentPageReport),e.xp6(1),e.Q6J("ngIf",t.showFirstLastIcon),e.xp6(1),e.Q6J("disabled",t.isFirstPage()||t.empty())("ngClass",e.VKq(17,Xn,t.isFirstPage()||t.empty())),e.xp6(2),e.Q6J("ngIf",t.showPageLinks),e.xp6(1),e.Q6J("ngIf",t.showJumpToPageDropdown),e.xp6(1),e.Q6J("disabled",t.isLastPage()||t.empty())("ngClass",e.VKq(19,Xn,t.isLastPage()||t.empty())),e.xp6(2),e.Q6J("ngIf",t.showFirstLastIcon),e.xp6(1),e.Q6J("ngIf",t.showJumpToPageInput),e.xp6(1),e.Q6J("ngIf",t.rowsPerPageOptions),e.xp6(1),e.Q6J("ngIf",t.templateRight)}}var Hd=function(){var r=function(){function a(n){(0,M.Z)(this,a),this.cd=n,this.pageLinkSize=5,this.onPageChange=new e.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}return(0,R.Z)(a,[{key:"ngOnInit",value:function(){this.updatePaginatorState()}},{key:"ngOnChanges",value:function(t){t.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),t.first&&(this._first=t.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),t.rows&&(this.updatePageLinks(),this.updatePaginatorState()),t.rowsPerPageOptions&&this.updateRowsPerPageOptions()}},{key:"first",get:function(){return this._first},set:function(t){this._first=t}},{key:"updateRowsPerPageOptions",value:function(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];var i,t=(0,V.Z)(this.rowsPerPageOptions);try{for(t.s();!(i=t.n()).done;){var o=i.value;"object"==typeof o&&o.showAll?this.rowsPerPageItems.unshift({label:o.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(o),value:o})}}catch(s){t.e(s)}finally{t.f()}}}},{key:"isFirstPage",value:function(){return 0===this.getPage()}},{key:"isLastPage",value:function(){return this.getPage()===this.getPageCount()-1}},{key:"getPageCount",value:function(){return Math.ceil(this.totalRecords/this.rows)}},{key:"calculatePageLinkBoundaries",value:function(){var t=this.getPageCount(),i=Math.min(this.pageLinkSize,t),o=Math.max(0,Math.ceil(this.getPage()-i/2)),s=Math.min(t-1,o+i-1);return[o=Math.max(0,o-(this.pageLinkSize-(s-o+1))),s]}},{key:"updatePageLinks",value:function(){this.pageLinks=[];for(var t=this.calculatePageLinkBoundaries(),o=t[1],s=t[0];s<=o;s++)this.pageLinks.push(s+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(var l=0;l<this.getPageCount();l++)this.pageItems.push({label:String(l+1),value:l})}}},{key:"changePage",value:function(t){var i=this.getPageCount();if(t>=0&&t<i){this._first=this.rows*t;var o={page:t,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(o),this.updatePaginatorState()}}},{key:"updateFirst",value:function(){var t=this,i=this.getPage();i>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(function(){return t.changePage(i-1)})}},{key:"getPage",value:function(){return Math.floor(this.first/this.rows)}},{key:"changePageToFirst",value:function(t){this.isFirstPage()||this.changePage(0),t.preventDefault()}},{key:"changePageToPrev",value:function(t){this.changePage(this.getPage()-1),t.preventDefault()}},{key:"changePageToNext",value:function(t){this.changePage(this.getPage()+1),t.preventDefault()}},{key:"changePageToLast",value:function(t){this.isLastPage()||this.changePage(this.getPageCount()-1),t.preventDefault()}},{key:"onPageLinkClick",value:function(t,i){this.changePage(i),t.preventDefault()}},{key:"onRppChange",value:function(t){this.changePage(this.getPage())}},{key:"onPageDropdownChange",value:function(t){this.changePage(t.value)}},{key:"updatePaginatorState",value:function(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}},{key:"empty",value:function(){return 0===this.getPageCount()}},{key:"currentPage",value:function(){return this.getPageCount()>0?this.getPage()+1:0}},{key:"currentPageReport",get:function(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[e.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(n,t){1&n&&e.YNc(0,zd,14,21,"div",0),2&n&&e.Q6J("ngIf",!!t.alwaysShow||t.pageLinks&&t.pageLinks.length>1)},directives:[I.O5,I.PC,I.mk,je.H,I.tP,I.sg,ne.Lt,T.JJ,T.On,D.jx,ri],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-current,.p-paginator-first,.p-paginator-last,.p-paginator-next,.p-paginator-page,.p-paginator-prev{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}"],encapsulation:2,changeDetection:0}),r}(),Vd=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez,ne.kW,oi,T.u5,D.m8,je.T],ne.kW,oi,T.u5,D.m8]}),r}();function Jd(r,a){if(1&r&&e._UZ(0,"span",8),2&r){var n=e.oxw(2).$implicit;e.Tol(n.icon),e.Q6J("ngClass","p-button-icon p-button-icon-left")}}function Yd(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Jd,1,3,"span",6),e.TgZ(2,"span",7),e._uU(3),e.qZA(),e.BQk()),2&r){var n=e.oxw().$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",n.icon),e.xp6(2),e.Oqu(t.getOptionLabel(n))}}function Qd(r,a){1&r&&e.GkF(0)}var Kd=function(a,n){return{$implicit:a,index:n}};function $d(r,a){if(1&r&&e.YNc(0,Qd,1,0,"ng-container",9),2&r){var n=e.oxw(),t=n.$implicit,i=n.index,o=e.oxw();e.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",e.WLB(2,Kd,t,i))}}var Gd=function(a,n,t){return{"p-highlight":a,"p-disabled":n,"p-button-icon-only":t}};function Wd(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",2,3),e.NdJ("click",function(l){var u=e.CHM(n),c=u.$implicit,d=u.index;return e.oxw().onItemClick(l,c,d)})("keydown.enter",function(l){var u=e.CHM(n),c=u.$implicit,d=u.index;return e.oxw().onItemClick(l,c,d)})("blur",function(){return e.CHM(n),e.oxw().onBlur()}),e.YNc(2,Yd,4,2,"ng-container",4),e.YNc(3,$d,1,5,"ng-template",null,5,e.W1O),e.qZA()}if(2&r){var t=a.$implicit,i=e.MAs(4),o=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.kEZ(10,Gd,o.isSelected(t),o.disabled||o.isOptionDisabled(t),t.icon&&!o.getOptionLabel(t))),e.uIk("aria-pressed",o.isSelected(t))("title",t.title)("aria-label",t.label)("tabindex",o.disabled?null:o.tabindex)("aria-labelledby",o.getOptionLabel(t)),e.xp6(2),e.Q6J("ngIf",!o.itemTemplate)("ngIfElse",i)}}var jd={provide:T.JU,useExisting:(0,e.Gpc)(function(){return Xd}),multi:!0},Xd=function(){var r=function(){function a(n){(0,M.Z)(this,a),this.cd=n,this.tabindex=0,this.onOptionClick=new e.vpe,this.onChange=new e.vpe,this.onModelChange=function(){},this.onModelTouched=function(){}}return(0,R.Z)(a,[{key:"getOptionLabel",value:function(t){return this.optionLabel?E.gb.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}},{key:"getOptionValue",value:function(t){return this.optionValue?E.gb.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}},{key:"isOptionDisabled",value:function(t){return this.optionDisabled?E.gb.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled}},{key:"writeValue",value:function(t){this.value=t,this.cd.markForCheck()}},{key:"registerOnChange",value:function(t){this.onModelChange=t}},{key:"registerOnTouched",value:function(t){this.onModelTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this.cd.markForCheck()}},{key:"onItemClick",value:function(t,i,o){this.disabled||this.isOptionDisabled(i)||(this.multiple?this.isSelected(i)?this.removeOption(i):this.value=[].concat((0,W.Z)(this.value||[]),[this.getOptionValue(i)]):this.value=this.getOptionValue(i),this.onOptionClick.emit({originalEvent:t,option:i,index:o}),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}))}},{key:"onBlur",value:function(){this.onModelTouched()}},{key:"removeOption",value:function(t){var i=this;this.value=this.value.filter(function(o){return!E.gb.equals(o,i.getOptionValue(t),i.dataKey)})}},{key:"isSelected",value:function(t){var i=!1,o=this.getOptionValue(t);if(this.multiple){if(this.value){var l,s=(0,V.Z)(this.value);try{for(s.s();!(l=s.n()).done;)if(E.gb.equals(l.value,o,this.dataKey)){i=!0;break}}catch(c){s.e(c)}finally{s.f()}}}else i=E.gb.equals(this.getOptionValue(t),this.value,this.dataKey);return i}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-selectButton"]],contentQueries:function(n,t,i){var o;1&n&&e.Suo(i,e.Rgc,5),2&n&&e.iGM(o=e.CRH())&&(t.itemTemplate=o.first)},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[e._Bn([jd])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Wd,5,14,"div",1),e.qZA()),2&n&&(e.Tol(t.styleClass),e.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",t.style),e.xp6(1),e.Q6J("ngForOf",t.options))},directives:[I.mk,I.PC,I.sg,je.H,I.O5,I.tP],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}.p-button-label{transition:all .2s}"],encapsulation:2,changeDetection:0}),r}(),ep=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez,je.T]]}),r}(),tp=function(a,n,t){return{"p-checkbox-label-active":a,"p-disabled":n,"p-checkbox-label-focus":t}};function np(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"label",7),e.NdJ("click",function(o){e.CHM(n);var s=e.oxw(),l=e.MAs(3);return s.onClick(o,l)}),e._uU(1),e.qZA()}if(2&r){var t=e.oxw();e.Q6J("ngClass",e.kEZ(3,tp,null!=t.value,t.disabled,t.focused)),e.uIk("for",t.inputId),e.xp6(1),e.Oqu(t.label)}}var ap=function(a,n){return{"p-checkbox p-component":!0,"p-checkbox-disabled":a,"p-checkbox-focused":n}},ip=function(a,n,t){return{"p-highlight":a,"p-disabled":n,"p-focus":t}},rp={provide:T.JU,useExisting:(0,e.Gpc)(function(){return Xr}),multi:!0},Xr=function(){var r=function(){function a(n){(0,M.Z)(this,a),this.cd=n,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new e.vpe,this.onModelChange=function(){},this.onModelTouched=function(){}}return(0,R.Z)(a,[{key:"onClick",value:function(t,i){!this.disabled&&!this.readonly&&(this.toggle(t),this.focused=!0,i.focus())}},{key:"onKeydown",value:function(t){32==t.keyCode&&t.preventDefault()}},{key:"onKeyup",value:function(t){32==t.keyCode&&!this.readonly&&(this.toggle(t),t.preventDefault())}},{key:"toggle",value:function(t){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}},{key:"onFocus",value:function(){this.focused=!0}},{key:"onBlur",value:function(){this.focused=!1,this.onModelTouched()}},{key:"registerOnChange",value:function(t){this.onModelChange=t}},{key:"registerOnTouched",value:function(t){this.onModelTouched=t}},{key:"writeValue",value:function(t){this.value=t,this.cd.markForCheck()}},{key:"setDisabledState",value:function(t){this.disabled=t,this.cd.markForCheck()}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[e._Bn([rp])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(n,t){if(1&n){var i=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"input",2,3),e.NdJ("keyup",function(s){return t.onKeyup(s)})("keydown",function(s){return t.onKeydown(s)})("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()}),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.NdJ("click",function(s){e.CHM(i);var l=e.MAs(3);return t.onClick(s,l)}),e._UZ(5,"span",5),e.qZA(),e.qZA(),e.YNc(6,np,2,7,"label",6)}2&n&&(e.Tol(t.styleClass),e.Q6J("ngStyle",t.style)("ngClass",e.WLB(14,ap,t.disabled,t.focused)),e.xp6(2),e.Q6J("name",t.name)("readonly",t.readonly)("disabled",t.disabled),e.uIk("id",t.inputId)("tabindex",t.tabindex)("aria-labelledby",t.ariaLabelledBy),e.xp6(2),e.Q6J("ngClass",e.kEZ(17,ip,null!=t.value,t.disabled,t.focused)),e.uIk("aria-checked",!0===t.value),e.xp6(1),e.Q6J("ngClass",!0===t.value?t.checkboxTrueIcon:!1===t.value?t.checkboxFalseIcon:""),e.xp6(1),e.Q6J("ngIf",t.label))},directives:[I.PC,I.mk,I.O5],encapsulation:2,changeDetection:0}),r}(),op=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez]]}),r}(),bt=X(5959),sp=["container"],lp=["resizeHelper"],up=["reorderIndicatorUp"],cp=["reorderIndicatorDown"],dp=["wrapper"],pp=["table"],gp=["tableHeader"];function hp(r,a){if(1&r&&(e.TgZ(0,"div",14),e._UZ(1,"i"),e.qZA()),2&r){var n=e.oxw();e.xp6(1),e.Tol("p-datatable-loading-icon pi-spin "+n.loadingIcon)}}function fp(r,a){1&r&&e.GkF(0)}function mp(r,a){if(1&r&&(e.TgZ(0,"div",15),e.YNc(1,fp,1,0,"ng-container",16),e.qZA()),2&r){var n=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",n.captionTemplate)}}function vp(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"p-paginator",17),e.NdJ("onPageChange",function(o){return e.CHM(n),e.oxw().onPageChange(o)}),e.qZA()}if(2&r){var t=e.oxw();e.Q6J("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)}}function bp(r,a){1&r&&e.GkF(0)}function yp(r,a){1&r&&e.GkF(0)}function _p(r,a){if(1&r&&e._UZ(0,"tbody",25),2&r){var n=e.oxw(2);e.Q6J("value",n.frozenValue)("frozenRows",!0)("pTableBody",n.columns)("pTableBodyTemplate",n.frozenBodyTemplate)("frozen",!0)}}function Tp(r,a){1&r&&e.GkF(0)}var rt=function(a){return{$implicit:a}};function Cp(r,a){if(1&r&&(e.TgZ(0,"tfoot",26),e.YNc(1,Tp,1,0,"ng-container",20),e.qZA()),2&r){var n=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",n.footerGroupedTemplate||n.footerTemplate)("ngTemplateOutletContext",e.VKq(2,rt,n.columns))}}function Zp(r,a){if(1&r&&(e.TgZ(0,"table",18,19),e.YNc(2,bp,1,0,"ng-container",20),e.TgZ(3,"thead",21),e.YNc(4,yp,1,0,"ng-container",20),e.qZA(),e.YNc(5,_p,1,5,"tbody",22),e._UZ(6,"tbody",23),e.YNc(7,Cp,2,4,"tfoot",24),e.qZA()),2&r){var n=e.oxw();e.Q6J("ngClass",n.tableStyleClass)("ngStyle",n.tableStyle),e.uIk("id",n.id+"-table"),e.xp6(2),e.Q6J("ngTemplateOutlet",n.colGroupTemplate)("ngTemplateOutletContext",e.VKq(12,rt,n.columns)),e.xp6(2),e.Q6J("ngTemplateOutlet",n.headerGroupedTemplate||n.headerTemplate)("ngTemplateOutletContext",e.VKq(14,rt,n.columns)),e.xp6(1),e.Q6J("ngIf",n.frozenValue||n.frozenBodyTemplate),e.xp6(1),e.Q6J("value",n.dataToRender)("pTableBody",n.columns)("pTableBodyTemplate",n.bodyTemplate),e.xp6(1),e.Q6J("ngIf",n.footerGroupedTemplate||n.footerTemplate)}}function kp(r,a){1&r&&e.GkF(0)}function Sp(r,a){1&r&&e.GkF(0)}function Ap(r,a){if(1&r&&e._UZ(0,"tbody",25),2&r){var n=e.oxw(2);e.Q6J("value",n.frozenValue)("frozenRows",!0)("pTableBody",n.columns)("pTableBodyTemplate",n.bodyTemplate)("frozen",!0)}}function wp(r,a){1&r&&e.GkF(0)}function xp(r,a){if(1&r&&(e.TgZ(0,"tfoot",26),e.YNc(1,wp,1,0,"ng-container",20),e.qZA()),2&r){var n=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",n.footerGroupedTemplate||n.footerTemplate)("ngTemplateOutletContext",e.VKq(2,rt,n.columns))}}function Op(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"cdk-virtual-scroll-viewport",27),e.NdJ("scrolledIndexChange",function(o){return e.CHM(n),e.oxw().onScrollIndexChange(o)}),e.TgZ(1,"table",18,19),e.YNc(3,kp,1,0,"ng-container",20),e.TgZ(4,"thead",21,28),e.YNc(6,Sp,1,0,"ng-container",20),e.qZA(),e.YNc(7,Ap,1,5,"tbody",22),e._UZ(8,"tbody",23),e.YNc(9,xp,2,4,"tfoot",24),e.qZA(),e.qZA()}if(2&r){var t=e.oxw();e.Udp("height","flex"!==t.scrollHeight?t.scrollHeight:void 0),e.Q6J("itemSize",t.virtualRowHeight)("minBufferPx",t.minBufferPx)("maxBufferPx",t.maxBufferPx),e.xp6(1),e.Q6J("ngClass",t.tableStyleClass)("ngStyle",t.tableStyle),e.uIk("id",t.id+"-table"),e.xp6(2),e.Q6J("ngTemplateOutlet",t.colGroupTemplate)("ngTemplateOutletContext",e.VKq(17,rt,t.columns)),e.xp6(3),e.Q6J("ngTemplateOutlet",t.headerGroupedTemplate||t.headerTemplate)("ngTemplateOutletContext",e.VKq(19,rt,t.columns)),e.xp6(1),e.Q6J("ngIf",t.frozenValue||t.frozenBodyTemplate),e.xp6(1),e.Q6J("value",t.dataToRender)("pTableBody",t.columns)("pTableBodyTemplate",t.bodyTemplate),e.xp6(1),e.Q6J("ngIf",t.footerGroupedTemplate||t.footerTemplate)}}function qp(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"p-paginator",29),e.NdJ("onPageChange",function(o){return e.CHM(n),e.oxw().onPageChange(o)}),e.qZA()}if(2&r){var t=e.oxw();e.Q6J("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showFirstLastIcon",t.showFirstLastIcon)("dropdownItemTemplate",t.paginatorDropdownItemTemplate)("showCurrentPageReport",t.showCurrentPageReport)("showJumpToPageDropdown",t.showJumpToPageDropdown)("showJumpToPageInput",t.showJumpToPageInput)("showPageLinks",t.showPageLinks)}}function Dp(r,a){1&r&&e.GkF(0)}function Mp(r,a){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,Dp,1,0,"ng-container",16),e.qZA()),2&r){var n=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",n.summaryTemplate)}}function Rp(r,a){1&r&&e._UZ(0,"div",31,32)}function Ip(r,a){1&r&&e._UZ(0,"span",33,34)}function Up(r,a){1&r&&e._UZ(0,"span",35,36)}var Pp=function(a,n,t,i,o,s,l,u,c,d,p,g,h,f){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":a,"p-datatable-auto-layout":n,"p-datatable-resizable":t,"p-datatable-resizable-fit":i,"p-datatable-scrollable":o,"p-datatable-scrollable-vertical":s,"p-datatable-scrollable-horizontal":l,"p-datatable-scrollable-both":u,"p-datatable-flex-scrollable":c,"p-datatable-responsive-stack":d,"p-datatable-responsive-scroll":p,"p-datatable-responsive":g,"p-datatable-grouped-header":h,"p-datatable-grouped-footer":f}},Ep=function(a){return{height:a}},Bp=["pTableBody",""];function Np(r,a){1&r&&e.GkF(0)}var ea=function(a,n,t,i,o){return{$implicit:a,rowIndex:n,columns:t,editing:i,frozen:o}};function Lp(r,a){if(1&r&&(e.ynx(0,3),e.YNc(1,Np,1,0,"ng-container",4),e.BQk()),2&r){var n=e.oxw(),t=n.$implicit,i=n.index,o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",e.qbA(2,ea,t,o.dt.paginator?o.dt.first+i:i,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}function Fp(r,a){1&r&&e.GkF(0)}function zp(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Fp,1,0,"ng-container",4),e.BQk()),2&r){var n=e.oxw(),t=n.$implicit,i=n.index,o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",e.qbA(2,ea,t,o.dt.paginator?o.dt.first+i:i,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}function Hp(r,a){1&r&&e.GkF(0)}var Vp=function(a,n,t,i,o,s,l){return{$implicit:a,rowIndex:n,columns:t,editing:i,frozen:o,rowgroup:s,rowspan:l}};function Jp(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Hp,1,0,"ng-container",4),e.BQk()),2&r){var n=e.oxw(),t=n.$implicit,i=n.index,o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",e.Hh0(2,Vp,t,o.dt.paginator?o.dt.first+i:i,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen,o.shouldRenderRowspan(o.value,t,i),o.calculateRowGroupSize(o.value,t,i)))}}function Yp(r,a){1&r&&e.GkF(0)}function Qp(r,a){if(1&r&&(e.ynx(0,3),e.YNc(1,Yp,1,0,"ng-container",4),e.BQk()),2&r){var n=e.oxw(),t=n.$implicit,i=n.index,o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",e.qbA(2,ea,t,o.dt.paginator?o.dt.first+i:i,o.columns,"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}function Kp(r,a){if(1&r&&(e.YNc(0,Lp,2,8,"ng-container",2),e.YNc(1,zp,2,8,"ng-container",0),e.YNc(2,Jp,2,10,"ng-container",0),e.YNc(3,Qp,2,8,"ng-container",2)),2&r){var n=a.$implicit,t=a.index,i=e.oxw(2);e.Q6J("ngIf",i.dt.groupHeaderTemplate&&"subheader"===i.dt.rowGroupMode&&i.shouldRenderRowGroupHeader(i.value,n,t)),e.xp6(1),e.Q6J("ngIf","rowspan"!==i.dt.rowGroupMode),e.xp6(1),e.Q6J("ngIf","rowspan"===i.dt.rowGroupMode),e.xp6(1),e.Q6J("ngIf",i.dt.groupFooterTemplate&&"subheader"===i.dt.rowGroupMode&&i.shouldRenderRowGroupFooter(i.value,n,t))}}function $p(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Kp,4,4,"ng-template",1),e.BQk()),2&r){var n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.value)("ngForTrackBy",n.dt.rowTrackBy)}}function Gp(r,a){1&r&&e.GkF(0)}function Wp(r,a){if(1&r&&e.YNc(0,Gp,1,0,"ng-container",4),2&r){var n=a.$implicit,t=a.index,i=e.oxw(2);e.Q6J("ngTemplateOutlet",n?i.template:i.dt.loadingBodyTemplate)("ngTemplateOutletContext",e.qbA(2,ea,n,i.dt.paginator?i.dt.first+t:t,i.columns,"row"===i.dt.editMode&&i.dt.isRowEditing(n),i.frozen))}}function jp(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Wp,1,8,"ng-template",5),e.BQk()),2&r){var n=e.oxw();e.xp6(1),e.Q6J("cdkVirtualForOf",n.value)("cdkVirtualForTrackBy",n.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function Xp(r,a){1&r&&e.GkF(0)}var ta=function(a,n,t,i,o,s){return{$implicit:a,rowIndex:n,columns:t,expanded:i,editing:o,frozen:s}};function eg(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Xp,1,0,"ng-container",4),e.BQk()),2&r){var n=e.oxw(),t=n.$implicit,i=n.index,o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",e.HTZ(2,ta,t,o.dt.paginator?o.dt.first+i:i,o.columns,o.dt.isRowExpanded(t),"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}function tg(r,a){1&r&&e.GkF(0)}function ng(r,a){if(1&r&&(e.ynx(0,3),e.YNc(1,tg,1,0,"ng-container",4),e.BQk()),2&r){var n=e.oxw(),t=n.$implicit,i=n.index,o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o.dt.groupHeaderTemplate)("ngTemplateOutletContext",e.HTZ(2,ta,t,o.dt.paginator?o.dt.first+i:i,o.columns,o.dt.isRowExpanded(t),"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}function ag(r,a){1&r&&e.GkF(0)}function ig(r,a){1&r&&e.GkF(0)}function rg(r,a){if(1&r&&(e.ynx(0,3),e.YNc(1,ig,1,0,"ng-container",4),e.BQk()),2&r){var n=e.oxw(2),t=n.$implicit,i=n.index,o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o.dt.groupFooterTemplate)("ngTemplateOutletContext",e.HTZ(2,ta,t,o.dt.paginator?o.dt.first+i:i,o.columns,o.dt.isRowExpanded(t),"row"===o.dt.editMode&&o.dt.isRowEditing(t),o.frozen))}}var eo=function(a,n,t,i){return{$implicit:a,rowIndex:n,columns:t,frozen:i}};function og(r,a){if(1&r&&(e.ynx(0),e.YNc(1,ag,1,0,"ng-container",4),e.YNc(2,rg,2,9,"ng-container",2),e.BQk()),2&r){var n=e.oxw(),t=n.$implicit,i=n.index,o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o.dt.expandedRowTemplate)("ngTemplateOutletContext",e.l5B(3,eo,t,o.dt.paginator?o.dt.first+i:i,o.columns,o.frozen)),e.xp6(1),e.Q6J("ngIf",o.dt.groupFooterTemplate&&"subheader"===o.dt.rowGroupMode&&o.shouldRenderRowGroupFooter(o.value,t,i))}}function sg(r,a){if(1&r&&(e.YNc(0,eg,2,9,"ng-container",0),e.YNc(1,ng,2,9,"ng-container",2),e.YNc(2,og,3,8,"ng-container",0)),2&r){var n=a.$implicit,t=a.index,i=e.oxw(2);e.Q6J("ngIf",!i.dt.groupHeaderTemplate),e.xp6(1),e.Q6J("ngIf",i.dt.groupHeaderTemplate&&"subheader"===i.dt.rowGroupMode&&i.shouldRenderRowGroupHeader(i.value,n,t)),e.xp6(1),e.Q6J("ngIf",i.dt.isRowExpanded(n))}}function lg(r,a){if(1&r&&(e.ynx(0),e.YNc(1,sg,3,3,"ng-template",1),e.BQk()),2&r){var n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.value)("ngForTrackBy",n.dt.rowTrackBy)}}function ug(r,a){1&r&&e.GkF(0)}function cg(r,a){1&r&&e.GkF(0)}function dg(r,a){if(1&r&&(e.ynx(0),e.YNc(1,cg,1,0,"ng-container",4),e.BQk()),2&r){var n=e.oxw(),t=n.$implicit,i=n.index,o=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",o.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",e.l5B(2,eo,t,o.dt.paginator?o.dt.first+i:i,o.columns,o.frozen))}}function pg(r,a){if(1&r&&(e.YNc(0,ug,1,0,"ng-container",4),e.YNc(1,dg,2,7,"ng-container",0)),2&r){var n=a.$implicit,t=a.index,i=e.oxw(2);e.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",e.HTZ(3,ta,n,i.dt.paginator?i.dt.first+t:t,i.columns,i.dt.isRowExpanded(n),"row"===i.dt.editMode&&i.dt.isRowEditing(n),i.frozen)),e.xp6(1),e.Q6J("ngIf",i.dt.isRowExpanded(n))}}function gg(r,a){if(1&r&&(e.ynx(0),e.YNc(1,pg,2,10,"ng-template",1),e.BQk()),2&r){var n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.value)("ngForTrackBy",n.dt.rowTrackBy)}}function hg(r,a){1&r&&e.GkF(0)}var to=function(a,n){return{$implicit:a,frozen:n}};function fg(r,a){if(1&r&&(e.ynx(0),e.YNc(1,hg,1,0,"ng-container",4),e.BQk()),2&r){var n=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",n.dt.loadingBodyTemplate)("ngTemplateOutletContext",e.WLB(2,to,n.columns,n.frozen))}}function mg(r,a){1&r&&e.GkF(0)}function vg(r,a){if(1&r&&(e.ynx(0),e.YNc(1,mg,1,0,"ng-container",4),e.BQk()),2&r){var n=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",n.dt.emptyMessageTemplate)("ngTemplateOutletContext",e.WLB(2,to,n.columns,n.frozen))}}function bg(r,a){if(1&r&&(e.TgZ(0,"span",2),e._uU(1),e.qZA()),2&r){var n=e.oxw();e.xp6(1),e.Oqu(n.getBadgeValue())}}var yg=function(a,n,t){return{"pi-sort-amount-up-alt":a,"pi-sort-amount-down":n,"pi-sort-alt":t}},li=["box"],Sg=function(a,n){return{"p-checkbox-box p-component":!0,"p-highlight":a,"p-disabled":n}},no=function(a){return{"pi pi-check":a}},Ag=function(a,n){return{"p-checkbox-box":!0,"p-highlight":a,"p-disabled":n}},Xe=function(){var r=function(){function a(){(0,M.Z)(this,a),this.sortSource=new bt.xQ,this.selectionSource=new bt.xQ,this.contextMenuSource=new bt.xQ,this.valueSource=new bt.xQ,this.totalRecordsSource=new bt.xQ,this.columnsSource=new bt.xQ,this.resetSource=new bt.xQ,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}return(0,R.Z)(a,[{key:"onSort",value:function(t){this.sortSource.next(t)}},{key:"onSelectionChange",value:function(){this.selectionSource.next(null)}},{key:"onResetChange",value:function(){this.resetSource.next(null)}},{key:"onContextMenu",value:function(t){this.contextMenuSource.next(t)}},{key:"onValueChange",value:function(t){this.valueSource.next(t)}},{key:"onTotalRecordsChange",value:function(t){this.totalRecordsSource.next(t)}},{key:"onColumnsChange",value:function(t){this.columnsSource.next(t)}}]),a}();return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r}(),N=function(){var r=function(){function a(n,t,i,o,s,l){(0,M.Z)(this,a),this.el=n,this.zone=t,this.tableService=i,this.cd=o,this.filterService=s,this.overlayService=l,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectionChange=new e.vpe,this.contextMenuSelectionChange=new e.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=function(u,c){return c},this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new e.vpe,this.onRowUnselect=new e.vpe,this.onPage=new e.vpe,this.onSort=new e.vpe,this.onFilter=new e.vpe,this.onLazyLoad=new e.vpe,this.onRowExpand=new e.vpe,this.onRowCollapse=new e.vpe,this.onContextMenuSelect=new e.vpe,this.onColResize=new e.vpe,this.onColReorder=new e.vpe,this.onRowReorder=new e.vpe,this.onEditInit=new e.vpe,this.onEditComplete=new e.vpe,this.onEditCancel=new e.vpe,this.onHeaderCheckboxToggle=new e.vpe,this.sortFunction=new e.vpe,this.firstChange=new e.vpe,this.rowsChange=new e.vpe,this.onStateSave=new e.vpe,this.onStateRestore=new e.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=(0,E.Th)()}return(0,R.Z)(a,[{key:"ngOnInit",value:function(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}},{key:"ngAfterContentInit",value:function(){var t=this;this.templates.forEach(function(i){switch(i.getType()){case"caption":t.captionTemplate=i.template;break;case"header":t.headerTemplate=i.template;break;case"headergrouped":t.headerGroupedTemplate=i.template;break;case"body":t.bodyTemplate=i.template;break;case"loadingbody":t.loadingBodyTemplate=i.template;break;case"footer":t.footerTemplate=i.template;break;case"footergrouped":t.footerGroupedTemplate=i.template;break;case"summary":t.summaryTemplate=i.template;break;case"colgroup":t.colGroupTemplate=i.template;break;case"rowexpansion":t.expandedRowTemplate=i.template;break;case"groupheader":t.groupHeaderTemplate=i.template;break;case"rowspan":t.rowspanTemplate=i.template;break;case"groupfooter":t.groupFooterTemplate=i.template;break;case"frozenrows":t.frozenRowsTemplate=i.template;break;case"frozenheader":t.frozenHeaderTemplate=i.template;break;case"frozenbody":t.frozenBodyTemplate=i.template;break;case"frozenfooter":t.frozenFooterTemplate=i.template;break;case"frozencolgroup":t.frozenColGroupTemplate=i.template;break;case"frozenrowexpansion":t.frozenExpandedRowTemplate=i.template;break;case"emptymessage":t.emptyMessageTemplate=i.template;break;case"paginatorleft":t.paginatorLeftTemplate=i.template;break;case"paginatorright":t.paginatorRightTemplate=i.template;break;case"paginatordropdownitem":t.paginatorDropdownItemTemplate=i.template}})}},{key:"ngAfterViewInit",value:function(){var t=this;this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(function(i){t.tableHeaderViewChild.nativeElement.style.top=i.start*t.virtualRowHeight*-1+"px"}))}},{key:"ngOnChanges",value:function(t){t.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=t.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(t.value.currentValue)),t.columns&&(this._columns=t.columns.currentValue,this.tableService.onColumnsChange(t.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),t.sortField&&(this._sortField=t.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),t.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),t.sortOrder&&(this._sortOrder=t.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),t.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),t.multiSortMeta&&(this._multiSortMeta=t.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),t.selection&&(this._selection=t.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}},{key:"value",get:function(){return this._value},set:function(t){this._value=t}},{key:"columns",get:function(){return this._columns},set:function(t){this._columns=t}},{key:"first",get:function(){return this._first},set:function(t){this._first=t}},{key:"rows",get:function(){return this._rows},set:function(t){this._rows=t}},{key:"totalRecords",get:function(){return this._totalRecords},set:function(t){this._totalRecords=t,this.tableService.onTotalRecordsChange(this._totalRecords)}},{key:"sortField",get:function(){return this._sortField},set:function(t){this._sortField=t}},{key:"sortOrder",get:function(){return this._sortOrder},set:function(t){this._sortOrder=t}},{key:"multiSortMeta",get:function(){return this._multiSortMeta},set:function(t){this._multiSortMeta=t}},{key:"selection",get:function(){return this._selection},set:function(t){this._selection=t}},{key:"dataToRender",get:function(){var t=this.filteredValue||this.value;return t?this.paginator&&!this.lazy?t.slice(this.first,this.first+this.rows):t:[]}},{key:"updateSelectionKeys",value:function(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection)){var i,t=(0,V.Z)(this._selection);try{for(t.s();!(i=t.n()).done;)this.selectionKeys[String(E.gb.resolveFieldData(i.value,this.dataKey))]=1}catch(s){t.e(s)}finally{t.f()}}else this.selectionKeys[String(E.gb.resolveFieldData(this._selection,this.dataKey))]=1}},{key:"onPageChange",value:function(t){this.first=t.first,this.rows=t.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}},{key:"sort",value:function(t){var i=t.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===t.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=t.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){var o=i.metaKey||i.ctrlKey,s=this.getSortMeta(t.field);s?o?s.order=-1*s.order:(this._multiSortMeta=[{field:t.field,order:-1*s.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!o||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:t.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}},{key:"sortSingle",value:function(){var t=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(t&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:t,order:i}):(this.value.sort(function(s,l){var d,u=E.gb.resolveFieldData(s,t),c=E.gb.resolveFieldData(l,t);return d=null==u&&null!=c?-1:null!=u&&null==c?1:null==u&&null==c?0:"string"==typeof u&&"string"==typeof c?u.localeCompare(c):u<c?-1:u>c?1:0,i*d}),this._value=(0,W.Z)(this.value)),this.hasFilter()&&this._filter());var o={field:t,order:i};this.onSort.emit(o),this.tableService.onSort(o)}}},{key:"sortMultiple",value:function(){var t=this;this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta()].concat((0,W.Z)(this._multiSortMeta))):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort(function(i,o){return t.multisortField(i,o,t.multiSortMeta,0)}),this._value=(0,W.Z)(this.value)),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}},{key:"multisortField",value:function(t,i,o,s){var l=E.gb.resolveFieldData(t,o[s].field),u=E.gb.resolveFieldData(i,o[s].field),c=null;if(null==l&&null!=u)c=-1;else if(null!=l&&null==u)c=1;else if(null==l&&null==u)c=0;else if("string"==typeof l||l instanceof String){if(l.localeCompare&&l!=u)return o[s].order*l.localeCompare(u)}else c=l<u?-1:1;return l==u?o.length-1>s?this.multisortField(t,i,o,s+1):0:o[s].order*c}},{key:"getSortMeta",value:function(t){if(this.multiSortMeta&&this.multiSortMeta.length)for(var i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===t)return this.multiSortMeta[i];return null}},{key:"isSorted",value:function(t){if("single"===this.sortMode)return this.sortField&&this.sortField===t;if("multiple"===this.sortMode){var i=!1;if(this.multiSortMeta)for(var o=0;o<this.multiSortMeta.length;o++)if(this.multiSortMeta[o].field==t){i=!0;break}return i}}},{key:"handleRowClick",value:function(t){var i=t.originalEvent.target,o=i.nodeName,s=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=o&&"BUTTON"!=o&&"A"!=o&&"INPUT"!=s&&"BUTTON"!=s&&"A"!=s&&!k.p.hasClass(t.originalEvent.target,"p-clickable")){if(this.selectionMode){if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&t.originalEvent.shiftKey&&null!=this.anchorRowIndex)k.p.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(t.originalEvent),this.rangeRowIndex=t.rowIndex,this.selectRange(t.originalEvent,t.rowIndex);else{var l=t.rowData,u=this.isSelected(l),c=!this.rowTouched&&this.metaKeySelection,d=this.dataKey?String(E.gb.resolveFieldData(l,this.dataKey)):null;if(this.anchorRowIndex=t.rowIndex,this.rangeRowIndex=t.rowIndex,c){var p=t.originalEvent.metaKey||t.originalEvent.ctrlKey;if(u&&p){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{var g=this.findIndexInSelection(l);this._selection=this.selection.filter(function(f,m){return m!=g}),this.selectionChange.emit(this.selection),d&&delete this.selectionKeys[d]}this.onRowUnselect.emit({originalEvent:t.originalEvent,data:l,type:"row"})}else this.isSingleSelectionMode()?(this._selection=l,this.selectionChange.emit(l),d&&(this.selectionKeys={},this.selectionKeys[d]=1)):this.isMultipleSelectionMode()&&(p?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[].concat((0,W.Z)(this.selection),[l]),this.selectionChange.emit(this.selection),d&&(this.selectionKeys[d]=1)),this.onRowSelect.emit({originalEvent:t.originalEvent,data:l,type:"row",index:t.rowIndex})}else if("single"===this.selectionMode)u?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:l,type:"row",index:t.rowIndex})):(this._selection=l,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:l,type:"row",index:t.rowIndex}),d&&(this.selectionKeys={},this.selectionKeys[d]=1));else if("multiple"===this.selectionMode)if(u){var h=this.findIndexInSelection(l);this._selection=this.selection.filter(function(f,m){return m!=h}),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:l,type:"row",index:t.rowIndex}),d&&delete this.selectionKeys[d]}else this._selection=this.selection?[].concat((0,W.Z)(this.selection),[l]):[l],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:l,type:"row",index:t.rowIndex}),d&&(this.selectionKeys[d]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}},{key:"handleRowTouchEnd",value:function(t){this.rowTouched=!0}},{key:"handleRowRightClick",value:function(t){if(this.contextMenu){var i=t.rowData;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,data:i,index:t.rowIndex}),this.contextMenu.show(t.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;var o=this.isSelected(i),s=this.dataKey?String(E.gb.resolveFieldData(i,this.dataKey)):null;o||(this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),s&&(this.selectionKeys={},this.selectionKeys[s]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[].concat((0,W.Z)(this.selection),[i]):[i],this.selectionChange.emit(this.selection),s&&(this.selectionKeys[s]=1))),this.tableService.onSelectionChange(),this.contextMenu.show(t.originalEvent),this.onContextMenuSelect.emit({originalEvent:t,data:i,index:t.rowIndex})}}}},{key:"selectRange",value:function(t,i){var o,s;this.anchorRowIndex>i?(o=i,s=this.anchorRowIndex):this.anchorRowIndex<i?(o=this.anchorRowIndex,s=i):(o=i,s=i),this.lazy&&this.paginator&&(o-=this.first,s-=this.first);for(var l=[],u=o;u<=s;u++){var c=this.filteredValue?this.filteredValue[u]:this.value[u];if(!this.isSelected(c)){l.push(c),this._selection=[].concat((0,W.Z)(this.selection),[c]);var d=this.dataKey?String(E.gb.resolveFieldData(c,this.dataKey)):null;d&&(this.selectionKeys[d]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t,data:l,type:"row"})}},{key:"clearSelectionRange",value:function(t){var o,s,i=this;this.rangeRowIndex>this.anchorRowIndex?(o=this.anchorRowIndex,s=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(o=this.rangeRowIndex,s=this.anchorRowIndex):(o=this.rangeRowIndex,s=this.rangeRowIndex);for(var l=function(d){var p=i.value[d],g=i.findIndexInSelection(p);i._selection=i.selection.filter(function(f,m){return m!=g});var h=i.dataKey?String(E.gb.resolveFieldData(p,i.dataKey)):null;h&&delete i.selectionKeys[h],i.onRowUnselect.emit({originalEvent:t,data:p,type:"row"})},u=o;u<=s;u++)l(u)}},{key:"isSelected",value:function(t){return!(!t||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[E.gb.resolveFieldData(t,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(t)>-1:this.equals(t,this.selection))}},{key:"findIndexInSelection",value:function(t){var i=-1;if(this.selection&&this.selection.length)for(var o=0;o<this.selection.length;o++)if(this.equals(t,this.selection[o])){i=o;break}return i}},{key:"toggleRowWithRadio",value:function(t,i){this.preventSelectionSetterPropagation=!0,this.selection!=i?(this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(E.gb.resolveFieldData(i,this.dataKey))]=1)):(this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"radiobutton"})),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}},{key:"toggleRowWithCheckbox",value:function(t,i){this.selection=this.selection||[];var o=this.isSelected(i),s=this.dataKey?String(E.gb.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,o){var l=this.findIndexInSelection(i);this._selection=this.selection.filter(function(u,c){return c!=l}),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),s&&delete this.selectionKeys[s]}else this._selection=this.selection?[].concat((0,W.Z)(this.selection),[i]):[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:i,type:"checkbox"}),s&&(this.selectionKeys[s]=1);this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}},{key:"toggleRowsWithCheckbox",value:function(t,i){this._selection=i?this.filteredValue?this.filteredValue.slice():this.value.slice():[],this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:i}),this.isStateful()&&this.saveState()}},{key:"equals",value:function(t,i){return"equals"===this.compareSelectionBy?t===i:E.gb.equals(t,i,this.dataKey)}},{key:"filter",value:function(t,i,o){var s=this;this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(t)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:t,matchMode:o},this.filterTimeout=setTimeout(function(){s._filter(),s.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}},{key:"filterGlobal",value:function(t,i){this.filter(t,"global",i)}},{key:"isFilterBlank",value:function(t){return null==t||"string"==typeof t&&0==t.trim().length||t instanceof Array&&0==t.length}},{key:"_filter",value:function(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){var t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredValue=[];for(var i=0;i<this.value.length;i++){var o=!0,s=!1,l=!1;for(var u in this.filters)if(this.filters.hasOwnProperty(u)&&"global"!==u){l=!0;var c=u,d=this.filters[c];if(Array.isArray(d)){var g,p=(0,V.Z)(d);try{for(p.s();!(g=p.n()).done;){var h=g.value;if(o=this.executeLocalFilter(c,this.value[i],h),h.operator===D.pg.OR&&o||h.operator===D.pg.AND&&!o)break}}catch(b){p.e(b)}finally{p.f()}}else o=this.executeLocalFilter(c,this.value[i],d);if(!o)break}if(this.filters.global&&!s&&t)for(var f=0;f<t.length&&!(s=this.filterService.filters[this.filters.global.matchMode](E.gb.resolveFieldData(this.value[i],t[f].field||t[f]),this.filters.global.value,this.filterLocale));f++);(this.filters.global?l?l&&o&&s:s:l&&o)&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}},{key:"executeLocalFilter",value:function(t,i,o){var s=o.value,l=o.matchMode||D.a6.STARTS_WITH,u=E.gb.resolveFieldData(i,t);return(0,this.filterService.filters[l])(u,s,this.filterLocale)}},{key:"hasFilter",value:function(){var t=!0;for(var i in this.filters)if(this.filters.hasOwnProperty(i)){t=!1;break}return!t}},{key:"createLazyLoadMetadata",value:function(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}},{key:"clear",value:function(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}},{key:"reset",value:function(){this.clear()}},{key:"exportCSV",value:function(t){var o,i=this,s="",l=this.frozenColumns?[].concat((0,W.Z)(this.frozenColumns),(0,W.Z)(this.columns)):this.columns;t&&t.selectionOnly?o=this.selection||[]:(o=this.filteredValue||this.value,this.frozenValue&&(o=o?[].concat((0,W.Z)(this.frozenValue),(0,W.Z)(o)):this.frozenValue));for(var u=0;u<l.length;u++){var c=l[u];!1!==c.exportable&&c.field&&(s+='"'+(c.header||c.field)+'"',u<l.length-1&&(s+=this.csvSeparator))}o.forEach(function(g,h){s+="\n";for(var f=0;f<l.length;f++){var m=l[f];if(!1!==m.exportable&&m.field){var v=E.gb.resolveFieldData(g,m.field);v=null!=v?i.exportFunction?i.exportFunction({data:v,field:m.field}):String(v).replace(/"/g,'""'):"",s+='"'+v+'"',f<l.length-1&&(s+=i.csvSeparator)}}});var d=new Blob([s],{type:"text/csv;charset=utf-8;"}),p=document.createElement("a");p.style.display="none",document.body.appendChild(p),void 0!==p.download?(p.setAttribute("href",URL.createObjectURL(d)),p.setAttribute("download",this.exportFilename+".csv"),p.click()):(s="data:text/csv;charset=utf-8,"+s,window.open(encodeURI(s))),document.body.removeChild(p)}},{key:"resetScrollTop",value:function(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}},{key:"scrollToVirtualIndex",value:function(t){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(t)}},{key:"onScrollIndexChange",value:function(t){var i=this;this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(function(){var o=Math.floor(t/i.rows),s=0===o?0:(o-1)*i.rows,l=0===o?2*i.rows:3*i.rows;o!==i.virtualPage&&(i.virtualPage=o,i.onLazyLoad.emit({first:s,rows:l,sortField:i.sortField,sortOrder:i.sortOrder,filters:i.filters,globalFilter:i.filters&&i.filters.global?i.filters.global.value:null,multiSortMeta:i.multiSortMeta}))},this.virtualScrollDelay))}},{key:"scrollTo",value:function(t){this.virtualScrollBody?this.virtualScrollBody.scrollTo(t):this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top)}},{key:"updateEditingCell",value:function(t,i,o,s){this.editingCell=t,this.editingCellData=i,this.editingCellField=o,this.editingCellRowIndex=s,this.bindDocumentEditListener()}},{key:"isEditingCellValid",value:function(){return this.editingCell&&0===k.p.find(this.editingCell,".ng-invalid.ng-dirty").length}},{key:"bindDocumentEditListener",value:function(){var t=this;this.documentEditListener||(this.documentEditListener=function(i){t.editingCell&&!t.selfClick&&t.isEditingCellValid()&&(k.p.removeClass(t.editingCell,"p-cell-editing"),t.editingCell=null,t.onEditComplete.emit({field:t.editingCellField,data:t.editingCellData,originalEvent:i,index:t.editingCellRowIndex}),t.editingCellField=null,t.editingCellData=null,t.editingCellRowIndex=null,t.unbindDocumentEditListener(),t.cd.markForCheck(),t.overlaySubscription&&t.overlaySubscription.unsubscribe()),t.selfClick=!1},document.addEventListener("click",this.documentEditListener))}},{key:"unbindDocumentEditListener",value:function(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}},{key:"initRowEdit",value:function(t){var i=String(E.gb.resolveFieldData(t,this.dataKey));this.editingRowKeys[i]=!0}},{key:"saveRowEdit",value:function(t,i){if(0===k.p.find(i,".ng-invalid.ng-dirty").length){var o=String(E.gb.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[o]}}},{key:"cancelRowEdit",value:function(t){var i=String(E.gb.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[i]}},{key:"toggleRow",value:function(t,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");var o=String(E.gb.resolveFieldData(t,this.dataKey));null!=this.expandedRowKeys[o]?(delete this.expandedRowKeys[o],this.onRowCollapse.emit({originalEvent:i,data:t})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[o]=!0,this.onRowExpand.emit({originalEvent:i,data:t})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}},{key:"isRowExpanded",value:function(t){return!0===this.expandedRowKeys[String(E.gb.resolveFieldData(t,this.dataKey))]}},{key:"isRowEditing",value:function(t){return!0===this.editingRowKeys[String(E.gb.resolveFieldData(t,this.dataKey))]}},{key:"isSingleSelectionMode",value:function(){return"single"===this.selectionMode}},{key:"isMultipleSelectionMode",value:function(){return"multiple"===this.selectionMode}},{key:"onColumnResizeBegin",value:function(t){var i=k.p.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=t.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=t.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(t),t.preventDefault()}},{key:"onColumnResize",value:function(t){var i=k.p.getOffset(this.containerViewChild.nativeElement).left;k.p.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=t.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}},{key:"onColumnResizeEnd",value:function(){var t=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,o=this.resizeColumnElement.offsetWidth+t;if(o>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){var l=this.resizeColumnElement.nextElementSibling,u=l.offsetWidth-t;o>15&&u>15&&(this.scrollable?this.resizeTableCells(o,u):(this.resizeColumnElement.style.width=o+"px",l&&(l.style.width=u+"px")))}else if("expand"===this.columnResizeMode){var c=this.tableViewChild.nativeElement.offsetWidth+t;this.tableViewChild.nativeElement.style.minWidth=c+"px",this.resizeColumnElement.style.width=o+"px",this.scrollable?this.resizeTableCells(o,null):this.tableViewChild.nativeElement.style.width=c+"px"}this.onColResize.emit({element:this.resizeColumnElement,delta:t}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",k.p.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}},{key:"resizeTableCells",value:function(t,i){var o=this,s=k.p.index(this.resizeColumnElement),l=[],u=k.p.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");k.p.find(u,"tr > th").forEach(function(p){return l.push(k.p.getOuterWidth(p))}),this.destroyStyleElement(),this.createStyleElement();var d="";l.forEach(function(p,g){var h=g===s?t:i&&g===s+1?i:p;d+="\n                #".concat(o.id,"-table > .p-datatable-thead > tr > th:nth-child(").concat(g+1,") {\n                    flex: 0 0 ").concat(h,"px !important;\n                }\n\n                #").concat(o.id,"-table > .p-datatable-tbody > tr > td:nth-child(").concat(g+1,") {\n                    flex: 0 0 ").concat(h,"px !important;\n                }\n            ")}),this.styleElement.innerHTML=d}},{key:"onColumnDragStart",value:function(t,i){this.reorderIconWidth=k.p.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=k.p.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,t.dataTransfer.setData("text","b")}},{key:"onColumnDragEnter",value:function(t,i){if(this.reorderableColumns&&this.draggedColumn&&i){t.preventDefault();var o=k.p.getOffset(this.containerViewChild.nativeElement),s=k.p.getOffset(i);if(this.draggedColumn!=i){var l=k.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),u=k.p.indexWithinGroup(i,"preorderablecolumn"),c=s.left-o.left,p=s.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=s.top-o.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=s.top-o.top+i.offsetHeight+"px",t.pageX>p?(this.reorderIndicatorUpViewChild.nativeElement.style.left=c+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=c+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=c-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=c-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),u-l==1&&-1===this.dropPosition||u-l==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else t.dataTransfer.dropEffect="none"}}},{key:"onColumnDragLeave",value:function(t){this.reorderableColumns&&this.draggedColumn&&(t.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}},{key:"onColumnDrop",value:function(t,i){var o=this;if(t.preventDefault(),this.draggedColumn){var s=k.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),l=k.p.indexWithinGroup(i,"preorderablecolumn"),u=s!=l;u&&(l-s==1&&-1===this.dropPosition||s-l==1&&1===this.dropPosition)&&(u=!1),u&&l<s&&1===this.dropPosition&&(l+=1),u&&l>s&&-1===this.dropPosition&&(l-=1),u&&(E.gb.reorderArray(this.columns,s,l),this.onColReorder.emit({dragIndex:s,dropIndex:l,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(function(){setTimeout(function(){o.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}},{key:"onRowDragStart",value:function(t,i){this.rowDragging=!0,this.draggedRowIndex=i,t.dataTransfer.setData("text","b")}},{key:"onRowDragOver",value:function(t,i,o){if(this.rowDragging&&this.draggedRowIndex!==i){var s=k.p.getOffset(o).top+k.p.getWindowScrollTop(),l=t.pageY,u=s+k.p.getOuterHeight(o)/2,c=o.previousElementSibling;l<u?(k.p.removeClass(o,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,c?k.p.addClass(c,"p-datatable-dragpoint-bottom"):k.p.addClass(o,"p-datatable-dragpoint-top")):(c?k.p.removeClass(c,"p-datatable-dragpoint-bottom"):k.p.addClass(o,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,k.p.addClass(o,"p-datatable-dragpoint-bottom"))}}},{key:"onRowDragLeave",value:function(t,i){var o=i.previousElementSibling;o&&k.p.removeClass(o,"p-datatable-dragpoint-bottom"),k.p.removeClass(i,"p-datatable-dragpoint-bottom"),k.p.removeClass(i,"p-datatable-dragpoint-top")}},{key:"onRowDragEnd",value:function(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}},{key:"onRowDrop",value:function(t,i){if(null!=this.droppedRowIndex){var o=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;E.gb.reorderArray(this.value,this.draggedRowIndex,o),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:o})}this.onRowDragLeave(t,i),this.onRowDragEnd(t)}},{key:"isEmpty",value:function(){var t=this.filteredValue||this.value;return null==t||0==t.length}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"getStorage",value:function(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}},{key:"isStateful",value:function(){return null!=this.stateKey}},{key:"saveState",value:function(){var t=this.getStorage(),i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),t.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}},{key:"clearState",value:function(){var t=this.getStorage();this.stateKey&&t.removeItem(this.stateKey)}},{key:"restoreState",value:function(){var t=this,o=this.getStorage().getItem(this.stateKey),s=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(o){var u=JSON.parse(o,function(d,p){return"string"==typeof p&&s.test(p)?new Date(p):p});this.paginator&&(void 0!==this.first&&(this.first=u.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=u.rows,this.rowsChange.emit(this.rows))),u.sortField&&(this.restoringSort=!0,this._sortField=u.sortField,this._sortOrder=u.sortOrder),u.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=u.multiSortMeta),u.filters&&(this.restoringFilter=!0,this.filters=u.filters),this.resizableColumns&&(this.columnWidthsState=u.columnWidths,this.tableWidthState=u.tableWidth),u.expandedRowKeys&&(this.expandedRowKeys=u.expandedRowKeys),u.selection&&Promise.resolve(null).then(function(){return t.selectionChange.emit(u.selection)}),this.stateRestored=!0,this.onStateRestore.emit(u)}}},{key:"saveColumnWidths",value:function(t){var i=[];k.p.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(function(s){return i.push(k.p.getOuterWidth(s))}),t.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(t.tableWidth=k.p.getOuterWidth(this.tableViewChild.nativeElement)+"px")}},{key:"restoreColumnWidths",value:function(){var t=this;if(this.columnWidthsState){var i=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.tableViewChild.nativeElement.style.minWidth=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState),this.createStyleElement(),this.scrollable&&i&&i.length>0){var o="";i.forEach(function(s,l){o+="\n                            #".concat(t.id,"-table > .p-datatable-thead > tr > th:nth-child(").concat(l+1,") {\n                                flex: 0 0 ").concat(s,"px;\n                            }\n\n                            #").concat(t.id,"-table > .p-datatable-tbody > tr > td:nth-child(").concat(l+1,") {\n                                flex: 0 0 ").concat(s,"px;\n                            }\n                        ")}),this.styleElement.innerHTML=o}else k.p.find(this.tableViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(function(s,l){s.style.width=i[l]+"px"})}}},{key:"saveColumnOrder",value:function(t){if(this.columns){var i=[];this.columns.map(function(o){i.push(o.field||o.key)}),t.columnOrder=i}}},{key:"restoreColumnOrder",value:function(){var t=this,o=this.getStorage().getItem(this.stateKey);if(o){var l=JSON.parse(o).columnOrder;if(l){var u=[];l.map(function(c){var d=t.findColumnByKey(c);d&&u.push(d)}),this.columnOrderStateRestored=!0,this.columns=u}}}},{key:"findColumnByKey",value:function(t){if(!this.columns)return null;var o,i=(0,V.Z)(this.columns);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.key===t||s.field===t)return s}}catch(l){i.e(l)}finally{i.f()}}},{key:"createStyleElement",value:function(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}},{key:"getGroupRowsMeta",value:function(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}},{key:"createResponsiveStyle",value:function(){if(!this.responsiveStyleElement){this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement);var t="\n@media screen and (max-width: ".concat(this.breakpoint,") {\n    #").concat(this.id," .p-datatable-thead > tr > th,\n    #").concat(this.id," .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #").concat(this.id," .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #").concat(this.id," .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #").concat(this.id,".p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #").concat(this.id," .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n");this.responsiveStyleElement.innerHTML=t}}},{key:"destroyResponsiveStyle",value:function(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}},{key:"destroyStyleElement",value:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}},{key:"ngOnDestroy",value:function(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(Xe),e.Y36(e.sBO),e.Y36(D.iZ),e.Y36(D.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-table"]],contentQueries:function(n,t,i){var o;1&n&&e.Suo(i,D.jx,4),2&n&&e.iGM(o=e.CRH())&&(t.templates=o)},viewQuery:function(n,t){var i;1&n&&(e.Gf(sp,5),e.Gf(lp,5),e.Gf(up,5),e.Gf(cp,5),e.Gf(dp,5),e.Gf(pp,5),e.Gf(gp,5),e.Gf(Ne.N7,5)),2&n&&(e.iGM(i=e.CRH())&&(t.containerViewChild=i.first),e.iGM(i=e.CRH())&&(t.resizeHelperViewChild=i.first),e.iGM(i=e.CRH())&&(t.reorderIndicatorUpViewChild=i.first),e.iGM(i=e.CRH())&&(t.reorderIndicatorDownViewChild=i.first),e.iGM(i=e.CRH())&&(t.wrapperViewChild=i.first),e.iGM(i=e.CRH())&&(t.tableViewChild=i.first),e.iGM(i=e.CRH())&&(t.tableHeaderViewChild=i.first),e.iGM(i=e.CRH())&&(t.virtualScrollBody=i.first))},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[e._Bn([Xe]),e.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(n,t){1&n&&(e.TgZ(0,"div",0,1),e.YNc(2,hp,2,2,"div",2),e.YNc(3,mp,2,1,"div",3),e.YNc(4,vp,1,17,"p-paginator",4),e.TgZ(5,"div",5,6),e.YNc(7,Zp,8,16,"table",7),e.YNc(8,Op,10,21,"cdk-virtual-scroll-viewport",8),e.qZA(),e.YNc(9,qp,1,17,"p-paginator",9),e.YNc(10,Mp,2,1,"div",10),e.YNc(11,Rp,2,0,"div",11),e.YNc(12,Ip,2,0,"span",12),e.YNc(13,Up,2,0,"span",13),e.qZA()),2&n&&(e.Tol(t.styleClass),e.Q6J("ngStyle",t.style)("ngClass",e.rFY(16,Pp,[t.rowHover||t.selectionMode,t.autoLayout,t.resizableColumns,t.resizableColumns&&"fit"===t.columnResizeMode,t.scrollable,t.scrollable&&"vertical"===t.scrollDirection,t.scrollable&&"horizontal"===t.scrollDirection,t.scrollable&&"both"===t.scrollDirection,t.scrollable&&"flex"===t.scrollHeight,"stack"===t.responsiveLayout,"scroll"===t.responsiveLayout,t.responsive,null!=t.headerGroupedTemplate,null!=t.footerGroupedTemplate])),e.uIk("id",t.id),e.xp6(2),e.Q6J("ngIf",t.loading&&t.showLoader),e.xp6(1),e.Q6J("ngIf",t.captionTemplate),e.xp6(1),e.Q6J("ngIf",t.paginator&&("top"===t.paginatorPosition||"both"==t.paginatorPosition)),e.xp6(1),e.Q6J("ngStyle",e.VKq(31,Ep,t.scrollHeight)),e.xp6(2),e.Q6J("ngIf",!t.virtualScroll),e.xp6(1),e.Q6J("ngIf",t.virtualScroll),e.xp6(1),e.Q6J("ngIf",t.paginator&&("bottom"===t.paginatorPosition||"both"==t.paginatorPosition)),e.xp6(1),e.Q6J("ngIf",t.summaryTemplate),e.xp6(1),e.Q6J("ngIf",t.resizableColumns),e.xp6(1),e.Q6J("ngIf",t.reorderableColumns),e.xp6(1),e.Q6J("ngIf",t.reorderableColumns))},directives:function(){return[I.PC,I.mk,I.O5,I.tP,Hd,ah,Ne.N7,Ne.xd]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-badge,.p-datatable .p-sortable-column .p-sortable-column-icon{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table,.p-datatable-responsive-scroll>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot,.p-datatable-scrollable .p-datatable-thead{display:block}.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr,.p-datatable-scrollable .p-datatable-thead>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td,.p-datatable-scrollable .p-datatable-thead>tr>th{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable .p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable .p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable .p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th\n.p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-tbody>tr>td,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-thead>tr>th{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-cancel,.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-down,.p-datatable-reorder-indicator-up{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-clear-button,.p-column-filter-menu-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}"],encapsulation:2}),r}(),ah=function(){var r=function(){function a(n,t,i,o){var s=this;(0,M.Z)(this,a),this.dt=n,this.tableService=t,this.cd=i,this.el=o,this.subscription=this.dt.tableService.valueSource$.subscribe(function(){s.dt.virtualScroll&&s.cd.detectChanges()})}return(0,R.Z)(a,[{key:"value",get:function(){return this._value},set:function(t){this._value=t,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}},{key:"ngAfterViewInit",value:function(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}},{key:"shouldRenderRowGroupHeader",value:function(t,i,o){var s=E.gb.resolveFieldData(i,this.dt.groupRowsBy),l=t[o-1];return!l||s!==E.gb.resolveFieldData(l,this.dt.groupRowsBy)}},{key:"shouldRenderRowGroupFooter",value:function(t,i,o){var s=E.gb.resolveFieldData(i,this.dt.groupRowsBy),l=t[o+1];return!l||s!==E.gb.resolveFieldData(l,this.dt.groupRowsBy)}},{key:"shouldRenderRowspan",value:function(t,i,o){var s=E.gb.resolveFieldData(i,this.dt.groupRowsBy),l=t[o-1];return!l||s!==E.gb.resolveFieldData(l,this.dt.groupRowsBy)}},{key:"calculateRowGroupSize",value:function(t,i,o){for(var s=E.gb.resolveFieldData(i,this.dt.groupRowsBy),l=s,u=0;s===l;){u++;var c=t[++o];if(!c)break;l=E.gb.resolveFieldData(c,this.dt.groupRowsBy)}return 1===u?null:u}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"updateFrozenRowStickyPosition",value:function(){this.el.nativeElement.style.top=k.p.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}},{key:"updateFrozenRowGroupHeaderStickyPosition",value:function(){if(this.el.nativeElement.previousElementSibling){var t=k.p.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=t+"px"}}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(N),e.Y36(Xe),e.Y36(e.sBO),e.Y36(e.SBq))},r.\u0275cmp=e.Xpm({type:r,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:Bp,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(n,t){1&n&&(e.YNc(0,$p,2,2,"ng-container",0),e.YNc(1,jp,2,3,"ng-container",0),e.YNc(2,lg,2,2,"ng-container",0),e.YNc(3,gg,2,2,"ng-container",0),e.YNc(4,fg,2,5,"ng-container",0),e.YNc(5,vg,2,5,"ng-container",0)),2&n&&(e.Q6J("ngIf",!t.dt.expandedRowTemplate&&!t.dt.virtualScroll),e.xp6(1),e.Q6J("ngIf",!t.dt.expandedRowTemplate&&t.dt.virtualScroll),e.xp6(1),e.Q6J("ngIf",t.dt.expandedRowTemplate&&!(t.frozen&&t.dt.frozenExpandedRowTemplate)),e.xp6(1),e.Q6J("ngIf",t.dt.frozenExpandedRowTemplate&&t.frozen),e.xp6(1),e.Q6J("ngIf",t.dt.loading),e.xp6(1),e.Q6J("ngIf",t.dt.isEmpty()&&!t.dt.loading))},directives:[I.O5,I.sg,I.tP,Ne.x0],encapsulation:2}),r}(),ae=function(){var r=function(){function a(n){var t=this;(0,M.Z)(this,a),this.dt=n,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(function(i){t.updateSortState()}))}return(0,R.Z)(a,[{key:"ngOnInit",value:function(){this.isEnabled()&&this.updateSortState()}},{key:"updateSortState",value:function(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}},{key:"onClick",value:function(t){this.isEnabled()&&!this.isFilterElement(t.target)&&(this.updateSortState(),this.dt.sort({originalEvent:t,field:this.field}),k.p.clearSelection())}},{key:"onEnterKey",value:function(t){this.onClick(t)}},{key:"isEnabled",value:function(){return!0!==this.pSortableColumnDisabled}},{key:"isFilterElement",value:function(t){return k.p.hasClass(t,"pi-filter-icon")||k.p.hasClass(t,"p-column-filter-menu-button")}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(N))},r.\u0275dir=e.lG2({type:r,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(n,t){1&n&&e.NdJ("click",function(o){return t.onClick(o)})("keydown.enter",function(o){return t.onEnterKey(o)}),2&n&&(e.uIk("tabindex",t.isEnabled()?"0":null)("role","columnheader")("aria-sort",t.sortOrder),e.ekj("p-sortable-column",t.isEnabled())("p-highlight",t.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),r}(),ie=function(){var r=function(){function a(n,t){var i=this;(0,M.Z)(this,a),this.dt=n,this.cd=t,this.subscription=this.dt.tableService.sortSource$.subscribe(function(o){i.updateSortState()})}return(0,R.Z)(a,[{key:"ngOnInit",value:function(){this.updateSortState()}},{key:"onClick",value:function(t){t.preventDefault()}},{key:"updateSortState",value:function(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){var t=this.dt.getSortMeta(this.field);this.sortOrder=t?t.order:0}this.cd.markForCheck()}},{key:"getMultiSortMetaIndex",value:function(){var t=this.dt._multiSortMeta,i=-1;if(t&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||t.length>1))for(var o=0;o<t.length;o++){var s=t[o];if(s.field===this.field||s.field===this.field){i=o;break}}return i}},{key:"getBadgeValue",value:function(){var t=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&t>-1?t:t+1}},{key:"isMultiSorted",value:function(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(N),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(n,t){1&n&&(e._UZ(0,"i",0),e.YNc(1,bg,2,1,"span",1)),2&n&&(e.Q6J("ngClass",e.kEZ(2,yg,1===t.sortOrder,-1===t.sortOrder,0===t.sortOrder)),e.xp6(1),e.Q6J("ngIf",t.isMultiSorted()))},directives:[I.mk,I.O5],encapsulation:2,changeDetection:0}),r}(),re=function(){var r=function(){function a(n,t,i){(0,M.Z)(this,a),this.dt=n,this.el=t,this.zone=i}return(0,R.Z)(a,[{key:"ngAfterViewInit",value:function(){var t=this;this.isEnabled()&&(k.p.addClass(this.el.nativeElement,"p-resizable-column"),this.resizer=document.createElement("span"),this.resizer.className="p-column-resizer",this.el.nativeElement.appendChild(this.resizer),this.zone.runOutsideAngular(function(){t.resizerMouseDownListener=t.onMouseDown.bind(t),t.resizer.addEventListener("mousedown",t.resizerMouseDownListener)}))}},{key:"bindDocumentEvents",value:function(){var t=this;this.zone.runOutsideAngular(function(){t.documentMouseMoveListener=t.onDocumentMouseMove.bind(t),document.addEventListener("mousemove",t.documentMouseMoveListener),t.documentMouseUpListener=t.onDocumentMouseUp.bind(t),document.addEventListener("mouseup",t.documentMouseUpListener)})}},{key:"unbindDocumentEvents",value:function(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)}},{key:"onMouseDown",value:function(t){1===t.which&&(this.dt.onColumnResizeBegin(t),this.bindDocumentEvents())}},{key:"onDocumentMouseMove",value:function(t){this.dt.onColumnResize(t)}},{key:"onDocumentMouseUp",value:function(t){this.dt.onColumnResizeEnd(),this.unbindDocumentEvents()}},{key:"isEnabled",value:function(){return!0!==this.pResizableColumnDisabled}},{key:"ngOnDestroy",value:function(){this.resizerMouseDownListener&&this.resizer.removeEventListener("mousedown",this.resizerMouseDownListener),this.unbindDocumentEvents()}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(N),e.Y36(e.SBq),e.Y36(e.R0b))},r.\u0275dir=e.lG2({type:r,selectors:[["","pResizableColumn",""]],hostAttrs:[1,"p-element"],inputs:{pResizableColumnDisabled:"pResizableColumnDisabled"}}),r}(),fn=function(){var r=function(){function a(n,t,i){var o=this;(0,M.Z)(this,a),this.dt=n,this.tableService=t,this.cd=i,this.subscription=this.dt.tableService.selectionSource$.subscribe(function(){o.checked=o.dt.isSelected(o.value),o.cd.markForCheck()})}return(0,R.Z)(a,[{key:"ngOnInit",value:function(){this.checked=this.dt.isSelected(this.value)}},{key:"onClick",value:function(t){this.disabled||this.dt.toggleRowWithCheckbox({originalEvent:t,rowIndex:this.index},this.value),k.p.clearSelection()}},{key:"onFocus",value:function(){k.p.addClass(this.boxViewChild.nativeElement,"p-focus")}},{key:"onBlur",value:function(){k.p.removeClass(this.boxViewChild.nativeElement,"p-focus")}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(N),e.Y36(Xe),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-tableCheckbox"]],viewQuery:function(n,t){var i;1&n&&e.Gf(li,5),2&n&&e.iGM(i=e.CRH())&&(t.boxViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",value:"value",index:"index",inputId:"inputId",name:"name",required:"required",ariaLabel:"ariaLabel"},decls:6,vars:14,consts:[[1,"p-checkbox","p-component",3,"click"],[1,"p-hidden-accessible"],["type","checkbox",3,"checked","disabled","focus","blur"],["role","checkbox",3,"ngClass"],["box",""],[1,"p-checkbox-icon",3,"ngClass"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("click",function(o){return t.onClick(o)}),e.TgZ(1,"div",1),e.TgZ(2,"input",2),e.NdJ("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()}),e.qZA(),e.qZA(),e.TgZ(3,"div",3,4),e._UZ(5,"span",5),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("checked",t.checked)("disabled",t.disabled),e.uIk("id",t.inputId)("name",t.name)("required",t.required)("aria-label",t.ariaLabel),e.xp6(1),e.Q6J("ngClass",e.WLB(9,Sg,t.checked,t.disabled)),e.uIk("aria-checked",t.checked),e.xp6(2),e.Q6J("ngClass",e.VKq(12,no,t.checked)))},directives:[I.mk],encapsulation:2,changeDetection:0}),r}(),mn=function(){var r=function(){function a(n,t,i){var o=this;(0,M.Z)(this,a),this.dt=n,this.tableService=t,this.cd=i,this.valueChangeSubscription=this.dt.tableService.valueSource$.subscribe(function(){o.checked=o.updateCheckedState()}),this.selectionChangeSubscription=this.dt.tableService.selectionSource$.subscribe(function(){o.checked=o.updateCheckedState()})}return(0,R.Z)(a,[{key:"ngOnInit",value:function(){this.checked=this.updateCheckedState()}},{key:"onClick",value:function(t){this.disabled||this.dt.value&&this.dt.value.length>0&&this.dt.toggleRowsWithCheckbox(t,!this.checked),k.p.clearSelection()}},{key:"onFocus",value:function(){k.p.addClass(this.boxViewChild.nativeElement,"p-focus")}},{key:"onBlur",value:function(){k.p.removeClass(this.boxViewChild.nativeElement,"p-focus")}},{key:"isDisabled",value:function(){return this.disabled||!this.dt.value||!this.dt.value.length}},{key:"ngOnDestroy",value:function(){this.selectionChangeSubscription&&this.selectionChangeSubscription.unsubscribe(),this.valueChangeSubscription&&this.valueChangeSubscription.unsubscribe()}},{key:"updateCheckedState",value:function(){if(this.cd.markForCheck(),this.dt.filteredValue&&!this.dt.lazy){var t=this.dt.filteredValue;return t&&t.length>0&&this.dt.selection&&this.dt.selection.length>0&&this.isAllFilteredValuesChecked()}var i=this.dt.value,o=this.dt.lazy?this.dt._totalRecords:i?i.length:0;return i&&o>0&&this.dt.selection&&this.dt.selection.length>0&&this.dt.selection.length===o}},{key:"isAllFilteredValuesChecked",value:function(){if(this.dt.filteredValue){var i,t=(0,V.Z)(this.dt.filteredValue);try{for(t.s();!(i=t.n()).done;)if(!this.dt.isSelected(i.value))return!1}catch(s){t.e(s)}finally{t.f()}return!0}return!1}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(N),e.Y36(Xe),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-tableHeaderCheckbox"]],viewQuery:function(n,t){var i;1&n&&e.Gf(li,5),2&n&&e.iGM(i=e.CRH())&&(t.boxViewChild=i.first)},hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",inputId:"inputId",name:"name",ariaLabel:"ariaLabel"},decls:7,vars:13,consts:[[1,"p-checkbox","p-component",3,"click"],[1,"p-hidden-accessible"],["type","checkbox",3,"checked","disabled","focus","blur"],["cb",""],["role","checkbox",3,"ngClass"],["box",""],[1,"p-checkbox-icon",3,"ngClass"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("click",function(o){return t.onClick(o)}),e.TgZ(1,"div",1),e.TgZ(2,"input",2,3),e.NdJ("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()}),e.qZA(),e.qZA(),e.TgZ(4,"div",4,5),e._UZ(6,"span",6),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("checked",t.checked)("disabled",t.isDisabled()),e.uIk("id",t.inputId)("name",t.name)("aria-label",t.ariaLabel),e.xp6(2),e.Q6J("ngClass",e.WLB(8,Ag,t.checked,t.isDisabled())),e.uIk("aria-checked",t.checked),e.xp6(2),e.Q6J("ngClass",e.VKq(11,no,t.checked)))},directives:[I.mk],encapsulation:2,changeDetection:0}),r}(),oh=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez,Vd,jn,ne.kW,Ne.Cl,T.u5,$.hJ,ep,Gr,oi,op],D.m8,Ne.Cl]}),r}();function sh(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",34),e.TgZ(1,"div"),e.TgZ(2,"input",35),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(87).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function lh(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",36),e._uU(2,"Name "),e._UZ(3,"p-sortIcon",37),e.qZA(),e.TgZ(4,"th",38),e._uU(5,"Description "),e._UZ(6,"p-sortIcon",39),e.qZA(),e.TgZ(7,"th",40),e._uU(8,"Owner "),e._UZ(9,"p-sortIcon",41),e.qZA(),e.TgZ(10,"th",42),e._uU(11,"Provider "),e._UZ(12,"p-sortIcon",43),e.qZA(),e.TgZ(13,"th",44),e._uU(14,"DataSource ID "),e._UZ(15,"br"),e._uU(16," missing "),e._UZ(17,"p-sortIcon",45),e.qZA(),e.TgZ(18,"th",46),e._uU(19,"Endpoint "),e._UZ(20,"p-sortIcon",47),e.qZA(),e.TgZ(21,"th",48),e._uU(22,"Agreement URL "),e._UZ(23,"p-sortIcon",49),e.qZA(),e.TgZ(24,"th",50),e._uU(25,"Industry Domain "),e._UZ(26,"p-sortIcon",51),e.qZA(),e.TgZ(27,"th",52),e._uU(28,"Release Date "),e._UZ(29,"p-sortIcon",53),e.qZA(),e.qZA())}function uh(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr",54),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",55),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.dataName),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.dataOwner),e.xp6(2),e.Oqu(t.dataProvider),e.xp6(1),e.Q6J("ngClass",i.getClassOfDataSourceIDMissing(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.dataSourceIDMissing),e.xp6(2),e.Oqu(t.dataLocation),e.xp6(2),e.Oqu(t.agreementURL),e.xp6(2),e.Oqu(t.industryDomain),e.xp6(2),e.Oqu(t.lastModified)}}var Je=function(){return{width:"190px"}},ch=function(){return["dataName","description","dataOwner","dataProvider","dataSourceIDMissing","dataLocation","agreementURL","industryDomain","lastModified"]},dh=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i,this.datasource=[],this.selectedDatasource=[],this.rightsArray=[]}return r.prototype.ngOnInit=function(){this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.queryMetadataStruct(),this.queryCustomLists(),this.industryDomainOptions=[{label:"-- Please select --"},{label:"Research"},{label:"Telecommunications"},{label:"Port Authority"},{label:"Trucking Company"},{label:"Shipping Agent"}],this.distributionOptions=[{label:"-- Please select --"},{label:"Image"},{label:"Video"},{label:"CSV-Excel"},{label:"Doc"},{label:"Other"}],this.languageOptions=[{label:"-- Please select --"},{label:"en"},{label:"fr"},{label:"de"},{label:"el"},{label:"it"},{label:"es"}],this.accessRightsOptions=[{label:"read"},{label:"modify"},{label:"persist"}],this.orgOfProvidersOptions=[{label:"-- Please select --"}],this.orgOfOwnersOptions=[{label:"-- Please select --"}],this.usernamesOfProvidersOptions=[{label:"-- Please select --"}],this.hasAgentOptions=[{label:"-- Please select --"},{label:"false"},{label:"true"}],this.form=this.formBuilder.group({usernameOfProvider:[""],orgOfProvider:[""],orgOfOwner:[""],datasetName:[""],themeCategory:[""],keywordTag:[""],language:[""],distribution:[""],dataVelocityMin:[""],dataVelocityMax:[""],spatialGeographicCoverage:[""],temporalCoverageStart:[""],temporalCoverageEnd:[""],industryDomain:[""],dataVolumeMin:[""],dataVolumeMax:[""],accessRights:[""],customAccessRights:[""],identifier:[""],versionMin:[""],versionMax:[""],dataSourceValue:[""],hasAgent:[""]})},r.prototype.handleSelect=function(a){var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),this.router.navigate(a.usernameOfProvider==this.loggedinUserUsername?["/dashboard/my-datasets-details"]:["/dashboard/view-dataset"],{state:{data:a}})},r.prototype.queryMetadataStruct=function(){var a=this;this.dashboardService.queryMetadataStruct().subscribe(function(n){console.log(n);for(var i=[],o=0,s=n.result;o<s.length;o++){var l=s[o],u={dataId:l.Key,dataName:l.Record.datasetName,description:l.Record.datasetDescription,dataOwner:l.Record.orgOfOwner,dataProvider:l.Record.orgOfProvider,blockchain:l.Record.blockchain,dataLocation:l.Record.endpoint,lastModified:a.changeDateFormat(l.Record.releaseDateTime),lastModifiedSortable:l.Record.releaseDateTime,agreementURL:l.Record.contractAgreementsURL,industryDomain:l.Record.industryDomain,usernameOfProvider:l.Record.usernameOfProvider,dataSourceIDMissing:"No",hasAgent:l.Record.hasAgent,dataSourceID:l.Record.dataSourceMetadata.dataSourceID};"true"==u.hasAgent&&(null==u.dataSourceID||""==u.dataSourceID.trim())&&(u.dataSourceIDMissing="Yes"),i.push(u)}a.datasource=i,a.selectedDatasource=i},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryMetadataStruct",[])})},r.prototype.queryMetadataCombination=function(a){var n=this;this.dashboardService.queryMetadataCombination(a).subscribe(function(t){console.log(t);for(var o=[],s=0,l=t.result;s<l.length;s++){var u=l[s],c={dataId:u.Key,dataName:u.Record.datasetName,description:u.Record.datasetDescription,dataOwner:u.Record.orgOfOwner,dataProvider:u.Record.orgOfProvider,blockchain:u.Record.blockchain,dataLocation:u.Record.endpoint,lastModified:n.changeDateFormat(u.Record.releaseDateTime),agreementURL:u.Record.contractAgreementsURL,industryDomain:u.Record.industryDomain,usernameOfProvider:u.Record.usernameOfProvider,dataSourceIDMissing:"No",hasAgent:u.Record.hasAgent,dataSourceID:u.Record.dataSourceMetadata.dataSourceID};"true"==c.hasAgent&&(null==c.dataSourceID||""==c.dataSourceID.trim())&&(c.dataSourceIDMissing="Yes"),o.push(c)}n.datasource=o,n.selectedDatasource=o},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryMetadataCombination",a)})},r.prototype.queryCustomLists=function(){var a=this;this.dashboardService.queryCustomLists().subscribe(function(n){console.log(n),a.orgOfProvidersOptions=[{label:"-- Please select --"}];for(var i=0,o=n.result.orgOfProviders;i<o.length;i++)a.orgOfProvidersOptions.push({label:o[i]});a.orgOfOwnersOptions=[{label:"-- Please select --"}];for(var u=0,c=n.result.orgOfOwners;u<c.length;u++)a.orgOfOwnersOptions.push({label:c[u]});a.usernamesOfProvidersOptions=[{label:"-- Please select --"}];for(var p=0,g=n.result.usernameOfProviders;p<g.length;p++)a.usernamesOfProvidersOptions.push({label:g[p]})},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryCustomLists",[])})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.clearForm=function(){this.form.reset()},r.prototype.searchButton=function(){console.log("searchButton");var a={usernameOfProvider:" ",orgOfProvider:" ",orgOfOwner:" ",datasetName:" ",themeCategory:" ",keywordTag:" ",language:" ",distribution:" ",dataVelocityMin:" ",operandDataVelocityMin:" ",dataVelocityMax:" ",operandDataVelocityMax:" ",spatialGeographicCoverage:" ",temporalCoverageStart:" ",operandTmcS:" ",temporalCoverageEnd:" ",operandTmcE:" ",industryDomain:" ",dataVolumeMin:" ",operandDataVolumeMin:" ",dataVolumeMax:" ",operandDataVolumeMax:" ",accessRights:" ",customAccessRights:" ",identifier:" ",versionMin:" ",operandVersionMin:" ",versionMax:" ",operandVersionMax:" ",dataSourceValue:" ",hasAgent:" "},n=this.form.getRawValue(),t=!1;if(n.usernameOfProvider&&"-- Please select --"!=n.usernameOfProvider.label&&(a.usernameOfProvider=n.usernameOfProvider.label,t=!0),n.orgOfProvider&&"-- Please select --"!=n.orgOfProvider.label&&(a.orgOfProvider=n.orgOfProvider.label,t=!0),n.orgOfOwner&&"-- Please select --"!=n.orgOfOwner.label&&(a.orgOfOwner=n.orgOfOwner.label,t=!0),n.datasetName&&(a.datasetName=n.datasetName,t=!0),n.themeCategory&&(a.themeCategory=n.themeCategory,t=!0),n.keywordTag&&(a.keywordTag=n.keywordTag,t=!0),n.language&&"-- Please select --"!=n.language.label&&(a.language=n.language.label,t=!0),n.distribution&&"-- Please select --"!=n.distribution.label&&(a.distribution=n.distribution.label,t=!0),n.dataVelocityMin&&(a.dataVelocityMin=n.dataVelocityMin,a.operandDataVelocityMin="$gte",t=!0),n.dataVelocityMax&&(a.dataVelocityMax=n.dataVelocityMax,a.operandDataVelocityMax="$lte",t=!0),n.spatialGeographicCoverage&&(a.spatialGeographicCoverage=n.spatialGeographicCoverage,t=!0),n.temporalCoverageStart){var i=new Date(n.temporalCoverageStart),o=i.getDate(),s=i.getMonth()+1,l=i.getFullYear(),u=String(l),c=String(s);1==c.length&&(c="0"+c);var d=String(o);1==d.length&&(d="0"+d),a.temporalCoverageStart=u+"-"+c+"-"+d,a.operandTmcS="$lte",t=!0}if(n.temporalCoverageEnd){var g=new Date(n.temporalCoverageEnd),h=g.getDate(),f=g.getMonth()+1,m=g.getFullYear(),v=String(m),b=String(f);1==b.length&&(b="0"+b);var y=String(h);1==y.length&&(y="0"+y),a.temporalCoverageEnd=v+"-"+b+"-"+y,a.operandTmcE="$gte",t=!0}if(n.industryDomain&&"-- Please select --"!=n.industryDomain.label&&(a.industryDomain=n.industryDomain.label,t=!0),n.dataVolumeMin&&(a.dataVolumeMin=n.dataVolumeMin,a.operandDataVolumeMin="$gte",t=!0),n.dataVolumeMax&&(a.dataVolumeMax=n.dataVolumeMax,a.operandDataVolumeMax="$lte",t=!0),n.accessRights){var C=n.accessRights.map(function(Z){return Z.label});C.indexOf("read")>0&&(a.accessRights="read"),C.indexOf("modify")>0&&(a.accessRights="modify"),C.indexOf("persist")>0&&(a.accessRights="persist"),t=!0}n.customAccessRights&&(a.customAccessRights=n.customAccessRights,t=!0),n.identifier&&(a.identifier=n.identifier,t=!0),n.versionMin&&(a.versionMin=n.versionMin,a.operandVersionMin="$gte",t=!0),n.versionMax&&(a.versionMax=n.versionMax,a.operandVersionMax="$lte",t=!0),n.dataSourceValue&&(a.dataSourceValue=n.dataSourceValue,t=!0),n.hasAgent&&"-- Please select --"!=n.hasAgent.label&&(a.hasAgent=n.hasAgent.label,t=!0),this.datasource=[],this.selectedDatasource=[],t?(console.log("searchWithFilter"),console.log("data:"),console.log(a),this.queryMetadataCombination(a)):(console.log("searchWithoutFilter"),console.log("data:"),console.log(a),this.queryMetadataStruct())},r.prototype.onAccessRightsChange=function(a){var n=a.value,t=n.length;this.rightsArray.length==t+1?(this.form.controls.accessRights.setValue([]),this.rightsArray=[]):(this.rightsArray=n,"modify"==n[t-1].label&&(this.form.controls.accessRights.setValue([{label:"read"},{label:"modify"}]),this.rightsArray=[{label:"read"},{label:"modify"}]),"persist"==n[t-1].label&&(this.form.controls.accessRights.setValue([{label:"read"},{label:"modify"},{label:"persist"}]),this.rightsArray=[{label:"read"},{label:"modify"},{label:"persist"}]))},r.prototype.getClassOfDataSourceIDMissing=function(a,n){if("true"==a&&(null==n||""==n.trim()))return"dataSourceIDMissing"},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryMetadataStruct"==a?t.queryMetadataStruct():"queryMetadataCombination"==a?t.queryMetadataCombination(n):"queryCustomLists"==a&&t.queryCustomLists()},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-search-dataset"]],decls:91,vars:47,consts:[[1,"card"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-4"],[1,"subtitle"],["formControlName","usernameOfProvider","optionLabel","label",3,"options"],["type","text","formControlName","datasetName"],["formControlName","industryDomain","optionLabel","label",3,"options"],["formControlName","accessRights","optionLabel","label",3,"options","filter","onChange"],["type","text","formControlName","customAccessRights"],["type","text","formControlName","keywordTag"],["formControlName","orgOfProvider","optionLabel","label",3,"options"],["formControlName","orgOfOwner","optionLabel","label",3,"options"],["type","number","formControlName","dataVolumeMin"],["type","number","formControlName","dataVolumeMax"],["type","number","formControlName","dataVelocityMin"],["type","number","formControlName","dataVelocityMax"],["formControlName","hasAgent","optionLabel","label",3,"options"],["formControlName","distribution","optionLabel","label",3,"options"],["formControlName","language","optionLabel","label",3,"options"],["type","text","formControlName","themeCategory"],["type","number","formControlName","versionMin"],["type","number","formControlName","versionMax"],["type","text","formControlName","spatialGeographicCoverage"],["formControlName","temporalCoverageStart","dateFormat","dd/mm/yy"],["formControlName","temporalCoverageEnd","dateFormat","dd/mm/yy"],["type","text","formControlName","dataSourceValue"],["pButton","","type","button","label","Clear",3,"click"],["pButton","","type","button","label","Search",3,"click"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","dataName"],["field","dataName"],["id","th12","pResizableColumn","","pSortableColumn","description"],["field","description"],["id","th13","pResizableColumn","","pSortableColumn","dataOwner"],["field","dataOwner"],["id","th14","pResizableColumn","","pSortableColumn","dataProvider"],["field","dataProvider"],["id","th15","pResizableColumn","","pSortableColumn","dataSourceIDMissing"],["field","dataSourceIDMissing"],["id","th16","pResizableColumn","","pSortableColumn","dataLocation"],["field","dataLocation"],["id","th17","pResizableColumn","","pSortableColumn","agreementURL"],["field","agreementURL"],["id","th18","pResizableColumn","","pSortableColumn","industryDomain"],["field","industryDomain"],["id","th19","pResizableColumn","","pSortableColumn","lastModifiedSortable"],["field","lastModifiedSortable"],[3,"click"],[3,"ngClass"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5"),e._uU(2,"Search Datasets"),e.qZA(),e.TgZ(3,"div",0),e.TgZ(4,"form",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"h5",4),e._uU(8,"Dataset Details"),e.qZA(),e.TgZ(9,"h6"),e._uU(10,"Dataset Provider Username"),e.qZA(),e._UZ(11,"p-dropdown",5),e.TgZ(12,"h6"),e._uU(13,"Dataset Name"),e.qZA(),e._UZ(14,"input",6),e.TgZ(15,"h6"),e._uU(16,"Industry Domain"),e.qZA(),e._UZ(17,"p-dropdown",7),e.TgZ(18,"h6"),e._uU(19,"Access Rights"),e.qZA(),e.TgZ(20,"p-multiSelect",8),e.NdJ("onChange",function(o){return t.onAccessRightsChange(o)}),e.qZA(),e.TgZ(21,"h6"),e._uU(22,"Custom Access Rights"),e.qZA(),e._UZ(23,"input",9),e.TgZ(24,"h6"),e._uU(25,"Keyword / Tag"),e.qZA(),e._UZ(26,"input",10),e.qZA(),e.TgZ(27,"div",3),e.TgZ(28,"h5",4),e._uU(29,"Source"),e.qZA(),e.TgZ(30,"h6"),e._uU(31,"Dataset Provider"),e.qZA(),e._UZ(32,"p-dropdown",11),e.TgZ(33,"h6"),e._uU(34,"Dataset Owner"),e.qZA(),e._UZ(35,"p-dropdown",12),e.TgZ(36,"h6"),e._uU(37,"Data Volume Min (KiB)"),e.qZA(),e._UZ(38,"input",13),e.TgZ(39,"h6"),e._uU(40,"Data Volume Max (KiB)"),e.qZA(),e._UZ(41,"input",14),e.TgZ(42,"h6"),e._uU(43,"Data Velocity Min (KiB/sec)"),e.qZA(),e._UZ(44,"input",15),e.TgZ(45,"h6"),e._uU(46,"Data Velocity Max (KiB/sec)"),e.qZA(),e._UZ(47,"input",16),e.TgZ(48,"h6"),e._uU(49,"Has Agent"),e.qZA(),e._UZ(50,"p-dropdown",17),e.qZA(),e.TgZ(51,"div",3),e._UZ(52,"br"),e.TgZ(53,"h6"),e._uU(54,"Distribution"),e.qZA(),e._UZ(55,"p-dropdown",18),e.TgZ(56,"h6"),e._uU(57,"Language"),e.qZA(),e._UZ(58,"p-dropdown",19),e.TgZ(59,"h6"),e._uU(60,"Theme / Category"),e.qZA(),e._UZ(61,"input",20),e.TgZ(62,"h6"),e._uU(63,"Version Min"),e.qZA(),e._UZ(64,"input",21),e.TgZ(65,"h6"),e._uU(66,"Version Max"),e.qZA(),e._UZ(67,"input",22),e.TgZ(68,"h6"),e._uU(69,"Spatial Geographic Coverage"),e.qZA(),e._UZ(70,"input",23),e.TgZ(71,"h6"),e._uU(72,"Temporal Coverage Start"),e.qZA(),e._UZ(73,"p-calendar",24),e.TgZ(74,"h6"),e._uU(75,"Temporal Coverage End"),e.qZA(),e._UZ(76,"p-calendar",25),e.TgZ(77,"h6"),e._uU(78,"Data Source"),e.qZA(),e._UZ(79,"input",26),e.qZA(),e.qZA(),e._UZ(80,"br"),e.TgZ(81,"button",27),e.NdJ("click",function(){return t.clearForm()}),e.qZA(),e._UZ(82,"br"),e._UZ(83,"br"),e.TgZ(84,"button",28),e.NdJ("click",function(){return t.searchButton()}),e.qZA(),e.qZA(),e._UZ(85,"br"),e.TgZ(86,"p-table",29,30),e.YNc(88,sh,4,3,"ng-template",31),e.YNc(89,lh,30,0,"ng-template",32),e.YNc(90,uh,19,10,"ng-template",33),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(7),e.Akn(e.DdM(36,Je)),e.Q6J("options",t.usernamesOfProvidersOptions),e.xp6(6),e.Akn(e.DdM(37,Je)),e.Q6J("options",t.industryDomainOptions),e.xp6(3),e.Akn(e.DdM(38,Je)),e.Q6J("options",t.accessRightsOptions)("filter",!1),e.xp6(12),e.Akn(e.DdM(39,Je)),e.Q6J("options",t.orgOfProvidersOptions),e.xp6(3),e.Akn(e.DdM(40,Je)),e.Q6J("options",t.orgOfOwnersOptions),e.xp6(15),e.Akn(e.DdM(41,Je)),e.Q6J("options",t.hasAgentOptions),e.xp6(5),e.Akn(e.DdM(42,Je)),e.Q6J("options",t.distributionOptions),e.xp6(3),e.Akn(e.DdM(43,Je)),e.Q6J("options",t.languageOptions),e.xp6(15),e.Akn(e.DdM(44,Je)),e.xp6(3),e.Akn(e.DdM(45,Je)),e.xp6(10),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(46,ch)))},directives:[T._Y,T.JL,T.sg,ne.Lt,T.JJ,T.u,T.Fj,gn,T.wV,hn,$.Hq,N,D.jx,j,re,ae,ie,I.mk],pipes:[ee.X$],styles:["tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.dataSourceIDMissing[_ngcontent-%COMP%]{background-color:#ee7b30;color:#fff}"]}),r}();function ph(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"div"),e.TgZ(2,"input",15),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(17).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function gh(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",16),e._uU(2,"Name "),e._UZ(3,"p-sortIcon",17),e.qZA(),e.TgZ(4,"th",18),e._uU(5,"Description "),e._UZ(6,"p-sortIcon",19),e.qZA(),e.TgZ(7,"th",20),e._uU(8,"Owner "),e._UZ(9,"p-sortIcon",21),e.qZA(),e.TgZ(10,"th",22),e._uU(11,"DataSource ID "),e._UZ(12,"br"),e._uU(13," missing "),e._UZ(14,"p-sortIcon",23),e.qZA(),e.TgZ(15,"th",24),e._uU(16,"Endpoint "),e._UZ(17,"p-sortIcon",25),e.qZA(),e.TgZ(18,"th",26),e._uU(19,"Release Date "),e._UZ(20,"p-sortIcon",27),e.qZA(),e.qZA())}function hh(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr",28),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",29),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.dataName),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.dataOwner),e.xp6(1),e.Q6J("ngClass",i.getClassOfDataSourceIDMissing(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.dataSourceIDMissing),e.xp6(2),e.Oqu(t.dataLocation),e.xp6(2),e.Oqu(t.lastModified)}}var fh=function(){return["dataName","description","dataOwner","dataSourceIDMissing","dataLocation","lastModified"]},mh=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.owners=[],this.selectedDatasource=[]}return r.prototype.ngOnInit=function(){this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.queryMetadataByProvider()},r.prototype.onDataOwnerChange=function(a){var n=this;if(this.selectedOwnerValue=a.value.dataOwner,"All"==this.selectedOwnerValue)this.selectedDatasource=this.datasource;else{var t=this.datasource;"All"!=this.selectedOwnerValue&&null!=this.selectedOwnerValue&&(t=t.filter(function(i){return n.selectedOwnerValue==i.dataOwner})),this.selectedDatasource=t}},r.prototype.addDatasetButton=function(){this.router.navigate(["/dashboard/add-dataset"])},r.prototype.handleSelect=function(a){var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),this.router.navigate(["/dashboard/my-datasets-details"],{state:{data:a}})},r.prototype.queryMetadataByProvider=function(){var a=this;this.dashboardService.queryMetadataByProvider().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var l={dataId:(s=o[i]).Key,dataName:s.Record.datasetName,description:s.Record.datasetDescription,dataOwner:s.Record.orgOfOwner,dataProvider:s.Record.orgOfProvider,blockchain:s.Record.blockchain,dataLocation:s.Record.endpoint,lastModified:a.changeDateFormat(s.Record.releaseDateTime),lastModifiedSortable:s.Record.releaseDateTime,dataSourceIDMissing:"No",hasAgent:s.Record.hasAgent,dataSourceID:s.Record.dataSourceMetadata.dataSourceID};"true"==l.hasAgent&&(null==l.dataSourceID||""==l.dataSourceID.trim())&&(l.dataSourceIDMissing="Yes"),a.datasource.push(l)}var u=a.datasource.map(function(p){return p.dataOwner});u=u.filter(function(p,g,h){return h.indexOf(p)===g}),a.owners=[{dataOwner:"All"}];for(var c=0,d=u;c<d.length;c++){var s;a.owners.push({dataOwner:s=d[c]})}a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryMetadataByProvider")})},r.prototype.getClassOfDataSourceIDMissing=function(a,n){if("true"==a&&(null==n||""==n.trim()))return"dataSourceIDMissing"},r.prototype.refreshTokens=function(a){var n=this;this.dashboardService.refreshTokens().subscribe(function(t){console.log(t),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),"queryMetadataByProvider"==a&&n.queryMetadataByProvider()},function(t){console.log(t),n.logoutUser()})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-my-datasets"]],decls:21,vars:9,consts:[[1,"card"],[2,"text-align","right"],["pButton","","type","button","label","Add Dataset","icon","icon-add",3,"click"],[1,"row"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","32px","margin-left","15px"],[1,"icon-filters"],[1,"dropdownLabel"],["optionLabel","dataOwner",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","dataName"],["field","dataName"],["id","th12","pResizableColumn","","pSortableColumn","description"],["field","description"],["id","th13","pResizableColumn","","pSortableColumn","dataOwner"],["field","dataOwner"],["id","th14","pResizableColumn","","pSortableColumn","dataSourceIDMissing"],["field","dataSourceIDMissing"],["id","th15","pResizableColumn","","pSortableColumn","dataLocation"],["field","dataLocation"],["id","th16","pResizableColumn","","pSortableColumn","lastModifiedSortable"],["field","lastModifiedSortable"],[3,"click"],[3,"ngClass"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5"),e._uU(2,"Internal Datasets"),e.qZA(),e.TgZ(3,"div",0),e.TgZ(4,"div",1),e.TgZ(5,"button",2),e.NdJ("click",function(){return t.addDatasetButton()}),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e.TgZ(8,"h6",5),e._UZ(9,"span",6),e._uU(10,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(11,"div",4),e.TgZ(12,"h6",7),e._uU(13,"Owner:"),e.qZA(),e.TgZ(14,"p-dropdown",8),e.NdJ("ngModelChange",function(o){return t.selectedOwner=o})("onChange",function(o){return t.onDataOwnerChange(o)}),e.qZA(),e.qZA(),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"p-table",9,10),e.YNc(18,ph,4,3,"ng-template",11),e.YNc(19,gh,21,0,"ng-template",12),e.YNc(20,hh,13,7,"ng-template",13),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(14),e.Q6J("options",t.owners)("ngModel",t.selectedOwner),e.xp6(2),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(8,fh)))},directives:[$.Hq,ne.Lt,T.JJ,T.On,N,D.jx,j,re,ae,ie,I.mk],pipes:[ee.X$],styles:["tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.dataSourceIDMissing[_ngcontent-%COMP%]{background-color:#ee7b30;color:#fff}"]}),r}(),Ht=X(7352);function vh(r,a){1&r&&(e.TgZ(0,"h6"),e._uU(1,"Data Source ID"),e.qZA())}var Ye=function(){return{width:"190px"}};function bh(r,a){if(1&r&&e._UZ(0,"p-dropdown",40),2&r){var n=e.oxw();e.Akn(e.DdM(4,Ye)),e.Q6J("options",n.dataSourceIdOptions)("filter",!0)}}var yh=function(){return{minWidth:"12em"}},_h=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i,this.rightsArray=[],this.customAccessRightsOptions=[],this.agreementHash="",this.termsConditionsHash="",this.copyrightHash="",this.hasAgentChecked=!1}return r.prototype.ngOnInit=function(){this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),""!=this.externalOrg.trim()&&(this.loggedinUserOrganization=this.externalOrg),this.returnLoggedInUser(),this.getUsers(),this.getOrganizations(),"ThPA"==this.loggedinUserOrganization?this.getDataSourceIDsThPA():"VPF"==this.loggedinUserOrganization?this.getDataSourceIDsVPF():this.getDataSourceIDs(),this.form=this.formBuilder.group({usernameOfProvider:[this.loggedinUserUsername,T.kI.required],emailOfProvider:[this.loggedinUserEmail,T.kI.required],datasetName:["",T.kI.required],datasetDescription:[""],customAccessRights:[""],agreement:[""],termsConditions:[""],copyright:[""],industryDomain:["",T.kI.required],datasetOwner:["",T.kI.required],datasetProvider:[this.loggedinUserOrganization,T.kI.required],datasetOwnerUsername:[""],dataVolume:[""],dataVelocity:[""],distribution:["",T.kI.required],themeCategory:[""],comments:[""],agreementUrl:[""],termsConditionsUrl:[""],copyrightUrl:[""],accessRights:["",T.kI.required],endpoint:[""],keywordTag:[""],language:["",T.kI.required],spatialGeographicCoverage:[""],temporalCoverageStart:[""],temporalCoverageEnd:[""],hasAgent:[""],dataSourceID:[""]}),this.form.controls.usernameOfProvider.disable(),this.form.controls.emailOfProvider.disable(),this.form.controls.datasetProvider.disable(),this.form.controls.datasetOwnerUsername.disable(),this.industryDomainOptions=[{label:"-- Please select --"},{label:"Research"},{label:"Telecommunications"},{label:"Port Authority"},{label:"Trucking Company"},{label:"Shipping Agent"}],this.distributionOptions=[{label:"-- Please select --"},{label:"Image"},{label:"Video"},{label:"CSV-Excel"},{label:"Doc"},{label:"Other"}],this.languageOptions=[{label:"-- Please select --"},{label:"en"},{label:"fr"},{label:"de"},{label:"el"},{label:"it"},{label:"es"}],this.accessRightsOptions=[{label:"read"},{label:"modify"},{label:"persist"}],this.dataSourceIdOptions=[{id:"-- Please select --"}],this.form.controls.datasetOwner.setValue("-- Select or type --"),this.form.controls.datasetOwnerUsername.setValue("-- Please select --"),this.form.controls.dataSourceID.setValue(this.dataSourceIdOptions[0])},r.prototype.onSubmit=function(){var a=this.form.getRawValue();if(this.form.invalid||"-- Select or type --"==a.datasetOwner||"-- Select or type --"==a.datasetOwner.label||"-- Please select --"==a.distribution.label||"-- Please select --"==a.language.label||"-- Please select --"==a.industryDomain.label)alert("Please fill in all required fields");else{var n=a.datasetOwnerUsername.label;"-- Please select --"==n&&(n="");var t=a.accessRights,i="";if(t&&t.length>0)for(var o=0;o<t.length;o++)0==o?i+=t[o].label:i=i+","+t[o].label;i=i.split(" ").join("");var s=a.customAccessRights,l="";if(s&&s.length>0)for(o=0;o<s.length;o++)0==o?l+=s[o]:l=l+","+s[o];l=l.split(" ").join("");var u=a.dataVolume,c=a.dataVelocity,d="";if(a.temporalCoverageStart){var p=new Date(a.temporalCoverageStart),g=p.getDate(),h=p.getMonth()+1,f=p.getFullYear(),m=String(f),v=String(h);1==v.length&&(v="0"+v);var b=String(g);1==b.length&&(b="0"+b),d=m+"-"+v+"-"+b}var y="";if(a.temporalCoverageEnd){var _=new Date(a.temporalCoverageEnd),C=_.getDate(),Z=_.getMonth()+1,S=_.getFullYear(),A=String(S),x=String(Z);1==x.length&&(x="0"+x);var w=String(C);1==w.length&&(w="0"+w),y=A+"-"+x+"-"+w}var O=!1;this.hasAgentChecked&&(O=!0);var U="";if("-- Please select --"!=a.dataSourceID.id&&(U=a.dataSourceID.id),null==a.agreement&&(a.agreement=""),""!=a.agreement?this.downloadAndCreateHash("agreementId","agreementHash"):this.agreementHash="",null==a.termsConditions&&(a.termsConditions=""),""!=a.termsConditions?this.downloadAndCreateHash("termsConditionsId","termsConditionsHash"):this.termsConditionsHash="",null==a.copyright&&(a.copyright=""),""!=a.copyright?this.downloadAndCreateHash("copyrightId","copyrightHash"):this.copyrightHash="",""!=a.agreement||""!=a.termsConditions||""!=a.copyright){console.log("if");var P=this;setTimeout(function(){var H={emailOfProvider:a.emailOfProvider,usernameOfOwner:n,orgOfOwner:a.datasetOwner.label||a.datasetOwner,datasetName:a.datasetName,datasetDescription:a.datasetDescription,themeCategory:a.themeCategory,keywordTag:a.keywordTag,language:a.language.label,distribution:a.distribution.label,dataVelocity:String(c),spatialGeographicCoverage:a.spatialGeographicCoverage,temporalCoverageStart:d,temporalCoverageEnd:y,industryDomain:a.industryDomain.label,dataVolume:String(u),comments:a.comments,accessRights:i,contractAgreementHash:P.agreementHash,contractAgreementURL:a.agreement,termsConditionsHash:P.termsConditionsHash,termsConditionsURL:a.termsConditions,copyrightHash:P.copyrightHash,copyrightURL:a.copyright,customAccessRights:l,endpoint:a.endpoint,blockchain:"off-chain",dataSourceID:U,hasAgent:O};console.log(H),""==a.agreement||""!=P.agreementHash&&null!=P.agreementHash?""==a.termsConditions||""!=P.termsConditionsHash&&null!=P.termsConditionsHash?""==a.copyright||""!=P.copyrightHash&&null!=P.copyrightHash?P.uploadMetadata(H):alert("Copyright hash error"):alert("Terms and conditions hash error"):alert("Agreement hash error")},1e4)}else{console.log("else");var L={emailOfProvider:a.emailOfProvider,usernameOfOwner:n,orgOfOwner:a.datasetOwner.label||a.datasetOwner,datasetName:a.datasetName,datasetDescription:a.datasetDescription,themeCategory:a.themeCategory,keywordTag:a.keywordTag,language:a.language.label,distribution:a.distribution.label,dataVelocity:String(c),spatialGeographicCoverage:a.spatialGeographicCoverage,temporalCoverageStart:d,temporalCoverageEnd:y,industryDomain:a.industryDomain.label,dataVolume:String(u),comments:a.comments,accessRights:i,contractAgreementHash:this.agreementHash,contractAgreementURL:"",termsConditionsHash:this.termsConditionsHash,termsConditionsURL:"",copyrightHash:this.copyrightHash,copyrightURL:"",customAccessRights:l,endpoint:a.endpoint,blockchain:"off-chain",dataSourceID:U,hasAgent:O};console.log(L),this.uploadMetadata(L)}}},r.prototype.cancelButton=function(){this.router.navigate(["/dashboard/my-datasets"])},r.prototype.clearForm=function(){this.form.reset(),this.form.controls.usernameOfProvider.setValue(this.loggedinUserUsername),this.form.controls.emailOfProvider.setValue(this.loggedinUserEmail),this.form.controls.datasetProvider.setValue(this.loggedinUserOrganization),this.form.controls.datasetOwner.setValue("-- Select or type --"),this.form.controls.datasetOwnerUsername.setValue("-- Please select --"),this.form.controls.datasetOwnerUsername.disable(),this.hasAgentChecked=!1,this.form.controls.dataSourceID.setValue(this.dataSourceIdOptions[0])},r.prototype.uploadMetadata=function(a){var n=this;this.dashboardService.uploadMetadata(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/my-datasets"])},function(t){console.log(t.status),400==t.status?alert("Data error. Check your data for invalid characters."):(401==t.status||403==t.status)&&n.refreshTokens("uploadMetadata",a)})},r.prototype.returnLoggedInUser=function(){var a=this;this.dashboardService.returnLoggedInUser().subscribe(function(n){console.log(n),a.loggedinUserEmail=n.result.email,a.form.controls.emailOfProvider.setValue(a.loggedinUserEmail)},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("returnLoggedInUser",[])})},r.prototype.getUsers=function(){var a=this;this.dashboardService.getUsers().subscribe(function(n){console.log(n);for(var t=[{label:"-- Please select --"},{organization:"-- Please select --"}],o=0,s=n.result;o<s.length;o++){var l=s[o];if("adminThPAext"!=l.Record.username&&"adminVPFext"!=l.Record.username&&"adminDataportsExt"!=l.Record.username&&"semantic_interop"!=l.Record.username&&"adminNetEXT"!=l.Record.username&&"adminNetThPA"!=l.Record.username&&"adminNetVPF"!=l.Record.username){var u=l.Record.organization;""!=l.Record.externalOrg&&" "!=l.Record.externalOrg&&(u=l.Record.externalOrg),t.push({label:l.Record.username,organization:u})}}a.allUserOptions=t,a.userOptions=t},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getUsers",[])})},r.prototype.getOrganizations=function(){var a=this;this.dashboardService.getOrganizations().subscribe(function(n){console.log(n),a.organizationOptions=[{label:"-- Select or type --"}];for(var i=0,o=n.result;i<o.length;i++){var s=o[i];"EXT"!=s.Key&&"DataPorts"!=s.Key&&a.organizationOptions.push({label:s.Key})}},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getOrganizations",[])})},r.prototype.getDataSourceIDs=function(){var a=this;this.dashboardService.getDataSourceIDs().subscribe(function(n){console.log("getDataSourceIDs"),console.log(n);for(var t=[{id:"-- Please select --"}],o=0,s=n.result;o<s.length;o++){var l=s[o];t.push({id:l.id,type:l.type})}a.dataSourceIdOptions=t},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getDataSourceIDs",[])})},r.prototype.getDataSourceIDsThPA=function(){var a=this;this.dashboardService.getDataSourceIDsThPA().subscribe(function(n){console.log("getDataSourceIDsThPA"),console.log(n);for(var t=[{id:"-- Please select --"}],o=0,s=n.result;o<s.length;o++){var l=s[o];t.push({id:l.id,type:l.type})}a.dataSourceIdOptions=t},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getDataSourceIDsThPA",[])})},r.prototype.getDataSourceIDsVPF=function(){var a=this;this.dashboardService.getDataSourceIDsVPF().subscribe(function(n){console.log("getDataSourceIDsVPF"),console.log(n);for(var t=[{id:"-- Please select --"}],o=0,s=n.result;o<s.length;o++){var l=s[o];t.push({id:l.id,type:l.type})}a.dataSourceIdOptions=t},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getDataSourceIDsVPF",[])})},r.prototype.onAccessRightsChange=function(a){var n=a.value,t=n.length;this.rightsArray.length==t+1?(this.form.controls.accessRights.setValue([]),this.rightsArray=[]):(this.rightsArray=n,"modify"==n[t-1].label&&(this.form.controls.accessRights.setValue([{label:"read"},{label:"modify"}]),this.rightsArray=[{label:"read"},{label:"modify"}]),"persist"==n[t-1].label&&(this.form.controls.accessRights.setValue([{label:"read"},{label:"modify"},{label:"persist"}]),this.rightsArray=[{label:"read"},{label:"modify"},{label:"persist"}]))},r.prototype.calculateMD5=function(a){return new Promise(function(n){var t=new FileReader;t.readAsArrayBuffer(a),t.onloadend=function(){var i=CryptoJS.lib.WordArray.create(t.result),o=CryptoJS.MD5(i).toString();n(o)}})},r.prototype.downloadAndCreateHash=function(a,n){var t=this;fetch(document.getElementById(a).value).then(function(i){if(console.log(i),200==i.status)return i.blob()}).then(function(i){return t.calculateMD5(i)}).then(function(i){console.log("Hash of the file is: "+i),"agreementHash"==n?t.agreementHash=i:"termsConditionsHash"==n?t.termsConditionsHash=i:"copyrightHash"==n&&(t.copyrightHash=i)}).catch(function(i){console.error(i)})},r.prototype.addCustomAccessRight=function(a){a.value&&this.customAccessRightsOptions.push({label:a.value,value:a.value})},r.prototype.onDatasetOwnerChange=function(a){var n=a.value.label;if(null==n&&(this.form.controls.datasetOwnerUsername.setValue("-- Please select --"),this.form.controls.datasetOwnerUsername.disable(),n=a.value),console.log(n),"-- Select or type --"==n)this.userOptions=this.allUserOptions,this.form.controls.datasetOwnerUsername.setValue("-- Please select --"),this.form.controls.datasetOwnerUsername.disable();else{var t=this.organizationOptions;if((t=t.map(function(o){return o.label})).indexOf(n)>=0){var i=this.allUserOptions.filter(function(o){return o.organization==n||"-- Please select --"==o.label});this.userOptions=i,this.form.controls.datasetOwnerUsername.enable()}}},r.prototype.onHasAgentChange=function(a){console.log(a.checked),a.checked.length>0?this.hasAgentChecked=!0:(this.hasAgentChecked=!1,this.form.controls.dataSourceID.setValue(this.dataSourceIdOptions[0]))},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"uploadMetadata"==a?t.uploadMetadata(n):"returnLoggedInUser"==a?t.returnLoggedInUser():"getUsers"==a?t.getUsers():"getOrganizations"==a?t.getOrganizations():"getDataSourceIDs"==a?t.getDataSourceIDs():"getDataSourceIDsThPA"==a?t.getDataSourceIDsThPA():"getDataSourceIDsVPF"==a&&t.getDataSourceIDsVPF()},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-dataset"]],decls:105,vars:41,consts:[[1,"title"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-4"],[1,"subtitle"],["type","text","formControlName","usernameOfProvider"],["type","text","formControlName","emailOfProvider"],["type","text","formControlName","datasetName"],["type","text","formControlName","datasetDescription"],["type","text","formControlName","agreement","id","agreementId"],["type","text","formControlName","termsConditions","id","termsConditionsId"],["type","text","formControlName","copyright","id","copyrightId"],["formControlName","industryDomain","optionLabel","label",3,"options"],["formControlName","accessRights","optionLabel","label",3,"options","filter","onChange"],["formControlName","customAccessRights",3,"options","filter","panelStyle"],[2,"padding-top","6px","margin-right","8px"],["type","text",2,"width","200px","margin-bottom","4px"],["in",""],[3,"click"],["type","text","formControlName","keywordTag"],["type","text","formControlName","endpoint"],["type","text","formControlName","datasetProvider"],["formControlName","datasetOwner","optionLabel","label","editable","true",3,"options","onChange"],["formControlName","datasetOwnerUsername","optionLabel","label",3,"options"],["type","number","formControlName","dataVolume"],["type","number","formControlName","dataVelocity"],["formControlName","distribution","optionLabel","label",3,"options"],["formControlName","language","optionLabel","label",3,"options"],["type","text","formControlName","themeCategory"],["type","text","formControlName","comments"],["type","text","formControlName","spatialGeographicCoverage"],["formControlName","temporalCoverageStart","dateFormat","dd/mm/yy"],["formControlName","temporalCoverageEnd","dateFormat","dd/mm/yy"],["formControlName","hasAgent","value","yes",3,"onChange"],[1,"hasAgentClass"],[4,"ngIf"],["formControlName","dataSourceID","optionLabel","id",3,"style","options","filter",4,"ngIf"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],["pButton","","type","button","label","Clear",3,"click"],["pButton","","type","button","label","Submit",3,"click"],["formControlName","dataSourceID","optionLabel","id",3,"options","filter"]],template:function(n,t){if(1&n){var i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h5",0),e._uU(2,"Add Dataset"),e.qZA(),e.TgZ(3,"form",1),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"h5",4),e._uU(7,"Dataset Details"),e.qZA(),e.TgZ(8,"h6"),e._uU(9,"Dataset Provider Username *"),e.qZA(),e._UZ(10,"input",5),e.TgZ(11,"h6"),e._uU(12,"Dataset Provider E-mail *"),e.qZA(),e._UZ(13,"input",6),e.TgZ(14,"h6"),e._uU(15,"Dataset Name *"),e.qZA(),e._UZ(16,"input",7),e.TgZ(17,"h6"),e._uU(18,"Dataset Description"),e.qZA(),e._UZ(19,"input",8),e.TgZ(20,"h6"),e._uU(21,"Agreement URL"),e.qZA(),e._UZ(22,"input",9),e.TgZ(23,"h6"),e._uU(24,"Terms and Conditions URL"),e.qZA(),e._UZ(25,"input",10),e.TgZ(26,"h6"),e._uU(27,"Copyright URL"),e.qZA(),e._UZ(28,"input",11),e.TgZ(29,"h6"),e._uU(30,"Industry Domain *"),e.qZA(),e._UZ(31,"p-dropdown",12),e.TgZ(32,"h6"),e._uU(33,"Access Rights *"),e.qZA(),e.TgZ(34,"p-multiSelect",13),e.NdJ("onChange",function(s){return t.onAccessRightsChange(s)}),e.qZA(),e.TgZ(35,"h6"),e._uU(36,"Custom Access Rights"),e.qZA(),e.TgZ(37,"p-multiSelect",14),e.TgZ(38,"p-header"),e.TgZ(39,"div",15),e._UZ(40,"input",16,17),e.TgZ(42,"button",18),e.NdJ("click",function(){e.CHM(i);var s=e.MAs(41);return t.addCustomAccessRight(s)}),e._uU(43,"Add Right"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"h6"),e._uU(45,"Keyword / Tag"),e.qZA(),e._UZ(46,"input",19),e.qZA(),e.TgZ(47,"div",3),e.TgZ(48,"h5",4),e._uU(49,"Source"),e.qZA(),e.TgZ(50,"h6"),e._uU(51,"Endpoint"),e.qZA(),e._UZ(52,"input",20),e.TgZ(53,"h6"),e._uU(54,"Dataset Provider *"),e.qZA(),e._UZ(55,"input",21),e.TgZ(56,"h6"),e._uU(57,"Dataset Owner *"),e.qZA(),e.TgZ(58,"p-dropdown",22),e.NdJ("onChange",function(s){return t.onDatasetOwnerChange(s)}),e.qZA(),e.TgZ(59,"h6"),e._uU(60,"Dataset Owner Username"),e.qZA(),e._UZ(61,"p-dropdown",23),e.TgZ(62,"h6"),e._uU(63,"Data Volume (KiB)"),e.qZA(),e._UZ(64,"input",24),e.TgZ(65,"h6"),e._uU(66,"Data Velocity (KiB/sec)"),e.qZA(),e._UZ(67,"input",25),e.TgZ(68,"h6"),e._uU(69,"Distribution *"),e.qZA(),e._UZ(70,"p-dropdown",26),e.TgZ(71,"h6"),e._uU(72,"Language *"),e.qZA(),e._UZ(73,"p-dropdown",27),e.TgZ(74,"h6"),e._uU(75,"Theme / Category"),e.qZA(),e._UZ(76,"input",28),e.TgZ(77,"h6"),e._uU(78,"Comments"),e.qZA(),e._UZ(79,"input",29),e.TgZ(80,"h6"),e._uU(81,"Spatial Geographic Coverage"),e.qZA(),e._UZ(82,"input",30),e.TgZ(83,"h6"),e._uU(84,"Temporal Coverage Start"),e.qZA(),e._UZ(85,"p-calendar",31),e.TgZ(86,"h6"),e._uU(87,"Temporal Coverage End"),e.qZA(),e._UZ(88,"p-calendar",32),e._UZ(89,"br"),e.TgZ(90,"p-checkbox",33),e.NdJ("onChange",function(s){return t.onHasAgentChange(s)}),e.qZA(),e.TgZ(91,"span",34),e._uU(92,"Has Agent"),e.qZA(),e._UZ(93,"br"),e.YNc(94,vh,2,0,"h6",35),e.YNc(95,bh,1,5,"p-dropdown",36),e.qZA(),e.qZA(),e._UZ(96,"br"),e._UZ(97,"br"),e.TgZ(98,"button",37),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e._UZ(99,"br"),e._UZ(100,"br"),e.TgZ(101,"button",38),e.NdJ("click",function(){return t.clearForm()}),e.qZA(),e._UZ(102,"br"),e._UZ(103,"br"),e.TgZ(104,"button",39),e.NdJ("click",function(){return t.onSubmit()}),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(3),e.Q6J("formGroup",t.form),e.xp6(28),e.Akn(e.DdM(31,Ye)),e.Q6J("options",t.industryDomainOptions),e.xp6(3),e.Akn(e.DdM(32,Ye)),e.Q6J("options",t.accessRightsOptions)("filter",!1),e.xp6(3),e.Akn(e.DdM(33,Ye)),e.Q6J("options",t.customAccessRightsOptions)("filter",!1)("panelStyle",e.DdM(34,yh)),e.xp6(21),e.Akn(e.DdM(35,Ye)),e.Q6J("options",t.organizationOptions),e.xp6(3),e.Akn(e.DdM(36,Ye)),e.Q6J("options",t.userOptions),e.xp6(9),e.Akn(e.DdM(37,Ye)),e.Q6J("options",t.distributionOptions),e.xp6(3),e.Akn(e.DdM(38,Ye)),e.Q6J("options",t.languageOptions),e.xp6(12),e.Akn(e.DdM(39,Ye)),e.xp6(3),e.Akn(e.DdM(40,Ye)),e.xp6(6),e.Q6J("ngIf",t.hasAgentChecked),e.xp6(1),e.Q6J("ngIf",t.hasAgentChecked))},directives:[T._Y,T.JL,T.sg,T.Fj,T.JJ,T.u,ne.Lt,gn,D.h4,T.wV,hn,Ht.XZ,I.O5,$.Hq],styles:["h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.afterFile[_ngcontent-%COMP%]{margin-top:8px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.hasAgentClass[_ngcontent-%COMP%]{color:#023f88;margin-top:3px;margin-left:5px;font-size:1rem;font-weight:500}"]}),r}(),ao=function(){return{width:"190px"}},Th=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i}return r.prototype.ngOnInit=function(){this.form=this.formBuilder.group({orgRole:["",T.kI.required],orgName:["",T.kI.required],orgVATNumber:["",T.kI.required],orgCountry:["",T.kI.required],orgCity:[""],orgAddress:[""],orgPostalCode:[""],orgPhoneNumber:[""],orgAdminFirstName:["",T.kI.required],orgAdminLastName:["",T.kI.required],orgAdminUsername:["",T.kI.required],orgAdminEmail:["",T.kI.required]}),this.form.controls.orgAdminFirstName.disable(),this.form.controls.orgAdminLastName.disable(),this.form.controls.orgAdminUsername.disable(),this.form.controls.orgAdminEmail.disable(),this.orgRoleOptions=[{label:"-- Please select --"},{label:"Research"},{label:"Telecommunications"},{label:"Port Authority"},{label:"Trucking Company"},{label:"Shipping Agent"}],this.countryOptions=[{label:"-- Please select --"},{label:"Afghanistan"},{label:"Albania"},{label:"Algeria"},{label:"American Samoa"},{label:"Andorra"},{label:"Angola"},{label:"Anguilla"},{label:"Antarctica"},{label:"Antigua and Barbuda"},{label:"Argentina"},{label:"Armenia"},{label:"Aruba"},{label:"Australia"},{label:"Austria"},{label:"Azerbaijan"},{label:"Bahamas"},{label:"Bahrain"},{label:"Bangladesh"},{label:"Barbados"},{label:"Belarus"},{label:"Belgium"},{label:"Belize"},{label:"Benin"},{label:"Bermuda"},{label:"Bhutan"},{label:"Bolivia"},{label:"Bosnia and Herzegovina"},{label:"Botswana"},{label:"Brazil"},{label:"Brunei Darussalam"},{label:"Bulgaria"},{label:"Burkina Faso"},{label:"Burundi"},{label:"Cambodia"},{label:"Cameroon"},{label:"Canada"},{label:"Cape Verde"},{label:"Cayman Islands"},{label:"Central African Republic"},{label:"Chad"},{label:"Chile"},{label:"China"},{label:"Christmas Island"},{label:"Cocos (Keeling) Islands"},{label:"Colombia"},{label:"Comoros"},{label:"Democratic Republic of the Congo (Kinshasa)"},{label:"Congo, Republic of (Brazzaville)"},{label:"Cook Islands"},{label:"Costa Rica"},{label:"C\xf4te D'ivoire (Ivory Coast)"},{label:"Croatia"},{label:"Cuba"},{label:"Cyprus"},{label:"Czech Republic"},{label:"Denmark"},{label:"Djibouti"},{label:"Dominica"},{label:"Dominican Republic"},{label:"East Timor (Timor-Leste)"},{label:"Ecuador"},{label:"Egypt"},{label:"El Salvador"},{label:"Equatorial Guinea"},{label:"Eritrea"},{label:"Estonia"},{label:"Ethiopia"},{label:"Falkland Islands"},{label:"Faroe Islands"},{label:"Fiji"},{label:"Finland"},{label:"France"},{label:"French Guiana"},{label:"French Polynesia"},{label:"French Southern Territories"},{label:"Gabon"},{label:"The Gambia"},{label:"Georgia"},{label:"Germany"},{label:"Ghana"},{label:"Gibraltar"},{label:"Greece"},{label:"Greenland"},{label:"Grenada"},{label:"Guadeloupe"},{label:"Guam"},{label:"Guatemala"},{label:"Guinea"},{label:"Guinea-Bissau"},{label:"Guyana"},{label:"Haiti"},{label:"Holy See"},{label:"Honduras"},{label:"Hong Kong"},{label:"Hungary"},{label:"Iceland"},{label:"India"},{label:"Indonesia"},{label:"Iran (Islamic Republic of)"},{label:"Iraq"},{label:"Ireland"},{label:"Israel"},{label:"Italy"},{label:"Ivory Coast"},{label:"Jamaica"},{label:"Japan"},{label:"Jordan"},{label:"Kazakhstan"},{label:"Kenya"},{label:"Kiribati"},{label:"Korea, Democratic People's Rep. (North Korea)"},{label:"Korea, Republic of (South Korea)"},{label:"Kosovo"},{label:"Kuwait"},{label:"Kyrgyzstan"},{label:"Lao, People's Democratic Republic"},{label:"Latvia"},{label:"Lebanon"},{label:"Lesotho"},{label:"Liberia"},{label:"Libya"},{label:"Liechtenstein"},{label:"Lithuania"},{label:"Luxembourg"},{label:"Macau"},{label:"Madagascar"},{label:"Malawi"},{label:"Malaysia"},{label:"Maldives"},{label:"Mali"},{label:"Malta"},{label:"Marshall Islands"},{label:"Martinique"},{label:"Mauritania"},{label:"Mauritius"},{label:"Mayotte"},{label:"Mexico"},{label:"Micronesia, Federal States of"},{label:"Moldova, Republic of"},{label:"Monaco"},{label:"Mongolia"},{label:"Montenegro"},{label:"Montserrat"},{label:"Morocco"},{label:"Mozambique"},{label:"Myanmar, Burma"},{label:"Namibia"},{label:"Nauru"},{label:"Nepal"},{label:"Netherlands"},{label:"Netherlands Antilles"},{label:"New Caledonia"},{label:"New Zealand"},{label:"Nicaragua"},{label:"Niger"},{label:"Nigeria"},{label:"Niue"},{label:"North Macedonia"},{label:"Northern Mariana Islands"},{label:"Norway"},{label:"Oman"},{label:"Pakistan"},{label:"Palau"},{label:"Palestinian territories"},{label:"Panama"},{label:"Papua New Guinea"},{label:"Paraguay"},{label:"Peru"},{label:"Philippines"},{label:"Pitcairn Island"},{label:"Poland"},{label:"Portugal"},{label:"Puerto Rico"},{label:"Qatar"},{label:"Reunion Island"},{label:"Romania"},{label:"Russian Federation"},{label:"Rwanda"},{label:"Saint Kitts and Nevis"},{label:"Saint Lucia"},{label:"Saint Vincent and the Grenadines"},{label:"Samoa"},{label:"San Marino"},{label:"Sao Tome and Principe"},{label:"Saudi Arabia"},{label:"Senegal"},{label:"Serbia"},{label:"Seychelles"},{label:"Sierra Leone"},{label:"Singapore"},{label:"Slovakia (Slovak Republic)"},{label:"Slovenia"},{label:"Solomon Islands"},{label:"Somalia"},{label:"South Africa"},{label:"South Sudan"},{label:"Spain"},{label:"Sri Lanka"},{label:"Sudan"},{label:"Suriname"},{label:"Swaziland (Eswatini)"},{label:"Sweden"},{label:"Switzerland"},{label:"Syria, Syrian Arab Republic"},{label:"Taiwan (Republic of China)"},{label:"Tajikistan"},{label:"Tanzania; officially the United Republic of Tanzania"},{label:"Thailand"},{label:"Tibet"},{label:"Timor-Leste (East Timor)"},{label:"Togo"},{label:"Tokelau"},{label:"Tonga"},{label:"Trinidad and Tobago"},{label:"Tunisia"},{label:"Turkey"},{label:"Turkmenistan"},{label:"Turks and Caicos Islands"},{label:"Tuvalu"},{label:"Uganda"},{label:"Ukraine"},{label:"United Arab Emirates"},{label:"United Kingdom"},{label:"United States"},{label:"Uruguay"},{label:"Uzbekistan"},{label:"Vanuatu"},{label:"Vatican City State (Holy See)"},{label:"Venezuela"},{label:"Vietnam"},{label:"Virgin Islands (British)"},{label:"Virgin Islands (U.S.)"},{label:"Wallis and Futuna Islands"},{label:"Western Sahara"},{label:"Yemen"},{label:"Zambia"},{label:"Zimbabwe"}],this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),this.getOrganizations(),this.getOrganizationUsers(),this.editStatus=!1},r.prototype.updateOrg=function(a){var n=this;this.dashboardService.updateOrg(a).subscribe(function(t){console.log(t),"Success"==t.response&&(n.editStatus=!1,n.getOrganizations(),n.getOrganizationUsers())},function(t){console.log(t.status),400==t.status?alert("Data error. Check your data for invalid characters."):(401==t.status||403==t.status)&&n.refreshTokens("updateOrg",a)})},r.prototype.getOrganizations=function(){var a=this;this.dashboardService.getOrganizations().subscribe(function(n){console.log(n);var t=n.result,i=a.loggedinUserOrganization;""!=a.externalOrg.trim()&&(i=a.externalOrg);var o=t.filter(function(l){return l.Key==i}),s=o[0].Record;console.log(o[0]),a.orgName=s.name,""!=a.externalOrg.trim()&&(a.orgName=a.externalOrg),a.form.controls.orgName.setValue(a.orgName),a.form.controls.orgVATNumber.setValue(s.vat_number),a.form.controls.orgCountry.setValue({label:s.country}),a.form.controls.orgCity.setValue(s.city),a.form.controls.orgAddress.setValue(s.address),a.form.controls.orgPostalCode.setValue(s.Postal_code),a.form.controls.orgPhoneNumber.setValue(s.phone),a.form.controls.orgRole.setValue({label:s.role}),a.orgRole=s.role,a.orgVATNumber=s.vat_number,a.orgCountry=s.country,a.orgCity=s.city,a.orgAddress=s.address,a.orgPostalCode=s.Postal_code,a.orgPhoneNumber=s.phone},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getOrganizations",[])})},r.prototype.getOrganizationUsers=function(){var a=this;this.dashboardService.getOrganizationUsers().subscribe(function(n){console.log(n);var o=n.result.filter(function(s){return"admin"==s.Record.type})[0].Record;console.log(o),a.form.controls.orgAdminFirstName.setValue(o.name),a.form.controls.orgAdminLastName.setValue(o.surname),a.form.controls.orgAdminUsername.setValue(o.username),a.form.controls.orgAdminEmail.setValue(o.email),a.orgAdminFirstName=o.name,a.orgAdminLastName=o.surname,a.orgAdminUsername=o.username,a.orgAdminEmail=o.email},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getOrganizationUsers",[])})},r.prototype.undoChangesButton=function(){this.getOrganizations(),this.getOrganizationUsers()},r.prototype.cancelButton=function(){this.undoChangesButton(),this.editStatus=!1},r.prototype.editButton=function(){this.editStatus=!0},r.prototype.onSubmit=function(){var a=this.form.getRawValue();if(this.form.invalid||"-- Please select --"==a.orgRole.label||"-- Please select --"==a.orgCountry.label)alert("Please fill in all required fields");else{var n=a.orgName;""!=this.externalOrg.trim()&&(n="EXT");var t=this.externalOrg;""!=this.externalOrg.trim()&&(t=a.orgName),this.updateOrg({title:n,role:a.orgRole.label,vat_number:a.orgVATNumber,country:a.orgCountry.label,city:a.orgCity,postal_code:a.orgPostalCode,address:a.orgAddress,phone:a.orgPhoneNumber,externalOrgName:t})}},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"updateOrg"==a?t.updateOrg(n):"getOrganizations"==a?t.getOrganizations():"getOrganizationUsers"==a&&t.getOrganizationUsers()},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-organization"]],decls:133,vars:24,consts:[[1,"title"],[3,"hidden"],[1,"row"],[1,"col-md-3"],[1,"caption"],[1,"header"],["pButton","","type","button","label","Edit","icon","icon-edit",3,"click"],["novalidate","",3,"formGroup"],[1,"subtitle"],["formControlName","orgRole","optionLabel","label",3,"options"],["type","text","formControlName","orgName"],["type","text","formControlName","orgVATNumber"],["formControlName","orgCountry","optionLabel","label",3,"options","filter"],["type","text","formControlName","orgCity"],["type","text","formControlName","orgAddress"],["type","text","formControlName","orgPostalCode"],["type","text","formControlName","orgPhoneNumber"],["type","text","formControlName","orgAdminFirstName"],["type","text","formControlName","orgAdminLastName"],["type","text","formControlName","orgAdminUsername"],["type","text","formControlName","orgAdminEmail"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],["pButton","","type","button","label","Undo Changes",3,"click"],["pButton","","type","button","label","Save Changes","icon","icon-save",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5",0),e._uU(2,"Organization"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"table"),e.TgZ(8,"caption",4),e._uU(9,"Organization"),e.qZA(),e.TgZ(10,"tr"),e.TgZ(11,"td",5),e._uU(12,"Organization Role"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"tr"),e.TgZ(16,"td",5),e._uU(17,"Organization Name"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.qZA(),e.TgZ(20,"tr"),e.TgZ(21,"td",5),e._uU(22,"Organization VAT Number"),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.qZA(),e.TgZ(25,"tr"),e.TgZ(26,"td",5),e._uU(27,"Organization Country"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA(),e.qZA(),e.TgZ(30,"tr"),e.TgZ(31,"td",5),e._uU(32,"Organization City"),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA(),e.qZA(),e.TgZ(35,"tr"),e.TgZ(36,"td",5),e._uU(37,"Organization Address"),e.qZA(),e.TgZ(38,"td"),e._uU(39),e.qZA(),e.qZA(),e.TgZ(40,"tr"),e.TgZ(41,"td",5),e._uU(42,"Organization Postal Code"),e.qZA(),e.TgZ(43,"td"),e._uU(44),e.qZA(),e.qZA(),e.TgZ(45,"tr"),e.TgZ(46,"td",5),e._uU(47,"Organization Phone Number"),e.qZA(),e.TgZ(48,"td"),e._uU(49),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",3),e.TgZ(51,"table"),e.TgZ(52,"caption",4),e._uU(53,"Organization Administrator"),e.qZA(),e.TgZ(54,"tr"),e.TgZ(55,"td",5),e._uU(56,"Organization Administrator First Name"),e.qZA(),e.TgZ(57,"td"),e._uU(58),e.qZA(),e.qZA(),e.TgZ(59,"tr"),e.TgZ(60,"td",5),e._uU(61,"Organization Administrator Last Name"),e.qZA(),e.TgZ(62,"td"),e._uU(63),e.qZA(),e.qZA(),e.TgZ(64,"tr"),e.TgZ(65,"td",5),e._uU(66,"Username"),e.qZA(),e.TgZ(67,"td"),e._uU(68),e.qZA(),e.qZA(),e.TgZ(69,"tr"),e.TgZ(70,"td",5),e._uU(71,"Email"),e.qZA(),e.TgZ(72,"td"),e._uU(73),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(74,"br"),e._UZ(75,"br"),e.TgZ(76,"button",6),e.NdJ("click",function(){return t.editButton()}),e.qZA(),e.qZA(),e.TgZ(77,"div",1),e.TgZ(78,"form",7),e.TgZ(79,"div",2),e.TgZ(80,"div",3),e.TgZ(81,"h5",8),e._uU(82,"Organization"),e.qZA(),e._UZ(83,"br"),e.TgZ(84,"h6"),e._uU(85,"Organization Role *"),e.qZA(),e._UZ(86,"p-dropdown",9),e.TgZ(87,"h6"),e._uU(88,"Organization Name *"),e.qZA(),e._UZ(89,"input",10),e.TgZ(90,"h6"),e._uU(91,"Organization VAT Number *"),e.qZA(),e._UZ(92,"input",11),e.TgZ(93,"h6"),e._uU(94,"Organization Country *"),e.qZA(),e._UZ(95,"p-dropdown",12),e.TgZ(96,"h6"),e._uU(97,"Organization City"),e.qZA(),e._UZ(98,"input",13),e.TgZ(99,"h6"),e._uU(100,"Organization Address"),e.qZA(),e._UZ(101,"input",14),e.TgZ(102,"h6"),e._uU(103,"Organization Postal Code"),e.qZA(),e._UZ(104,"input",15),e.TgZ(105,"h6"),e._uU(106,"Organization Phone Number"),e.qZA(),e._UZ(107,"input",16),e.qZA(),e.TgZ(108,"div",3),e.TgZ(109,"h5",8),e._uU(110,"Organization Administrator"),e.qZA(),e._UZ(111,"br"),e.TgZ(112,"h6"),e._uU(113,"Organization Administrator First Name *"),e.qZA(),e._UZ(114,"input",17),e.TgZ(115,"h6"),e._uU(116,"Organization Administrator Last Name *"),e.qZA(),e._UZ(117,"input",18),e.TgZ(118,"h6"),e._uU(119,"Username *"),e.qZA(),e._UZ(120,"input",19),e.TgZ(121,"h6"),e._uU(122,"Email *"),e.qZA(),e._UZ(123,"input",20),e.qZA(),e.qZA(),e._UZ(124,"br"),e._UZ(125,"br"),e.TgZ(126,"button",21),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e._UZ(127,"br"),e._UZ(128,"br"),e.TgZ(129,"button",22),e.NdJ("click",function(){return t.undoChangesButton()}),e.qZA(),e._UZ(130,"br"),e._UZ(131,"br"),e.TgZ(132,"button",23),e.NdJ("click",function(){return t.onSubmit()}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(4),e.Q6J("hidden",1==t.editStatus),e.xp6(10),e.Oqu(t.orgRole),e.xp6(5),e.Oqu(t.orgName),e.xp6(5),e.Oqu(t.orgVATNumber),e.xp6(5),e.Oqu(t.orgCountry),e.xp6(5),e.Oqu(t.orgCity),e.xp6(5),e.Oqu(t.orgAddress),e.xp6(5),e.Oqu(t.orgPostalCode),e.xp6(5),e.Oqu(t.orgPhoneNumber),e.xp6(9),e.Oqu(t.orgAdminFirstName),e.xp6(5),e.Oqu(t.orgAdminLastName),e.xp6(5),e.Oqu(t.orgAdminUsername),e.xp6(5),e.Oqu(t.orgAdminEmail),e.xp6(4),e.Q6J("hidden",0==t.editStatus),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(8),e.Akn(e.DdM(22,ao)),e.Q6J("options",t.orgRoleOptions),e.xp6(9),e.Akn(e.DdM(23,ao)),e.Q6J("options",t.countryOptions)("filter",!0))},directives:[$.Hq,T._Y,T.JL,T.sg,ne.Lt,T.JJ,T.u,T.Fj],styles:["h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.header[_ngcontent-%COMP%]{color:#023f88}tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}table[_ngcontent-%COMP%]{caption-side:top}.caption[_ngcontent-%COMP%]{color:#023f88;font-size:1.25rem;font-weight:500}"]}),r}();function Ch(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"div"),e.TgZ(2,"input",20),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(23).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Zh(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",21),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",22),e._uU(4,"Username "),e._UZ(5,"p-sortIcon",23),e.qZA(),e.TgZ(6,"th",24),e._uU(7,"First Name "),e._UZ(8,"p-sortIcon",25),e.qZA(),e.TgZ(9,"th",26),e._uU(10,"Last Name "),e._UZ(11,"p-sortIcon",27),e.qZA(),e.TgZ(12,"th",28),e._uU(13,"User e-mail "),e._UZ(14,"p-sortIcon",29),e.qZA(),e.TgZ(15,"th",30),e._uU(16,"User Role "),e._UZ(17,"p-sortIcon",31),e.qZA(),e.TgZ(18,"th",32),e._uU(19,"Registration Date "),e._UZ(20,"p-sortIcon",33),e.qZA(),e.qZA())}function kh(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"p-tableCheckbox",34),e.qZA(),e.TgZ(3,"td",35),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(4),e.qZA(),e.TgZ(5,"td",35),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(6),e.qZA(),e.TgZ(7,"td",35),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(8),e.qZA(),e.TgZ(9,"td",35),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(10),e.qZA(),e.TgZ(11,"td",35),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(12),e.qZA(),e.TgZ(13,"td",35),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(14),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.userFirstName),e.xp6(2),e.Oqu(t.userLastName),e.xp6(2),e.Oqu(t.userEmail),e.xp6(2),e.Oqu(t.userRole),e.xp6(2),e.Oqu(t.registered)}}var Sh=function(){return["/dashboard/users"]},Ah=function(){return["/dashboard/inactive-users"]},wh=function(){return["userId","username","userFirstName","userLastName","userEmail","userRole","registered"]},xh=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.userRoles=[],this.selectedDatasource=[],this.userRolesArray=[],this.selectedRows=[]}return r.prototype.ngOnInit=function(){this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),this.getActiveAccountsByOrg()},r.prototype.getActiveAccountsByOrg=function(){var a=this;this.dashboardService.getActiveAccountsByOrg().subscribe(function(n){console.log(n);for(var i=[],o=0,s=n.result;o<s.length;o++){var u={username:(l=s[o]).Record.username,userFirstName:l.Record.name,userLastName:l.Record.surname,userEmail:l.Record.email,userRole:l.Record.type,registered:a.changeDateFormat(l.Record.dateTime),registeredSortable:l.Record.dateTime,externalOrg:l.Record.externalOrg};i.push(u)}""!=a.externalOrg.trim()&&a.isExternalUser&&(i=i.filter(function(g){return g.externalOrg==a.externalOrg})),a.datasource=i;var c=a.datasource.map(function(g){return g.userRole});c=c.filter(function(g,h,f){return f.indexOf(g)===h}),a.userRoles=[{userRole:"All"}];for(var d=0,p=c;d<p.length;d++){var l;a.userRoles.push({userRole:l=p[d]})}a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getActiveAccountsByOrg",[])})},r.prototype.onChange=function(a){var n=a.value.userRole;this.selectedDatasource="All"==n?this.datasource:this.datasource.filter(function(t){return n==t.userRole})},r.prototype.handleSelect=function(a){var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),this.router.navigate(["/dashboard/user-selected-profile"],{state:{user:a}})},r.prototype.addUserButton=function(){var a=JSON.stringify(history.state.organization);localStorage.setItem("historyStateData",a),console.log("add user button"),this.router.navigate(["/dashboard/org-add-user"],{state:{organization:history.state.organization}})},r.prototype.deactivateSelectedButton=function(){var a=this;console.log("deactivate selected button"),console.log(this.selectedRows);for(var n=0,t=this.selectedRows;n<t.length;n++)this.deactivateAccount({username:t[n].username});setTimeout(function(){a.datasource=[],a.selectedDatasource=[],a.getActiveAccountsByOrg()},5e3)},r.prototype.deactivateAccount=function(a){var n=this;this.dashboardService.deactivateAccount(a).subscribe(function(t){console.log(t)},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("deactivateAccount",a)})},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"getActiveAccountsByOrg"==a?t.getActiveAccountsByOrg():"deactivateAccount"==a&&t.deactivateAccount(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-users"]],decls:27,vars:16,consts:[[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink"],[3,"routerLink"],[1,"card"],[2,"text-align","right"],["pButton","","type","button","label","Add User","icon","icon-add",3,"click"],["pButton","","type","button","label","Deactivate Selected","icon","icon-delete",3,"click"],[1,"row"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","32px","margin-left","15px"],[1,"icon-filters"],[1,"dropdownLabel"],["optionLabel","userRole",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields","selection","selectionChange"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","",2,"width","3rem"],["id","th12","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th13","pResizableColumn","","pSortableColumn","userFirstName"],["field","userFirstName"],["id","th14","pResizableColumn","","pSortableColumn","userLastName"],["field","userLastName"],["id","th15","pResizableColumn","","pSortableColumn","userEmail"],["field","userEmail"],["id","th16","pResizableColumn","","pSortableColumn","userRole"],["field","userRole"],["id","th17","pResizableColumn","","pSortableColumn","registeredSortable"],["field","registeredSortable"],[3,"value"],[3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"a",2),e._uU(3),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div"),e.TgZ(7,"div",4),e.TgZ(8,"div",5),e.TgZ(9,"button",6),e.NdJ("click",function(){return t.addUserButton()}),e.qZA(),e._UZ(10,"br"),e._UZ(11,"br"),e.TgZ(12,"button",7),e.NdJ("click",function(){return t.deactivateSelectedButton()}),e.qZA(),e.qZA(),e.TgZ(13,"div",8),e.TgZ(14,"div",9),e.TgZ(15,"h6",10),e._UZ(16,"span",11),e._uU(17,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"h6",12),e._uU(20,"User role:"),e.qZA(),e.TgZ(21,"p-dropdown",13),e.NdJ("ngModelChange",function(o){return t.selectedUserRole=o})("onChange",function(o){return t.onChange(o)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"p-table",14,15),e.NdJ("selectionChange",function(o){return t.selectedRows=o}),e.YNc(24,Ch,4,3,"ng-template",16),e.YNc(25,Zh,21,0,"ng-template",17),e.YNc(26,kh,15,7,"ng-template",18),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(13,Sh)),e.xp6(1),e.Oqu("Active Users"),e.xp6(1),e.Q6J("routerLink",e.DdM(14,Ah)),e.xp6(1),e.Oqu("Inactive Users"),e.xp6(16),e.Q6J("options",t.userRoles)("ngModel",t.selectedUserRole),e.xp6(1),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(15,wh))("selection",t.selectedRows))},directives:[q.yS,q.Od,$.Hq,ne.Lt,T.JJ,T.On,N,D.jx,j,re,mn,ae,ie,fn],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:220px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}(),Oh=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i}return r.prototype.ngOnInit=function(){this.form=this.formBuilder.group({orgName:["",T.kI.required],userRole:["",T.kI.required],userFirstName:["",T.kI.required],userLastName:["",T.kI.required],username:["",T.kI.required],email:["",T.kI.required],password:["",T.kI.required]}),this.form.controls.orgName.disable(),this.form.controls.userRole.disable(),this.form.controls.username.disable(),this.editStatus=!1,this.externalOrg=localStorage.getItem("externalOrg"),this.getUsers()},r.prototype.updateUserInfo=function(a){var n=this;this.dashboardService.updateUserInfo(a).subscribe(function(t){console.log(t),"Success"==t.response&&(localStorage.setItem("password",a.password),n.editStatus=!1,n.getUsers())},function(t){console.log(t.status),400==t.status?alert("Data error. Check your data for invalid characters."):(401==t.status||403==t.status)&&n.refreshTokens("updateUserInfo",a)})},r.prototype.undoChangesButton=function(){this.getUsers()},r.prototype.saveChangesButton=function(){if(this.form.invalid)alert("Please fill in all required fields");else{var a=this.form.getRawValue(),n={name:a.userFirstName,surname:a.userLastName,email:a.email,password:a.password};console.log(JSON.stringify(n)),this.updateUserInfo(n)}},r.prototype.cancelButton=function(){this.undoChangesButton(),this.editStatus=!1},r.prototype.editButton=function(){this.editStatus=!0},r.prototype.getUsers=function(){var a=this;this.dashboardService.getUsers().subscribe(function(n){console.log(n);var t=n.result;t=t.filter(function(o){return localStorage.getItem("username")==o.Record.username}),console.log(t);var i=t[0].Record;a.orgName=i.organization,""!=a.externalOrg.trim()&&(a.orgName=a.externalOrg),a.userRole=i.type,a.userFirstName=i.name,a.userLastName=i.surname,a.username=i.username,a.email=i.email,a.form.controls.orgName.setValue(a.orgName),a.form.controls.userRole.setValue(i.type),a.form.controls.userFirstName.setValue(i.name),a.form.controls.userLastName.setValue(i.surname),a.form.controls.username.setValue(i.username),a.form.controls.email.setValue(i.email),a.form.controls.password.setValue(localStorage.getItem("password"))},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getUsers",[])})},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"updateUserInfo"==a?t.updateUserInfo(n):"getUsers"==a&&t.getUsers()},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-profile"]],decls:79,vars:10,consts:[[1,"title"],[3,"hidden"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-4"],[1,"caption"],[1,"header"],["pButton","","type","button","label","Edit","icon","icon-edit",3,"click"],[1,"subtitle"],["type","text","formControlName","orgName"],["type","text","formControlName","userRole"],["type","text","formControlName","userFirstName"],["type","text","formControlName","userLastName"],["type","text","formControlName","username"],["type","text","formControlName","email"],["type","password","formControlName","password"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],["pButton","","type","button","label","Undo Changes",3,"click"],["pButton","","type","button","label","Save Changes","icon","icon-save",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5",0),e._uU(2,"Profile"),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"form",2),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"table"),e.TgZ(8,"caption",5),e._uU(9,"User"),e.qZA(),e.TgZ(10,"tr"),e.TgZ(11,"td",6),e._uU(12,"Organization"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"tr"),e.TgZ(16,"td",6),e._uU(17,"User Role"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.qZA(),e.TgZ(20,"tr"),e.TgZ(21,"td",6),e._uU(22,"User First Name"),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.qZA(),e.TgZ(25,"tr"),e.TgZ(26,"td",6),e._uU(27,"User Last Name"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA(),e.qZA(),e.TgZ(30,"tr"),e.TgZ(31,"td",6),e._uU(32,"Username"),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA(),e.qZA(),e.TgZ(35,"tr"),e.TgZ(36,"td",6),e._uU(37,"Email"),e.qZA(),e.TgZ(38,"td"),e._uU(39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(40,"br"),e._UZ(41,"br"),e.TgZ(42,"button",7),e.NdJ("click",function(){return t.editButton()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",1),e.TgZ(44,"form",2),e.TgZ(45,"div",3),e.TgZ(46,"div",4),e.TgZ(47,"h5",8),e._uU(48,"User"),e.qZA(),e.TgZ(49,"h6"),e._uU(50,"Organization *"),e.qZA(),e._UZ(51,"input",9),e.TgZ(52,"h6"),e._uU(53,"User Role *"),e.qZA(),e._UZ(54,"input",10),e.TgZ(55,"h6"),e._uU(56,"User First Name *"),e.qZA(),e._UZ(57,"input",11),e.TgZ(58,"h6"),e._uU(59,"User Last Name *"),e.qZA(),e._UZ(60,"input",12),e.TgZ(61,"h6"),e._uU(62,"Username *"),e.qZA(),e._UZ(63,"input",13),e.TgZ(64,"h6"),e._uU(65,"Email *"),e.qZA(),e._UZ(66,"input",14),e.TgZ(67,"h6"),e._uU(68,"Password *"),e.qZA(),e._UZ(69,"input",15),e.qZA(),e.qZA(),e._UZ(70,"br"),e._UZ(71,"br"),e.TgZ(72,"button",16),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e._UZ(73,"br"),e._UZ(74,"br"),e.TgZ(75,"button",17),e.NdJ("click",function(){return t.undoChangesButton()}),e.qZA(),e._UZ(76,"br"),e._UZ(77,"br"),e.TgZ(78,"button",18),e.NdJ("click",function(){return t.saveChangesButton()}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("hidden",1==t.editStatus),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(10),e.Oqu(t.orgName),e.xp6(5),e.Oqu(t.userRole),e.xp6(5),e.Oqu(t.userFirstName),e.xp6(5),e.Oqu(t.userLastName),e.xp6(5),e.Oqu(t.username),e.xp6(5),e.Oqu(t.email),e.xp6(4),e.Q6J("hidden",0==t.editStatus),e.xp6(1),e.Q6J("formGroup",t.form))},directives:[T._Y,T.JL,T.sg,$.Hq,T.Fj,T.JJ,T.u],styles:["h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.header[_ngcontent-%COMP%]{color:#023f88}tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}table[_ngcontent-%COMP%]{caption-side:top}.caption[_ngcontent-%COMP%]{color:#023f88;font-size:1.25rem;font-weight:500}"]}),r}();function qh(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",20),e.TgZ(1,"div"),e.TgZ(2,"input",21),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(10).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Dh(r,a){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",22),e.TgZ(2,"th",23),e._uU(3,"Personal"),e.qZA(),e.TgZ(4,"th",24),e._uU(5,"Organizational"),e.qZA(),e.TgZ(6,"th",25),e._uU(7,"Organizational"),e.qZA(),e.TgZ(8,"th",26),e._uU(9,"Public"),e.qZA(),e.qZA(),e.TgZ(10,"tr"),e.TgZ(11,"th",27),e._uU(12,"Access Right "),e._UZ(13,"p-sortIcon",28),e.qZA(),e.TgZ(14,"th",29),e._uU(15,"Active "),e._UZ(16,"p-sortIcon",30),e.qZA(),e.TgZ(17,"th",31),e._uU(18,"Request "),e._UZ(19,"p-sortIcon",32),e.qZA(),e.TgZ(20,"th",33),e._uU(21,"Pending "),e._UZ(22,"p-sortIcon",34),e.qZA(),e.TgZ(23,"th",35),e._uU(24,"Active "),e._UZ(25,"p-sortIcon",36),e.qZA(),e.TgZ(26,"th",37),e._uU(27,"Request "),e._UZ(28,"p-sortIcon",38),e.qZA(),e.TgZ(29,"th",39),e._uU(30,"Pending "),e._UZ(31,"p-sortIcon",40),e.qZA(),e.TgZ(32,"th",41),e._uU(33,"Active "),e._UZ(34,"p-sortIcon",42),e.qZA(),e.qZA()),2&r){var n=e.oxw();e.xp6(4),e.Q6J("hidden",n.loggedinUserOrganization==n.datasetProvider||"admin"!=n.role),e.xp6(2),e.Q6J("hidden",n.loggedinUserOrganization==n.datasetProvider||"admin"==n.role),e.xp6(17),e.Q6J("hidden",n.loggedinUserOrganization==n.datasetProvider),e.xp6(3),e.Q6J("hidden",n.loggedinUserOrganization==n.datasetProvider||"admin"!=n.role),e.xp6(3),e.Q6J("hidden",n.loggedinUserOrganization==n.datasetProvider)}}function Mh(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.TgZ(6,"input",43),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().checkboxClicked(l.accessRight)}),e.qZA(),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",1),e._uU(10),e.qZA(),e.TgZ(11,"td",1),e.TgZ(12,"input",43),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().checkboxOrgClicked(l.accessRight)}),e.qZA(),e.qZA(),e.TgZ(13,"td",1),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.accessRight),e.xp6(2),e.Oqu(t.personalActive),e.xp6(2),e.Tol(t.className),e.xp6(2),e.Oqu(t.personalPending),e.xp6(1),e.Q6J("hidden",i.loggedinUserOrganization==i.datasetProvider),e.xp6(1),e.Oqu(t.orgActive),e.xp6(1),e.Q6J("hidden",i.loggedinUserOrganization==i.datasetProvider||"admin"!=i.role),e.xp6(1),e.Tol(t.classNameOrg),e.xp6(1),e.Q6J("hidden",i.loggedinUserOrganization==i.datasetProvider),e.xp6(1),e.Oqu(t.orgPending),e.xp6(2),e.Oqu(t.public)}}var Rh=function(){return["accessRight"]},Ih=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i,this.requestPermissions=[],this.requestPermissionsOrg=[],this.copyrightHash="",this.copyrightURL="",this.fileExists=!1}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.role=localStorage.getItem("role"),this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),this.form=this.formBuilder.group({}),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.queryMetadataByName(this.historyStateData.dataName),this.queryPublicDatasetsByDatasetName(this.historyStateData.dataName)},r.prototype.askPermissionButton=function(){var a="";this.datasource[0]&&1==this.datasource[0].status&&"read"==this.datasource[0].accessRight&&(a="read"),this.datasource[1]&&1==this.datasource[1].status&&"modify"==this.datasource[1].accessRight&&(a="modify"),this.datasource[2]&&1==this.datasource[2].status&&"persist"==this.datasource[2].accessRight&&(a="persist");for(var n=[],t=0,i=this.datasource;t<i.length;t++){var o=i[t];1==o.status&&"read"!=o.accessRight&&"modify"!=o.accessRight&&"persist"!=o.accessRight&&n.push(o.accessRight)}n.length>0&&""==a&&this.requestPermissions.indexOf("read")>=0&&(a="read");var s={datasetname:this.historyStateData.dataName,permission:a,customAccessRights:n};console.log(s),a||n.length>0?this.requestAccess(s):alert("Please select permission")},r.prototype.askPermissionOrgButton=function(){console.log(this.datasource);var a="";this.datasource[0]&&1==this.datasource[0].orgStatus&&"read"==this.datasource[0].accessRight&&(a="read"),this.datasource[1]&&1==this.datasource[1].orgStatus&&"modify"==this.datasource[1].accessRight&&(a="modify"),this.datasource[2]&&1==this.datasource[2].orgStatus&&"persist"==this.datasource[2].accessRight&&(a="persist");for(var n=[],t=0,i=this.datasource;t<i.length;t++){var o=i[t];1==o.orgStatus&&"read"!=o.accessRight&&"modify"!=o.accessRight&&"persist"!=o.accessRight&&n.push(o.accessRight)}n.length>0&&""==a&&this.requestPermissionsOrg.indexOf("read")>=0&&(a="read");var s={datasetname:this.historyStateData.dataName,permission:a,customAccessRights:n};console.log(s),a||n.length>0?this.requestAccessByOrg(s):alert("Please select permission")},r.prototype.cancelButton=function(){this.router.navigate(["/dashboard/search-dataset"])},r.prototype.queryMetadataByName=function(a){var n=this;document.getElementById("askPermissionButton").style.opacity="0.3",document.getElementsByClassName("askPermissionButtonClass")[0].disabled=!0,document.getElementById("askPermissionOrgButton").style.opacity="0.3",document.getElementsByClassName("askPermissionOrgButtonClass")[0].disabled=!0,this.dashboardService.queryMetadataByName(a).subscribe(function(o){console.log(o);var s=o.result;n.identifier=s.identifier,n.usernameOfProvider=s.usernameOfProvider,n.emailOfProvider=s.emailOfProvider,n.datasetName=s.datasetName,n.datasetDescription=s.datasetDescription;var l=s.customAccessRights;n.customAccessRights=l.toString(),n.agreementURL=s.contractAgreementURL,n.agreementHash=s.contractAgreementHash,n.termsConditionsURL=s.termsConditionsURL,n.termsConditionsHash=s.termsConditionsHash,n.version=s.version,n.industryDomain=s.industryDomain,n.datasetOwner=s.orgOfOwner,n.datasetProvider=s.orgOfProvider,n.usernameOfOwner=s.usernameOfOwner,n.dataVolume=s.dataVolume,n.dataVelocity=s.dataVelocity,n.distribution=s.distribution,n.purposes=s.purposes,n.comments=s.comments,n.accessRights=s.accessRights;var u=n.accessRights;if(l.length>0)for(var c=0,d=l;c<d.length;c++)u.push(p=d[c]);console.log(u),n.validPermissions=u,n.validPermissionsOrg=u,n.endpoint=s.endpoint,n.blockchain=s.blockchain;for(var g=[],h=0,f=u;h<f.length;h++){var p;g.push({accessRight:p=f[h],personalActive:"no",personalRequest:"",personalPending:"no",orgActive:"no",orgRequest:"",orgPending:"no",public:"no",className:p+"Class",classNameOrg:p+"OrgClass",status:!1,orgStatus:!1})}n.datasource=g,n.language=s.language,n.keywordTag=s.keywordTag,n.spatialGeographicCoverage=s.spatialGeographicCoverage,n.temporalCoverageStart=n.changeDateFormat4(s.temporalCoverageStart),n.temporalCoverageEnd=n.changeDateFormat4(s.temporalCoverageEnd),n.themeCategory=s.themeCategory,n.copyrightHash=s.copyrightHash,n.copyrightURL=s.copyrightsURL,n.hasAgent=s.hasAgent,n.dataSourceID=s.dataSourceMetadata.dataSourceID,n.fileExists=!!(n.agreementURL||n.termsConditionsURL||n.copyrightURL),n.getActivePermissions(n.historyStateData.dataName),n.getActivePermissionsOrg(n.historyStateData.dataName)},function(o){console.log(o.status),(401==o.status||403==o.status)&&n.refreshTokens("queryMetadataByName",a)})},r.prototype.requestAccess=function(a){var n=this;this.dashboardService.requestAccess(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/search-dataset"])},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("requestAccess",a)})},r.prototype.requestAccessByOrg=function(a){var n=this;this.dashboardService.requestAccessByOrg(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/search-dataset"])},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("requestAccessByOrg",a)})},r.prototype.getActivePermissions=function(a){var n=this;this.dashboardService.queryDatasetPermissionByAuthorizedUsers().subscribe(function(t){console.log(t);var i=t.result;if(i=i.filter(function(m){return m.Record.dataset_name==a}).filter(function(m){return m.Record.users.username==n.loggedinUserUsername}),console.log(i),n.activePermissions=[],i[0]){n.activePermissions=i[0].Record.users.permission;var o=i[0].Record.users.customAccessRights;if(o.length>0)for(var s=0,l=o;s<l.length;s++)n.activePermissions.push(l[s]);for(var c=0,d=n.activePermissions;c<d.length;c++)for(var p=d[c],g=0,h=n.datasource;g<h.length;g++){var f=h[g];p==f.accessRight&&(f.personalActive="yes")}}n.getPendingPermissions(n.historyStateData.dataName)},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("getActivePermissions",a)})},r.prototype.getActivePermissionsOrg=function(a){var n=this;this.dashboardService.queryAccessOrgConsumerByDatasetName(a).subscribe(function(t){console.log(t);var i=t.result;if(console.log(i),n.activePermissionsOrg=[],i[0]){n.activePermissionsOrg=i[0].Record.permission;var o=i[0].Record.customAccessRights;if(o.length>0)for(var s=0,l=o;s<l.length;s++)n.activePermissionsOrg.push(l[s]);for(var c=0,d=n.activePermissionsOrg;c<d.length;c++)for(var p=d[c],g=0,h=n.datasource;g<h.length;g++){var f=h[g];p==f.accessRight&&(f.orgActive="yes")}}n.getPendingPermissionsOrg(n.historyStateData.dataName)},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("getActivePermissionsOrg",a)})},r.prototype.getPendingPermissions=function(a){var n=this;this.dashboardService.queryAllAccessRequestsConsumer().subscribe(function(t){console.log(t);var i=t.result;if(i=i.filter(function(O){return O.Record.dataset_name==a}).filter(function(O){return O.Record.username==n.loggedinUserUsername}),n.pendingPermissions=[],i[0]){n.pendingPermissions=[i[0].Record.permission];var o=[];""!=n.pendingPermissions[0].trim()&&(o=n.pendingPermissions[0].split(","));var s=i[0].Record.customAccessRights;if(s.length>0)for(var l=0,u=s;l<u.length;l++)o.push(u[l]);console.log(o);for(var d=0,p=o;d<p.length;d++)for(var g=p[d],h=0,f=n.datasource;h<f.length;h++){var m=f[h];g==m.accessRight&&(m.personalPending="yes")}if(s.length>0)for(var v=0,b=s;v<b.length;v++)n.pendingPermissions.push(b[v]);if("modify"==i[0].Record.permission?n.activePermissions.indexOf("read")<0&&(n.pendingPermissions=["read","modify"]):"persist"==i[0].Record.permission&&(n.pendingPermissions=["persist"],n.activePermissions.indexOf("read")<0&&n.pendingPermissions.push("read"),n.activePermissions.indexOf("modify")<0&&n.pendingPermissions.push("modify")),s.length>0)for(var y=0,_=s;y<_.length;y++)n.pendingPermissions.push(_[y])}n.requestPermissions=n.validPermissions,n.requestPermissions=n.requestPermissions.filter(function(O){return n.activePermissions.indexOf(O)<0}),n.requestPermissions=n.requestPermissions.filter(function(O){return n.pendingPermissions.indexOf(O)<0}),console.log(n.requestPermissions);for(var C=0,Z=n.datasource;C<Z.length;C++){var S=Z[C];n.requestPermissions.indexOf(S.accessRight)<0&&(document.getElementsByClassName(S.accessRight+"Class")[0].disabled=!0)}n.requestPermissions.length>0&&(document.getElementsByClassName("askPermissionButtonClass")[0].disabled=!1,document.getElementById("askPermissionButton").style.opacity="1")},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("getPendingPermissions",a)})},r.prototype.getPendingPermissionsOrg=function(a){var n=this;this.dashboardService.queryAccessRequestsOrgConsumerByDatasetName(a).subscribe(function(t){console.log(t);var i=t.result;if(n.pendingPermissionsOrg=[],i[0]){n.pendingPermissionsOrg=[i[0].Record.permission],console.log(n.pendingPermissionsOrg);var o=[];""!=n.pendingPermissionsOrg[0].trim()&&(o=n.pendingPermissionsOrg[0].split(",")),console.log(o);var s=i[0].Record.customAccessRights;if(console.log(s),s.length>0)for(var l=0,u=s;l<u.length;l++)o.push(u[l]);console.log(o);for(var d=0,p=o;d<p.length;d++)for(var g=p[d],h=0,f=n.datasource;h<f.length;h++){var m=f[h];g==m.accessRight&&(m.orgPending="yes")}if(s.length>0)for(var v=0,b=s;v<b.length;v++)n.pendingPermissionsOrg.push(b[v]);if("modify"==i[0].Record.permission?n.activePermissionsOrg.indexOf("read")<0&&(n.pendingPermissionsOrg=["read","modify"]):"persist"==i[0].Record.permission&&(n.pendingPermissionsOrg=["persist"],n.activePermissionsOrg.indexOf("read")<0&&n.pendingPermissionsOrg.push("read"),n.activePermissionsOrg.indexOf("modify")<0&&n.pendingPermissionsOrg.push("modify")),s.length>0)for(var y=0,_=s;y<_.length;y++)n.pendingPermissionsOrg.push(_[y])}n.requestPermissionsOrg=n.validPermissionsOrg,n.requestPermissionsOrg=n.requestPermissionsOrg.filter(function(O){return n.activePermissionsOrg.indexOf(O)<0}),n.requestPermissionsOrg=n.requestPermissionsOrg.filter(function(O){return n.pendingPermissionsOrg.indexOf(O)<0}),console.log(n.requestPermissionsOrg);for(var C=0,Z=n.datasource;C<Z.length;C++){var S=Z[C];n.requestPermissionsOrg.indexOf(S.accessRight)<0&&(document.getElementsByClassName(S.accessRight+"OrgClass")[0].disabled=!0)}n.requestPermissionsOrg.length>0&&(document.getElementsByClassName("askPermissionOrgButtonClass")[0].disabled=!1,document.getElementById("askPermissionOrgButton").style.opacity="1")},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("getPendingPermissionsOrg",a)})},r.prototype.checkboxClicked=function(a){if(console.log(a),"read"==a)this.datasource[0].status=0==this.datasource[0].status;else if("modify"==a)console.log("this.datasource[1].status"),console.log(this.datasource[1].status),0==this.datasource[1].status?(this.requestPermissions.indexOf("read")>=0&&((n=document.getElementsByClassName("readClass"))[0].disabled=!0,n[0].checked=!0,this.datasource[0].status=!0),this.datasource[1].status=!0):(this.requestPermissions.indexOf("read")>=0&&((n=document.getElementsByClassName("readClass"))[0].disabled=!1,n[0].checked=!1,this.datasource[0].status=!1),this.datasource[1].status=!1);else if("persist"==a)if(console.log("this.datasource[2].status"),console.log(this.datasource[2].status),0==this.datasource[2].status)this.requestPermissions.indexOf("read")>=0&&((n=document.getElementsByClassName("readClass"))[0].disabled=!0,n[0].checked=!0,this.datasource[0].status=!0),this.requestPermissions.indexOf("modify")>=0&&((t=document.getElementsByClassName("modifyClass"))[0].disabled=!0,t[0].checked=!0,this.datasource[1].status=!0),this.datasource[2].status=!0;else{var n,t;this.requestPermissions.indexOf("read")>=0&&((n=document.getElementsByClassName("readClass"))[0].disabled=!1,n[0].checked=!1,this.datasource[0].status=!1),this.requestPermissions.indexOf("modify")>=0&&((t=document.getElementsByClassName("modifyClass"))[0].disabled=!1,t[0].checked=!1,this.datasource[1].status=!1),this.datasource[2].status=!1}else for(var i=0,o=this.datasource;i<o.length;i++){var s=o[i];s.accessRight==a&&(s.status=0==s.status)}},r.prototype.checkboxOrgClicked=function(a){if(console.log(a),"read"==a)this.datasource[0].orgStatus=0==this.datasource[0].orgStatus;else if("modify"==a)0==this.datasource[1].orgStatus?(this.requestPermissionsOrg.indexOf("read")>=0&&((n=document.getElementsByClassName("readOrgClass"))[0].disabled=!0,n[0].checked=!0,this.datasource[0].orgStatus=!0),this.datasource[1].orgStatus=!0):(this.requestPermissionsOrg.indexOf("read")>=0&&((n=document.getElementsByClassName("readOrgClass"))[0].disabled=!1,n[0].checked=!1,this.datasource[0].orgStatus=!1),this.datasource[1].orgStatus=!1);else if("persist"==a)if(0==this.datasource[2].orgStatus)this.requestPermissionsOrg.indexOf("read")>=0&&((n=document.getElementsByClassName("readOrgClass"))[0].disabled=!0,n[0].checked=!0,this.datasource[0].orgStatus=!0),this.requestPermissionsOrg.indexOf("modify")>=0&&((t=document.getElementsByClassName("modifyOrgClass"))[0].disabled=!0,t[0].checked=!0,this.datasource[1].orgStatus=!0),this.datasource[2].orgStatus=!0;else{var n,t;this.requestPermissionsOrg.indexOf("read")>=0&&((n=document.getElementsByClassName("readOrgClass"))[0].disabled=!1,n[0].checked=!1,this.datasource[0].orgStatus=!1),this.requestPermissionsOrg.indexOf("modify")>=0&&((t=document.getElementsByClassName("modifyOrgClass"))[0].disabled=!1,t[0].checked=!1,this.datasource[1].orgStatus=!1),this.datasource[2].orgStatus=!1}else for(var i=0,o=this.datasource;i<o.length;i++){var s=o[i];s.accessRight==a&&(s.orgStatus=0==s.orgStatus)}},r.prototype.queryPublicDatasetsByDatasetName=function(a){var n=this;this.dashboardService.queryPublicDatasetsByDatasetName(a).subscribe(function(t){console.log(t);for(var i=t.result[0],s=i.Record.customAccessRights,l=0,u=i.Record.permission;l<u.length;l++)for(var c=u[l],d=0,p=n.datasource;d<p.length;d++)c==(g=p[d]).accessRight&&(g.public="yes");for(var h=0,f=s;h<f.length;h++)for(var m=f[h],v=0,b=n.datasource;v<b.length;v++){var g;m==(g=b[v]).accessRight&&(g.public="yes")}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryPublicDatasetsByDatasetName",a)})},r.prototype.changeDateFormat4=function(a){return a&&a.substr(8,2)+"/"+a.substr(5,2)+"/"+a.substr(0,4)},r.prototype.getClassOfHasAgent=function(a,n){if("true"==a&&(null==n||""==n.trim()))return"missing"},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryMetadataByName"==a?t.queryMetadataByName(n):"requestAccess"==a?t.requestAccess(n):"requestAccessByOrg"==a?t.requestAccessByOrg(n):"getActivePermissions"==a?t.getActivePermissions(n):"getActivePermissionsOrg"==a?t.getActivePermissionsOrg(n):"getPendingPermissions"==a?t.getPendingPermissions(n):"getPendingPermissionsOrg"==a?t.getPendingPermissionsOrg(n):"queryPublicDatasetsByDatasetName"==a&&t.queryPublicDatasetsByDatasetName(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-dataset"]],decls:270,vars:60,consts:[[1,"title"],[3,"hidden"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"row"],[1,"col-md-2"],["pButton","","type","button","label","Personal Request","id","askPermissionButton",1,"askPermissionButtonClass",3,"click"],[1,"col-md-2",3,"hidden"],["pButton","","type","button","label","Organizational Request","id","askPermissionOrgButton",1,"askPermissionOrgButtonClass",3,"click"],[1,"col-md-4"],[1,"datasetView"],[1,"header"],[1,"col-md-4",3,"hidden"],[3,"ngClass"],[1,"row",3,"hidden"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["colspan","1",2,"background-color","#f4f4f4!important","border-color","#f4f4f4!important"],["colspan","3"],["colspan","3",3,"hidden"],["colspan","2",3,"hidden"],["colspan","1"],["id","th11","pResizableColumn","","pSortableColumn","accessRight"],["field","accessRight"],["id","th12","pResizableColumn","","pSortableColumn","personalActive"],["field","personalActive"],["id","th13","pResizableColumn","","pSortableColumn","personalRequest"],["field","personalRequest"],["id","th14","pResizableColumn","","pSortableColumn","personalPending"],["field","personalPending"],["id","th15","pResizableColumn","","pSortableColumn","orgActive",3,"hidden"],["field","orgActive"],["id","th16","pResizableColumn","","pSortableColumn","orgRequest",3,"hidden"],["field","orgRequest"],["id","th17","pResizableColumn","","pSortableColumn","orgPending",3,"hidden"],["field","orgPending"],["id","th18","pResizableColumn","","pSortableColumn","public"],["field","public"],["type","checkbox",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5",0),e._uU(2,"Dataset Metadata"),e.qZA(),e._UZ(3,"br"),e._UZ(4,"br"),e._UZ(5,"br"),e.TgZ(6,"div"),e.TgZ(7,"div",1),e.TgZ(8,"div",2),e.TgZ(9,"p-table",3,4),e.YNc(11,qh,4,3,"ng-template",5),e.YNc(12,Dh,35,5,"ng-template",6),e.YNc(13,Mh,17,15,"ng-template",7),e.qZA(),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"div",8),e.TgZ(16,"div",9),e.TgZ(17,"button",10),e.NdJ("click",function(){return t.askPermissionButton()}),e.qZA(),e.qZA(),e.TgZ(18,"div",11),e.TgZ(19,"button",12),e.NdJ("click",function(){return t.askPermissionOrgButton()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(20,"br"),e._UZ(21,"br"),e.TgZ(22,"div",8),e.TgZ(23,"div",13),e.TgZ(24,"table",14),e.TgZ(25,"tr"),e.TgZ(26,"td",15),e._uU(27,"Identifier"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA(),e.qZA(),e.TgZ(30,"tr"),e.TgZ(31,"td",15),e._uU(32,"Dataset Provider Username"),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA(),e.qZA(),e.TgZ(35,"tr"),e.TgZ(36,"td",15),e._uU(37,"Dataset Provider E-mail"),e.qZA(),e.TgZ(38,"td"),e._uU(39),e.qZA(),e.qZA(),e.TgZ(40,"tr"),e.TgZ(41,"td",15),e._uU(42,"Dataset Name"),e.qZA(),e.TgZ(43,"td"),e._uU(44),e.qZA(),e.qZA(),e.TgZ(45,"tr"),e.TgZ(46,"td",15),e._uU(47,"Dataset Description"),e.qZA(),e.TgZ(48,"td"),e._uU(49),e.qZA(),e.qZA(),e.TgZ(50,"tr"),e.TgZ(51,"td",15),e._uU(52,"Agreement URL"),e.qZA(),e.TgZ(53,"td"),e._uU(54),e.qZA(),e.qZA(),e.TgZ(55,"tr"),e.TgZ(56,"td",15),e._uU(57,"Agreement Hash (MD5)"),e.qZA(),e.TgZ(58,"td"),e._uU(59),e.qZA(),e.qZA(),e.TgZ(60,"tr"),e.TgZ(61,"td",15),e._uU(62,"Terms and Conditions URL"),e.qZA(),e.TgZ(63,"td"),e._uU(64),e.qZA(),e.qZA(),e.TgZ(65,"tr"),e.TgZ(66,"td",15),e._uU(67,"Terms and Conditions Hash (MD5)"),e.qZA(),e.TgZ(68,"td"),e._uU(69),e.qZA(),e.qZA(),e.TgZ(70,"tr"),e.TgZ(71,"td",15),e._uU(72,"Copyright URL"),e.qZA(),e.TgZ(73,"td"),e._uU(74),e.qZA(),e.qZA(),e.TgZ(75,"tr"),e.TgZ(76,"td",15),e._uU(77,"Copyright Hash (MD5)"),e.qZA(),e.TgZ(78,"td"),e._uU(79),e.qZA(),e.qZA(),e.TgZ(80,"tr"),e.TgZ(81,"td",15),e._uU(82,"Version"),e.qZA(),e.TgZ(83,"td"),e._uU(84),e.qZA(),e.qZA(),e.TgZ(85,"tr"),e.TgZ(86,"td",15),e._uU(87,"Industry Domain"),e.qZA(),e.TgZ(88,"td"),e._uU(89),e.qZA(),e.qZA(),e.TgZ(90,"tr"),e.TgZ(91,"td",15),e._uU(92,"Access Rights"),e.qZA(),e.TgZ(93,"td"),e._uU(94),e.qZA(),e.qZA(),e.TgZ(95,"tr"),e.TgZ(96,"td",15),e._uU(97,"Custom Access Rights"),e.qZA(),e.TgZ(98,"td"),e._uU(99),e.qZA(),e.qZA(),e.TgZ(100,"tr"),e.TgZ(101,"td",15),e._uU(102,"Blockchain"),e.qZA(),e.TgZ(103,"td"),e._uU(104),e.qZA(),e.qZA(),e.TgZ(105,"tr"),e.TgZ(106,"td",15),e._uU(107,"Keyword / Tag"),e.qZA(),e.TgZ(108,"td"),e._uU(109),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(110,"div",16),e.TgZ(111,"table",14),e.TgZ(112,"tr"),e.TgZ(113,"td",15),e._uU(114,"Endpoint"),e.qZA(),e.TgZ(115,"td"),e._uU(116),e.qZA(),e.qZA(),e.TgZ(117,"tr"),e.TgZ(118,"td",15),e._uU(119,"Dataset Provider"),e.qZA(),e.TgZ(120,"td"),e._uU(121),e.qZA(),e.qZA(),e.TgZ(122,"tr"),e.TgZ(123,"td",15),e._uU(124,"Dataset Owner"),e.qZA(),e.TgZ(125,"td"),e._uU(126),e.qZA(),e.qZA(),e.TgZ(127,"tr"),e.TgZ(128,"td",15),e._uU(129,"Dataset Owner Username"),e.qZA(),e.TgZ(130,"td"),e._uU(131),e.qZA(),e.qZA(),e.TgZ(132,"tr"),e.TgZ(133,"td",15),e._uU(134,"Data Volume (KiB)"),e.qZA(),e.TgZ(135,"td"),e._uU(136),e.qZA(),e.qZA(),e.TgZ(137,"tr"),e.TgZ(138,"td",15),e._uU(139,"Data Velocity (KiB/sec)"),e.qZA(),e.TgZ(140,"td"),e._uU(141),e.qZA(),e.qZA(),e.TgZ(142,"tr"),e.TgZ(143,"td",15),e._uU(144,"Distribution"),e.qZA(),e.TgZ(145,"td"),e._uU(146),e.qZA(),e.qZA(),e.TgZ(147,"tr"),e.TgZ(148,"td",15),e._uU(149,"Language"),e.qZA(),e.TgZ(150,"td"),e._uU(151),e.qZA(),e.qZA(),e.TgZ(152,"tr"),e.TgZ(153,"td",15),e._uU(154,"Theme / Category"),e.qZA(),e.TgZ(155,"td"),e._uU(156),e.qZA(),e.qZA(),e.TgZ(157,"tr"),e.TgZ(158,"td",15),e._uU(159,"Comments"),e.qZA(),e.TgZ(160,"td"),e._uU(161),e.qZA(),e.qZA(),e.TgZ(162,"tr"),e.TgZ(163,"td",15),e._uU(164,"Spatial Geographic Coverage"),e.qZA(),e.TgZ(165,"td"),e._uU(166),e.qZA(),e.qZA(),e.TgZ(167,"tr"),e.TgZ(168,"td",15),e._uU(169,"Temporal Coverage Start"),e.qZA(),e.TgZ(170,"td"),e._uU(171),e.qZA(),e.qZA(),e.TgZ(172,"tr"),e.TgZ(173,"td",15),e._uU(174,"Temporal Coverage End"),e.qZA(),e.TgZ(175,"td"),e._uU(176),e.qZA(),e.qZA(),e.TgZ(177,"tr"),e.TgZ(178,"td",15),e._uU(179,"Has Agent"),e.qZA(),e.TgZ(180,"td",17),e._uU(181),e.qZA(),e.qZA(),e.TgZ(182,"tr"),e.TgZ(183,"td",15),e._uU(184,"Data Source ID"),e.qZA(),e.TgZ(185,"td"),e._uU(186),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(187,"div",18),e.TgZ(188,"div",13),e._UZ(189,"br"),e.TgZ(190,"table",14),e.TgZ(191,"tr"),e.TgZ(192,"td",15),e._uU(193,"Endpoint"),e.qZA(),e.TgZ(194,"td"),e._uU(195),e.qZA(),e.qZA(),e.TgZ(196,"tr"),e.TgZ(197,"td",15),e._uU(198,"Dataset Provider"),e.qZA(),e.TgZ(199,"td"),e._uU(200),e.qZA(),e.qZA(),e.TgZ(201,"tr"),e.TgZ(202,"td",15),e._uU(203,"Dataset Owner"),e.qZA(),e.TgZ(204,"td"),e._uU(205),e.qZA(),e.qZA(),e.TgZ(206,"tr"),e.TgZ(207,"td",15),e._uU(208,"Dataset Owner Username"),e.qZA(),e.TgZ(209,"td"),e._uU(210),e.qZA(),e.qZA(),e.TgZ(211,"tr"),e.TgZ(212,"td",15),e._uU(213,"Data Volume (KiB)"),e.qZA(),e.TgZ(214,"td"),e._uU(215),e.qZA(),e.qZA(),e.TgZ(216,"tr"),e.TgZ(217,"td",15),e._uU(218,"Data Velocity (KiB/sec)"),e.qZA(),e.TgZ(219,"td"),e._uU(220),e.qZA(),e.qZA(),e.TgZ(221,"tr"),e.TgZ(222,"td",15),e._uU(223,"Distribution"),e.qZA(),e.TgZ(224,"td"),e._uU(225),e.qZA(),e.qZA(),e.TgZ(226,"tr"),e.TgZ(227,"td",15),e._uU(228,"Language"),e.qZA(),e.TgZ(229,"td"),e._uU(230),e.qZA(),e.qZA(),e.TgZ(231,"tr"),e.TgZ(232,"td",15),e._uU(233,"Theme / Category"),e.qZA(),e.TgZ(234,"td"),e._uU(235),e.qZA(),e.qZA(),e.TgZ(236,"tr"),e.TgZ(237,"td",15),e._uU(238,"Comments"),e.qZA(),e.TgZ(239,"td"),e._uU(240),e.qZA(),e.qZA(),e.TgZ(241,"tr"),e.TgZ(242,"td",15),e._uU(243,"Spatial Geographic Coverage"),e.qZA(),e.TgZ(244,"td"),e._uU(245),e.qZA(),e.qZA(),e.TgZ(246,"tr"),e.TgZ(247,"td",15),e._uU(248,"Temporal Coverage Start"),e.qZA(),e.TgZ(249,"td"),e._uU(250),e.qZA(),e.qZA(),e.TgZ(251,"tr"),e.TgZ(252,"td",15),e._uU(253,"Temporal Coverage End"),e.qZA(),e.TgZ(254,"td"),e._uU(255),e.qZA(),e.qZA(),e.TgZ(256,"tr"),e.TgZ(257,"td",15),e._uU(258,"Has Agent"),e.qZA(),e.TgZ(259,"td",17),e._uU(260),e.qZA(),e.qZA(),e.TgZ(261,"tr"),e.TgZ(262,"td",15),e._uU(263,"Data Source ID"),e.qZA(),e.TgZ(264,"td"),e._uU(265),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(266,"br"),e.qZA(),e._UZ(267,"br"),e._UZ(268,"br"),e.TgZ(269,"button",19),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e.qZA()),2&n&&(e.xp6(7),e.Q6J("hidden",t.loggedinUserUsername==t.usernameOfProvider),e.xp6(2),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(59,Rh)),e.xp6(9),e.Q6J("hidden",t.loggedinUserOrganization==t.datasetProvider||"admin"!=t.role),e.xp6(11),e.Oqu(t.identifier),e.xp6(5),e.Oqu(t.usernameOfProvider),e.xp6(5),e.Oqu(t.emailOfProvider),e.xp6(5),e.Oqu(t.datasetName),e.xp6(5),e.Oqu(t.datasetDescription),e.xp6(5),e.Oqu(t.agreementURL),e.xp6(5),e.Oqu(t.agreementHash),e.xp6(5),e.Oqu(t.termsConditionsURL),e.xp6(5),e.Oqu(t.termsConditionsHash),e.xp6(5),e.Oqu(t.copyrightURL),e.xp6(5),e.Oqu(t.copyrightHash),e.xp6(5),e.Oqu(t.version),e.xp6(5),e.Oqu(t.industryDomain),e.xp6(5),e.Oqu(t.accessRights),e.xp6(5),e.Oqu(t.customAccessRights),e.xp6(5),e.Oqu(t.blockchain),e.xp6(5),e.Oqu(t.keywordTag),e.xp6(1),e.Q6J("hidden",1==t.fileExists),e.xp6(6),e.Oqu(t.endpoint),e.xp6(5),e.Oqu(t.datasetProvider),e.xp6(5),e.Oqu(t.datasetOwner),e.xp6(5),e.Oqu(t.usernameOfOwner),e.xp6(5),e.Oqu(t.dataVolume),e.xp6(5),e.Oqu(t.dataVelocity),e.xp6(5),e.Oqu(t.distribution),e.xp6(5),e.Oqu(t.language),e.xp6(5),e.Oqu(t.themeCategory),e.xp6(5),e.Oqu(t.comments),e.xp6(5),e.Oqu(t.spatialGeographicCoverage),e.xp6(5),e.Oqu(t.temporalCoverageStart),e.xp6(5),e.Oqu(t.temporalCoverageEnd),e.xp6(4),e.Q6J("ngClass",t.getClassOfHasAgent(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.hasAgent),e.xp6(5),e.Oqu(t.dataSourceID),e.xp6(1),e.Q6J("hidden",0==t.fileExists),e.xp6(8),e.Oqu(t.endpoint),e.xp6(5),e.Oqu(t.datasetProvider),e.xp6(5),e.Oqu(t.datasetOwner),e.xp6(5),e.Oqu(t.usernameOfOwner),e.xp6(5),e.Oqu(t.dataVolume),e.xp6(5),e.Oqu(t.dataVelocity),e.xp6(5),e.Oqu(t.distribution),e.xp6(5),e.Oqu(t.language),e.xp6(5),e.Oqu(t.themeCategory),e.xp6(5),e.Oqu(t.comments),e.xp6(5),e.Oqu(t.spatialGeographicCoverage),e.xp6(5),e.Oqu(t.temporalCoverageStart),e.xp6(5),e.Oqu(t.temporalCoverageEnd),e.xp6(4),e.Q6J("ngClass",t.getClassOfHasAgent(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.hasAgent),e.xp6(5),e.Oqu(t.dataSourceID))},directives:[N,D.jx,$.Hq,I.mk,j,re,ae,ie],pipes:[ee.X$],styles:[".header[_ngcontent-%COMP%]{color:#023f88}.missing[_ngcontent-%COMP%]{color:#ee7b30;font-weight:bold}.datasetView[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}.datasetView[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}(),io=function(){return{width:"190px"}},Uh=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i}return r.prototype.ngOnInit=function(){this.form=this.formBuilder.group({orgRole:["",T.kI.required],orgName:["",T.kI.required],orgVATNumber:["",T.kI.required],orgCountry:["",T.kI.required],orgCity:[""],orgAddress:[""],orgPostalCode:[""],orgPhoneNumber:[""],orgAdminFirstName:["",T.kI.required],orgAdminLastName:["",T.kI.required],orgAdminUsername:["",T.kI.required],orgAdminEmail:["",T.kI.required]}),this.orgRoleOptions=[{label:"-- Please select --"},{label:"Research"},{label:"Telecommunications"},{label:"Port Authority"},{label:"Trucking Company"},{label:"Shipping Agent"}],this.countryOptions=[{label:"-- Please select --"},{label:"Afghanistan"},{label:"Albania"},{label:"Algeria"},{label:"American Samoa"},{label:"Andorra"},{label:"Angola"},{label:"Anguilla"},{label:"Antarctica"},{label:"Antigua and Barbuda"},{label:"Argentina"},{label:"Armenia"},{label:"Aruba"},{label:"Australia"},{label:"Austria"},{label:"Azerbaijan"},{label:"Bahamas"},{label:"Bahrain"},{label:"Bangladesh"},{label:"Barbados"},{label:"Belarus"},{label:"Belgium"},{label:"Belize"},{label:"Benin"},{label:"Bermuda"},{label:"Bhutan"},{label:"Bolivia"},{label:"Bosnia and Herzegovina"},{label:"Botswana"},{label:"Brazil"},{label:"Brunei Darussalam"},{label:"Bulgaria"},{label:"Burkina Faso"},{label:"Burundi"},{label:"Cambodia"},{label:"Cameroon"},{label:"Canada"},{label:"Cape Verde"},{label:"Cayman Islands"},{label:"Central African Republic"},{label:"Chad"},{label:"Chile"},{label:"China"},{label:"Christmas Island"},{label:"Cocos (Keeling) Islands"},{label:"Colombia"},{label:"Comoros"},{label:"Democratic Republic of the Congo (Kinshasa)"},{label:"Congo, Republic of (Brazzaville)"},{label:"Cook Islands"},{label:"Costa Rica"},{label:"C\xf4te D'ivoire (Ivory Coast)"},{label:"Croatia"},{label:"Cuba"},{label:"Cyprus"},{label:"Czech Republic"},{label:"Denmark"},{label:"Djibouti"},{label:"Dominica"},{label:"Dominican Republic"},{label:"East Timor (Timor-Leste)"},{label:"Ecuador"},{label:"Egypt"},{label:"El Salvador"},{label:"Equatorial Guinea"},{label:"Eritrea"},{label:"Estonia"},{label:"Ethiopia"},{label:"Falkland Islands"},{label:"Faroe Islands"},{label:"Fiji"},{label:"Finland"},{label:"France"},{label:"French Guiana"},{label:"French Polynesia"},{label:"French Southern Territories"},{label:"Gabon"},{label:"The Gambia"},{label:"Georgia"},{label:"Germany"},{label:"Ghana"},{label:"Gibraltar"},{label:"Greece"},{label:"Greenland"},{label:"Grenada"},{label:"Guadeloupe"},{label:"Guam"},{label:"Guatemala"},{label:"Guinea"},{label:"Guinea-Bissau"},{label:"Guyana"},{label:"Haiti"},{label:"Holy See"},{label:"Honduras"},{label:"Hong Kong"},{label:"Hungary"},{label:"Iceland"},{label:"India"},{label:"Indonesia"},{label:"Iran (Islamic Republic of)"},{label:"Iraq"},{label:"Ireland"},{label:"Israel"},{label:"Italy"},{label:"Ivory Coast"},{label:"Jamaica"},{label:"Japan"},{label:"Jordan"},{label:"Kazakhstan"},{label:"Kenya"},{label:"Kiribati"},{label:"Korea, Democratic People's Rep. (North Korea)"},{label:"Korea, Republic of (South Korea)"},{label:"Kosovo"},{label:"Kuwait"},{label:"Kyrgyzstan"},{label:"Lao, People's Democratic Republic"},{label:"Latvia"},{label:"Lebanon"},{label:"Lesotho"},{label:"Liberia"},{label:"Libya"},{label:"Liechtenstein"},{label:"Lithuania"},{label:"Luxembourg"},{label:"Macau"},{label:"Madagascar"},{label:"Malawi"},{label:"Malaysia"},{label:"Maldives"},{label:"Mali"},{label:"Malta"},{label:"Marshall Islands"},{label:"Martinique"},{label:"Mauritania"},{label:"Mauritius"},{label:"Mayotte"},{label:"Mexico"},{label:"Micronesia, Federal States of"},{label:"Moldova, Republic of"},{label:"Monaco"},{label:"Mongolia"},{label:"Montenegro"},{label:"Montserrat"},{label:"Morocco"},{label:"Mozambique"},{label:"Myanmar, Burma"},{label:"Namibia"},{label:"Nauru"},{label:"Nepal"},{label:"Netherlands"},{label:"Netherlands Antilles"},{label:"New Caledonia"},{label:"New Zealand"},{label:"Nicaragua"},{label:"Niger"},{label:"Nigeria"},{label:"Niue"},{label:"North Macedonia"},{label:"Northern Mariana Islands"},{label:"Norway"},{label:"Oman"},{label:"Pakistan"},{label:"Palau"},{label:"Palestinian territories"},{label:"Panama"},{label:"Papua New Guinea"},{label:"Paraguay"},{label:"Peru"},{label:"Philippines"},{label:"Pitcairn Island"},{label:"Poland"},{label:"Portugal"},{label:"Puerto Rico"},{label:"Qatar"},{label:"Reunion Island"},{label:"Romania"},{label:"Russian Federation"},{label:"Rwanda"},{label:"Saint Kitts and Nevis"},{label:"Saint Lucia"},{label:"Saint Vincent and the Grenadines"},{label:"Samoa"},{label:"San Marino"},{label:"Sao Tome and Principe"},{label:"Saudi Arabia"},{label:"Senegal"},{label:"Serbia"},{label:"Seychelles"},{label:"Sierra Leone"},{label:"Singapore"},{label:"Slovakia (Slovak Republic)"},{label:"Slovenia"},{label:"Solomon Islands"},{label:"Somalia"},{label:"South Africa"},{label:"South Sudan"},{label:"Spain"},{label:"Sri Lanka"},{label:"Sudan"},{label:"Suriname"},{label:"Swaziland (Eswatini)"},{label:"Sweden"},{label:"Switzerland"},{label:"Syria, Syrian Arab Republic"},{label:"Taiwan (Republic of China)"},{label:"Tajikistan"},{label:"Tanzania; officially the United Republic of Tanzania"},{label:"Thailand"},{label:"Tibet"},{label:"Timor-Leste (East Timor)"},{label:"Togo"},{label:"Tokelau"},{label:"Tonga"},{label:"Trinidad and Tobago"},{label:"Tunisia"},{label:"Turkey"},{label:"Turkmenistan"},{label:"Turks and Caicos Islands"},{label:"Tuvalu"},{label:"Uganda"},{label:"Ukraine"},{label:"United Arab Emirates"},{label:"United Kingdom"},{label:"United States"},{label:"Uruguay"},{label:"Uzbekistan"},{label:"Vanuatu"},{label:"Vatican City State (Holy See)"},{label:"Venezuela"},{label:"Vietnam"},{label:"Virgin Islands (British)"},{label:"Virgin Islands (U.S.)"},{label:"Wallis and Futuna Islands"},{label:"Western Sahara"},{label:"Yemen"},{label:"Zambia"},{label:"Zimbabwe"}]},r.prototype.registerOrg=function(a){var n=this;this.dashboardService.registerOrg(a).subscribe(function(t){console.log(t),"Fail"!=t.response?(alert("The Organization Administrator password is: "+t.response),n.router.navigate(["/dashboard/organizations-users"])):alert(t.response)},function(t){console.log(t.status),400==t.status?alert("Data error. Check your data for invalid characters."):(401==t.status||403==t.status)&&n.refreshTokens("registerOrg",a)})},r.prototype.onSubmit=function(){var a=this.form.getRawValue(),n=a.orgName,t=n.replace(/[^a-z0-9]/gi,"");if(n.length>t.length)alert("Organization Name must contain only letters and/or numbers");else if(this.form.invalid||"-- Please select --"==a.orgRole.label||"-- Please select --"==a.orgCountry.label)alert("Please fill in all required fields");else{var i=localStorage.getItem("username"),o=localStorage.getItem("organization");console.log(i),console.log(o),this.registerOrg({title:a.orgName,role:a.orgRole.label,vat_number:a.orgVATNumber,country:a.orgCountry.label,city:a.orgCity,postal_code:a.orgPostalCode,address:a.orgAddress,phone:a.orgPhoneNumber,newUsersusername:a.orgAdminUsername,name:a.orgAdminFirstName,surname:a.orgAdminLastName,email:a.orgAdminEmail})}},r.prototype.cancelButton=function(){this.router.navigate(["/dashboard/organizations-users"])},r.prototype.clearButton=function(){this.form.reset()},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"registerOrg"==a&&t.registerOrg(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-organization"]],decls:59,vars:10,consts:[[1,"title"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-3"],[1,"subtitle"],["formControlName","orgCountry","optionLabel","label",3,"options","filter"],["formControlName","orgRole","optionLabel","label",3,"options"],["type","text","formControlName","orgName"],["type","text","formControlName","orgVATNumber"],["type","text","formControlName","orgCity"],["type","text","formControlName","orgAddress"],["type","text","formControlName","orgPostalCode"],["type","text","formControlName","orgPhoneNumber"],["type","text","formControlName","orgAdminFirstName"],["type","text","formControlName","orgAdminLastName"],["type","text","formControlName","orgAdminUsername"],["type","text","formControlName","orgAdminEmail"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],["pButton","","type","button","label","Clear",3,"click"],["pButton","","type","button","label","Register",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5",0),e._uU(2,"Add Organization"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"form",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"h5",4),e._uU(8,"Organization"),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"h6"),e._uU(11,"Organization Country *"),e.qZA(),e._UZ(12,"p-dropdown",5),e.TgZ(13,"h6"),e._uU(14,"Organization Role *"),e.qZA(),e._UZ(15,"p-dropdown",6),e.TgZ(16,"h6"),e._uU(17,"Organization Name *"),e.qZA(),e._UZ(18,"input",7),e.TgZ(19,"h6"),e._uU(20,"Organization VAT Number *"),e.qZA(),e._UZ(21,"input",8),e.TgZ(22,"h6"),e._uU(23,"Organization City"),e.qZA(),e._UZ(24,"input",9),e.TgZ(25,"h6"),e._uU(26,"Organization Address"),e.qZA(),e._UZ(27,"input",10),e.TgZ(28,"h6"),e._uU(29,"Organization Postal Code"),e.qZA(),e._UZ(30,"input",11),e.TgZ(31,"h6"),e._uU(32,"Organization Phone Number"),e.qZA(),e._UZ(33,"input",12),e.qZA(),e.TgZ(34,"div",3),e.TgZ(35,"h5",4),e._uU(36,"Organization Administrator"),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"h6"),e._uU(39,"Organization Administrator First Name *"),e.qZA(),e._UZ(40,"input",13),e.TgZ(41,"h6"),e._uU(42,"Organization Administrator Last Name *"),e.qZA(),e._UZ(43,"input",14),e.TgZ(44,"h6"),e._uU(45,"Username *"),e.qZA(),e._UZ(46,"input",15),e.TgZ(47,"h6"),e._uU(48,"Email *"),e.qZA(),e._UZ(49,"input",16),e.qZA(),e.qZA(),e._UZ(50,"br"),e._UZ(51,"br"),e.TgZ(52,"button",17),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e._UZ(53,"br"),e._UZ(54,"br"),e.TgZ(55,"button",18),e.NdJ("click",function(){return t.clearButton()}),e.qZA(),e._UZ(56,"br"),e._UZ(57,"br"),e.TgZ(58,"button",19),e.NdJ("click",function(){return t.onSubmit()}),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(8),e.Akn(e.DdM(8,io)),e.Q6J("options",t.countryOptions)("filter",!0),e.xp6(3),e.Akn(e.DdM(9,io)),e.Q6J("options",t.orgRoleOptions))},directives:[T._Y,T.JL,T.sg,ne.Lt,T.JJ,T.u,T.Fj,$.Hq],styles:["h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}();function Ph(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"div"),e.TgZ(2,"input",17),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(19).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Eh(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",18),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",19),e._uU(4,"Organization/Company Name "),e._UZ(5,"p-sortIcon",20),e.qZA(),e.TgZ(6,"th",21),e._uU(7,"Organization Role "),e._UZ(8,"p-sortIcon",22),e.qZA(),e.TgZ(9,"th",23),e._uU(10,"Organization Admin Username "),e._UZ(11,"p-sortIcon",24),e.qZA(),e.TgZ(12,"th",25),e._uU(13,"Organization Admin e-mail "),e._UZ(14,"p-sortIcon",26),e.qZA(),e.TgZ(15,"th",27),e._uU(16,"Registration Date "),e._UZ(17,"p-sortIcon",28),e.qZA(),e.qZA())}function Bh(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"p-tableCheckbox",29),e.qZA(),e.TgZ(3,"td",30),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(4),e.qZA(),e.TgZ(5,"td",30),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(6),e.qZA(),e.TgZ(7,"td",30),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(8),e.qZA(),e.TgZ(9,"td",30),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(10),e.qZA(),e.TgZ(11,"td",30),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(12),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Oqu(t.orgName),e.xp6(2),e.Oqu(t.orgRole),e.xp6(2),e.Oqu(t.orgAdminUsername),e.xp6(2),e.Oqu(t.orgAdminEmail),e.xp6(2),e.Oqu(t.registered)}}var Nh=function(){return["orgId","orgAdminUsername","orgName","orgAdminEmail","orgRole","registered"]},Lh=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.orgRoles=[],this.selectedDatasource=[]}return r.prototype.ngOnInit=function(){this.loggedinUserRole=localStorage.getItem("role"),this.getOrganizations()},r.prototype.getOrganizations=function(){var a=this;this.dashboardService.getInternalOrgByName().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i],l={orgAdminUsername:"",orgAdminFirstName:"",orgAdminLastName:"",orgName:s.Key,orgAdminEmail:"",orgRole:s.Record.role,orgVATNumber:s.Record.vat_number,orgCountry:s.Record.country,registered:a.changeDateFormat(s.Record.dateTime),registeredSortable:s.Record.dateTime,orgCity:s.Record.city,orgAddress:s.Record.address,orgPostalCode:s.Record.Postal_code,orgPhoneNumber:s.Record.phone,externalOrgName:s.Record.externalOrgName,isExternalOrg:s.Record.isExternalOrg};a.datasource.push(l)}setTimeout(function(){a.dashboardService.getOrganizationUsers().subscribe(function(u){console.log(u);var c=u.result,d=c.filter(function(w){return"admin"==w.Record.type}),p=c.filter(function(w){return"network.admin"==w.Record.type});console.log(d),console.log(p);for(var g=0,h=a.datasource;g<h.length;g++){var f=h[g];if(f.isExternalOrg)for(var m=0,v=d;m<v.length;m++){var b=v[m];f.externalOrgName==b.Record.externalOrg&&""==f.orgAdminUsername&&(f.orgAdminUsername=b.Record.username,f.orgAdminFirstName=b.Record.name,f.orgAdminLastName=b.Record.surname,f.orgAdminEmail=b.Record.email)}else for(var y=0,_=p;y<_.length;y++){var C=_[y];f.orgName==C.Record.organization&&""==f.orgAdminUsername&&(f.orgAdminUsername=C.Record.username,f.orgAdminFirstName=C.Record.name,f.orgAdminLastName=C.Record.surname,f.orgAdminEmail=C.Record.email)}}a.orgRoles=[{orgRole:"All"}];for(var Z=a.datasource.map(function(w){return w.orgRole}),S=0,A=Z=Z.filter(function(w,O,U){return U.indexOf(w)===O});S<A.length;S++)a.orgRoles.push({orgRole:A[S]});a.selectedDatasource=a.datasource},function(u){console.log(u.status),(401==u.status||403==u.status)&&a.refreshTokens("getOrganizations")})},2e3)},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getOrganizations")})},r.prototype.onChange=function(a){var n=a.value.orgRole;this.selectedDatasource="All"==n?this.datasource:this.datasource.filter(function(t){return n==t.orgRole})},r.prototype.handleSelect=function(a){var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),this.router.navigate(["/dashboard/org-selected-profile"],{state:{organization:a}})},r.prototype.addOrganizationButton=function(){this.router.navigate(["/dashboard/add-organization"])},r.prototype.deleteSelectedButton=function(){console.log("delete selected button")},r.prototype.refreshTokens=function(a){var n=this;this.dashboardService.refreshTokens().subscribe(function(t){console.log(t),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),"getOrganizations"==a&&n.getOrganizations()},function(t){console.log(t),n.logoutUser()})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-organizations-users"]],decls:23,vars:10,consts:[[1,"card"],[2,"text-align","right",3,"hidden"],["pButton","","type","button","label","Add Organization","icon","icon-add",3,"click"],["pButton","","type","button","label","Delete Selected","icon","icon-delete",3,"click"],[1,"row"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","30px","margin-left","15px"],[1,"icon-filters"],[1,"col-md-2"],[1,"dropdownLabel"],["optionLabel","orgRole",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","370px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","",2,"width","3rem"],["id","th12","pResizableColumn","","pSortableColumn","orgName"],["field","orgName"],["id","th13","pResizableColumn","","pSortableColumn","orgRole"],["field","orgRole"],["id","th14","pResizableColumn","","pSortableColumn","orgAdminUsername"],["field","orgAdminUsername"],["id","th15","pResizableColumn","","pSortableColumn","orgAdminEmail"],["field","orgAdminEmail"],["id","th16","pResizableColumn","","pSortableColumn","registeredSortable"],["field","registeredSortable"],[3,"value"],[3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5"),e._uU(2,"Organizations"),e.qZA(),e.TgZ(3,"div",0),e.TgZ(4,"div",1),e.TgZ(5,"button",2),e.NdJ("click",function(){return t.addOrganizationButton()}),e.qZA(),e._UZ(6,"br"),e._UZ(7,"br"),e.TgZ(8,"button",3),e.NdJ("click",function(){return t.deleteSelectedButton()}),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"div",5),e.TgZ(11,"h6",6),e._UZ(12,"span",7),e._uU(13,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"h6",9),e._uU(16,"Organization role:"),e.qZA(),e.TgZ(17,"p-dropdown",10),e.NdJ("ngModelChange",function(o){return t.selectedOrgRole=o})("onChange",function(o){return t.onChange(o)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"p-table",11,12),e.YNc(20,Ph,4,3,"ng-template",13),e.YNc(21,Eh,18,0,"ng-template",14),e.YNc(22,Bh,13,6,"ng-template",15),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(4),e.Q6J("hidden","network.admin"==t.loggedinUserRole),e.xp6(13),e.Q6J("options",t.orgRoles)("ngModel",t.selectedOrgRole),e.xp6(1),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(9,Nh)))},directives:[$.Hq,ne.Lt,T.JJ,T.On,N,D.jx,j,re,mn,ae,ie,fn],pipes:[ee.X$],styles:["tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}(),Fh=function(){return["/dashboard/user-selected-profile"]},zh=function(r){return{user:r}},Hh=function(){function r(a,n){this.formBuilder=a,this.router=n}return r.prototype.ngOnInit=function(){if(this.form=this.formBuilder.group({userRole:["",T.kI.required],userFirstName:["",T.kI.required],userLastName:["",T.kI.required],username:["",T.kI.required],email:["",T.kI.required]}),this.form.controls.username.disable(),this.userRoleOptions=[{label:"-- Please select --"},{label:"user"},{label:"admin"}],history.state.user)console.log(history.state.user),this.historyStateData=history.state.user;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.userRole=this.historyStateData.userRole,this.userFirstName=this.historyStateData.userFirstName,this.userLastName=this.historyStateData.userLastName,this.username=this.historyStateData.username,this.email=this.historyStateData.userEmail,this.setInitialValues()},r.prototype.setInitialValues=function(){this.form.controls.userRole.setValue({label:this.historyStateData.userRole}),this.form.controls.userFirstName.setValue(this.historyStateData.userFirstName),this.form.controls.userLastName.setValue(this.historyStateData.userLastName),this.form.controls.username.setValue(this.historyStateData.username),this.form.controls.email.setValue(this.historyStateData.userEmail)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/users"])},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-selected-profile"]],decls:41,vars:12,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-4"],[1,"caption"],[1,"header"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Users"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div"),e.TgZ(8,"form",5),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e.TgZ(11,"table"),e.TgZ(12,"caption",8),e._uU(13,"User"),e.qZA(),e.TgZ(14,"tr"),e.TgZ(15,"td",9),e._uU(16,"User Role"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"tr"),e.TgZ(20,"td",9),e._uU(21,"User First Name"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.qZA(),e.TgZ(24,"tr"),e.TgZ(25,"td",9),e._uU(26,"User Last Name"),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA(),e.qZA(),e.TgZ(29,"tr"),e.TgZ(30,"td",9),e._uU(31,"Username"),e.qZA(),e.TgZ(32,"td"),e._uU(33),e.qZA(),e.qZA(),e.TgZ(34,"tr"),e.TgZ(35,"td",9),e._uU(36,"Email"),e.qZA(),e.TgZ(37,"td"),e._uU(38),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(39,"br"),e._UZ(40,"br"),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(9,Fh))("state",e.VKq(10,zh,t.historyStateData)),e.xp6(1),e.Oqu("Profile"),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(10),e.Oqu(t.userRole),e.xp6(5),e.Oqu(t.userFirstName),e.xp6(5),e.Oqu(t.userLastName),e.xp6(5),e.Oqu(t.username),e.xp6(5),e.Oqu(t.email))},directives:[q.yS,q.Od,T._Y,T.JL,T.sg],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.header[_ngcontent-%COMP%]{color:#023f88}tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}table[_ngcontent-%COMP%]{caption-side:top}.caption[_ngcontent-%COMP%]{color:#023f88;font-size:1.25rem;font-weight:500}"]}),r}(),Vh=function(){return["/dashboard/net-user-selected-profile"]},Jh=function(r){return{data:r}},Yh=function(){return{width:"190px"}},Qh=function(){function r(a,n){this.formBuilder=a,this.router=n}return r.prototype.ngOnInit=function(){if(this.form=this.formBuilder.group({userRole:["",T.kI.required],userFirstName:["",T.kI.required],userLastName:["",T.kI.required],username:["",T.kI.required],email:["",T.kI.required]}),this.form.controls.username.disable(),this.userRoleOptions=[{label:"-- Please select --"},{label:"user"},{label:"admin"}],this.loggedinUserRole=localStorage.getItem("role"),console.log(this.loggedinUserRole),history.state.user)console.log(history.state.user),this.historyStateData=history.state.user;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}if(this.userRole=this.historyStateData.userRole,this.userFirstName=this.historyStateData.userFirstName,this.userLastName=this.historyStateData.userLastName,this.username=this.historyStateData.username,this.email=this.historyStateData.userEmail,this.setInitialValues(),history.state.organization)this.orgName=history.state.organization.orgName;else if(localStorage.getItem("historyStateData")){a=localStorage.getItem("historyStateData");var n=JSON.parse(a);this.orgName=n.orgName}this.editStatus=!1},r.prototype.saveChangesButton=function(){this.form.invalid?alert("Please fill in all required fields"):alert("Form submitted")},r.prototype.cancelButton=function(){console.log("cancelButton"),this.setInitialValues()},r.prototype.editButton=function(){this.editStatus=!0},r.prototype.setInitialValues=function(){this.form.controls.userRole.setValue({label:this.historyStateData.userRole}),this.form.controls.userFirstName.setValue(this.historyStateData.userFirstName),this.form.controls.userLastName.setValue(this.historyStateData.userLastName),this.form.controls.username.setValue(this.historyStateData.username),this.form.controls.email.setValue(this.historyStateData.userEmail)},r.prototype.backButtonClick=function(){var a=JSON.stringify(history.state.organization);localStorage.setItem("historyStateData",a),this.router.navigate(["/dashboard/org-selected-users"],{state:{organization:history.state.organization}})},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-net-user-selected-profile"]],decls:68,vars:20,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[3,"hidden"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-4"],[1,"caption"],[1,"header"],[1,"subtitle"],["formControlName","userRole","optionLabel","label",3,"options"],["type","text","formControlName","userFirstName"],["type","text","formControlName","userLastName"],["type","text","formControlName","username"],["type","text","formControlName","email"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],["pButton","","type","button","label","Save Changes","icon","icon-save",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"form",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"table"),e.TgZ(12,"caption",9),e._uU(13,"User"),e.qZA(),e.TgZ(14,"tr"),e.TgZ(15,"td",10),e._uU(16,"User Role"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"tr"),e.TgZ(20,"td",10),e._uU(21,"User First Name"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.qZA(),e.TgZ(24,"tr"),e.TgZ(25,"td",10),e._uU(26,"User Last Name"),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA(),e.qZA(),e.TgZ(29,"tr"),e.TgZ(30,"td",10),e._uU(31,"Username"),e.qZA(),e.TgZ(32,"td"),e._uU(33),e.qZA(),e.qZA(),e.TgZ(34,"tr"),e.TgZ(35,"td",10),e._uU(36,"Email"),e.qZA(),e.TgZ(37,"td"),e._uU(38),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(39,"br"),e._UZ(40,"br"),e.qZA(),e.qZA(),e.TgZ(41,"div",5),e.TgZ(42,"form",6),e.TgZ(43,"div",7),e.TgZ(44,"div",8),e.TgZ(45,"h5",11),e._uU(46,"User"),e.qZA(),e.TgZ(47,"h6"),e._uU(48,"User Role *"),e.qZA(),e._UZ(49,"p-dropdown",12),e.TgZ(50,"h6"),e._uU(51,"User First Name *"),e.qZA(),e._UZ(52,"input",13),e.TgZ(53,"h6"),e._uU(54,"User Last Name *"),e.qZA(),e._UZ(55,"input",14),e.TgZ(56,"h6"),e._uU(57,"Username *"),e.qZA(),e._UZ(58,"input",15),e.TgZ(59,"h6"),e._uU(60,"Email *"),e.qZA(),e._UZ(61,"input",16),e.qZA(),e.qZA(),e._UZ(62,"br"),e._UZ(63,"br"),e.TgZ(64,"button",17),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e._UZ(65,"br"),e._UZ(66,"br"),e.TgZ(67,"button",18),e.NdJ("click",function(){return t.saveChangesButton()}),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.hij("\xa0 ",t.orgName," Users"),e.xp6(3),e.Q6J("routerLink",e.DdM(16,Vh))("state",e.VKq(17,Jh,t.historyStateData)),e.xp6(1),e.Oqu("Profile"),e.xp6(1),e.Q6J("hidden",1==t.editStatus),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(10),e.Oqu(t.userRole),e.xp6(5),e.Oqu(t.userFirstName),e.xp6(5),e.Oqu(t.userLastName),e.xp6(5),e.Oqu(t.username),e.xp6(5),e.Oqu(t.email),e.xp6(3),e.Q6J("hidden",0==t.editStatus),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(7),e.Akn(e.DdM(19,Yh)),e.Q6J("options",t.userRoleOptions))},directives:[q.yS,q.Od,T._Y,T.JL,T.sg,ne.Lt,T.JJ,T.u,T.Fj,$.Hq],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.header[_ngcontent-%COMP%]{color:#023f88}tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}table[_ngcontent-%COMP%]{caption-side:top}.caption[_ngcontent-%COMP%]{color:#023f88;font-size:1.25rem;font-weight:500}"]}),r}(),Kh=function(){return{width:"190px"}},$h=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i}return r.prototype.ngOnInit=function(){this.form=this.formBuilder.group({userRole:["",T.kI.required],userFirstName:["",T.kI.required],userLastName:["",T.kI.required],username:["",T.kI.required],userEmail:["",T.kI.required]}),this.userRoleOptions=[{label:"-- Please select --"},{label:"user"},{label:"admin"}];var a=localStorage.getItem("externalOrg"),n=localStorage.getItem("isExternalUser");a&&"true"==n&&(this.form.controls.userRole.setValue({label:"user"}),this.form.controls.userRole.disable())},r.prototype.registerUser=function(a){var n=this;this.dashboardService.registerUser(a).subscribe(function(t){if(console.log(t),"Fail"!=t.response){alert("The password is: "+t.response);var i=JSON.stringify(history.state.organization);localStorage.setItem("historyStateData",i),n.router.navigate(["/dashboard/users"],{state:{organization:history.state.organization}})}else alert(t.response)},function(t){console.log(t.status),400==t.status?alert("Data error. Check your data for invalid characters."):(401==t.status||403==t.status)&&n.refreshTokens("registerUser",a)})},r.prototype.onSubmit=function(){var a=this.form.getRawValue();if(this.form.invalid||"-- Please select --"==a.userRole.label)alert("Please fill in all required fields");else{var n=localStorage.getItem("username"),t=localStorage.getItem("organization"),i=localStorage.getItem("externalOrg"),o=localStorage.getItem("isExternalUser");console.log(n),console.log(t),console.log(i),console.log(o);var s={newUsersusername:a.username,name:a.userFirstName,surname:a.userLastName,email:a.userEmail,userorganization:t,usertype:a.userRole.label,externalOrg:" ",isExternalUser:"false"};i&&"true"==o&&(s.externalOrg=i,s.isExternalUser="true"),this.registerUser(s)}},r.prototype.cancelButton=function(){var a=JSON.stringify(history.state.organization);localStorage.setItem("historyStateData",a),this.router.navigate(["/dashboard/users"],{state:{organization:history.state.organization}})},r.prototype.clearButton=function(){this.form.reset()},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"registerUser"==a&&t.registerUser(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-org-add-user"]],decls:34,vars:5,consts:[[1,"title"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-3"],[1,"subtitle"],["formControlName","userRole","optionLabel","label",3,"options"],["type","text","formControlName","userFirstName"],["type","text","formControlName","userLastName"],["type","text","formControlName","username"],["type","text","formControlName","userEmail"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],["pButton","","type","button","label","Clear",3,"click"],["pButton","","type","button","label","Register",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5",0),e._uU(2,"Add User"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"form",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"h5",4),e._uU(8,"User"),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"h6"),e._uU(11,"User Role *"),e.qZA(),e._UZ(12,"p-dropdown",5),e.TgZ(13,"h6"),e._uU(14,"User First Name *"),e.qZA(),e._UZ(15,"input",6),e.TgZ(16,"h6"),e._uU(17,"User Last Name *"),e.qZA(),e._UZ(18,"input",7),e.TgZ(19,"h6"),e._uU(20,"Username *"),e.qZA(),e._UZ(21,"input",8),e.TgZ(22,"h6"),e._uU(23,"Email *"),e.qZA(),e._UZ(24,"input",9),e.qZA(),e.qZA(),e._UZ(25,"br"),e._UZ(26,"br"),e.TgZ(27,"button",10),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e._UZ(28,"br"),e._UZ(29,"br"),e.TgZ(30,"button",11),e.NdJ("click",function(){return t.clearButton()}),e.qZA(),e._UZ(31,"br"),e._UZ(32,"br"),e.TgZ(33,"button",12),e.NdJ("click",function(){return t.onSubmit()}),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(8),e.Akn(e.DdM(4,Kh)),e.Q6J("options",t.userRoleOptions))},directives:[T._Y,T.JL,T.sg,ne.Lt,T.JJ,T.u,T.Fj,$.Hq],styles:["h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}[_nghost-%COMP%]     .p-password input{width:190px}"]}),r}(),ro=function(){return{width:"190px"}},Gh=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i}return r.prototype.ngOnInit=function(){this.form=this.formBuilder.group({selectedOrganization:["",T.kI.required],userRole:["",T.kI.required],userFirstName:["",T.kI.required],userLastName:["",T.kI.required],username:["",T.kI.required],userEmail:["",T.kI.required]}),this.userRoleOptions=[{label:"-- Please select --"},{label:"user"},{label:"admin"}],this.getOrganizations()},r.prototype.getOrganizations=function(){var a=this;this.dashboardService.getOrganizations().subscribe(function(n){console.log(n),a.organizationOptions=[{label:"-- Please select --"}];for(var i=0,o=n.result;i<o.length;i++)a.organizationOptions.push({label:o[i].Record.name})},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getOrganizations",[])})},r.prototype.registerUser=function(a){var n=this;this.dashboardService.registerUser(a).subscribe(function(t){if(console.log(t),"Fail"!=t.response){alert("The password is: "+t.response);var i=JSON.stringify(history.state.organization);localStorage.setItem("historyStateData",i),n.router.navigate(["/dashboard/org-selected-users"],{state:{organization:history.state.organization}})}else alert(t.response)},function(t){console.log(t.status),400==t.status?alert("Data error. Check your data for invalid characters."):(401==t.status||403==t.status)&&n.refreshTokens("registerUser",a)})},r.prototype.onSubmit=function(){var a=this.form.getRawValue();if(this.form.invalid||"-- Please select --"==a.selectedOrganization.label||"-- Please select --"==a.userRole.label)alert("Please fill in all required fields");else{var n=localStorage.getItem("username"),t=localStorage.getItem("organization");console.log(n),console.log(t),this.registerUser({newUsersusername:a.username,name:a.userFirstName,surname:a.userLastName,email:a.userEmail,userorganization:a.selectedOrganization.label,usertype:a.userRole.label})}},r.prototype.cancelButton=function(){var a=JSON.stringify(history.state.organization);localStorage.setItem("historyStateData",a),this.router.navigate(["/dashboard/org-selected-users"],{state:{organization:history.state.organization}})},r.prototype.clearButton=function(){this.form.reset()},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"getOrganizations"==a?t.getOrganizations():"registerUser"==a&&t.registerUser(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-net-add-user"]],decls:37,vars:9,consts:[[1,"title"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-3"],[1,"subtitle"],["formControlName","selectedOrganization","optionLabel","label",3,"options"],["formControlName","userRole","optionLabel","label",3,"options"],["type","text","formControlName","userFirstName"],["type","text","formControlName","userLastName"],["type","text","formControlName","username"],["type","text","formControlName","userEmail"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],["pButton","","type","button","label","Clear",3,"click"],["pButton","","type","button","label","Register",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5",0),e._uU(2,"Add User"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"form",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"h5",4),e._uU(8,"User"),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"h6"),e._uU(11,"Organization *"),e.qZA(),e._UZ(12,"p-dropdown",5),e.TgZ(13,"h6"),e._uU(14,"User Role *"),e.qZA(),e._UZ(15,"p-dropdown",6),e.TgZ(16,"h6"),e._uU(17,"User First Name *"),e.qZA(),e._UZ(18,"input",7),e.TgZ(19,"h6"),e._uU(20,"User Last Name *"),e.qZA(),e._UZ(21,"input",8),e.TgZ(22,"h6"),e._uU(23,"Username *"),e.qZA(),e._UZ(24,"input",9),e.TgZ(25,"h6"),e._uU(26,"Email *"),e.qZA(),e._UZ(27,"input",10),e.qZA(),e.qZA(),e._UZ(28,"br"),e._UZ(29,"br"),e.TgZ(30,"button",11),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e._UZ(31,"br"),e._UZ(32,"br"),e.TgZ(33,"button",12),e.NdJ("click",function(){return t.clearButton()}),e.qZA(),e._UZ(34,"br"),e._UZ(35,"br"),e.TgZ(36,"button",13),e.NdJ("click",function(){return t.onSubmit()}),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(8),e.Akn(e.DdM(7,ro)),e.Q6J("options",t.organizationOptions),e.xp6(3),e.Akn(e.DdM(8,ro)),e.Q6J("options",t.userRoleOptions))},directives:[T._Y,T.JL,T.sg,ne.Lt,T.JJ,T.u,T.Fj,$.Hq],styles:["h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}[_nghost-%COMP%]     .p-password input{width:190px}"]}),r}(),Wh=function(){return["/dashboard/org-selected-profile"]},ui=function(r){return{organization:r}},jh=function(){return["/dashboard/org-selected-users"]},Xh=function(){return["/dashboard/org-selected-inactive-users"]},oo=function(){return{width:"190px"}},ef=function(){function r(a,n){this.formBuilder=a,this.router=n}return r.prototype.ngOnInit=function(){if(this.form=this.formBuilder.group({orgRole:["",T.kI.required],orgName:["",T.kI.required],orgVATNumber:["",T.kI.required],orgCountry:["",T.kI.required],orgCity:[""],orgAddress:[""],orgPostalCode:[""],orgPhoneNumber:[""],orgAdminFirstName:["",T.kI.required],orgAdminLastName:["",T.kI.required],orgAdminUsername:["",T.kI.required],orgAdminEmail:["",T.kI.required]}),this.orgRoleOptions=[{label:"-- Please select --"},{label:"Research"},{label:"Telecommunications"},{label:"Port Authority"},{label:"Trucking Company"},{label:"Shipping Agent"}],this.countryOptions=[{label:"-- Please select --"},{label:"Afghanistan"},{label:"Albania"},{label:"Algeria"},{label:"American Samoa"},{label:"Andorra"},{label:"Angola"},{label:"Anguilla"},{label:"Antarctica"},{label:"Antigua and Barbuda"},{label:"Argentina"},{label:"Armenia"},{label:"Aruba"},{label:"Australia"},{label:"Austria"},{label:"Azerbaijan"},{label:"Bahamas"},{label:"Bahrain"},{label:"Bangladesh"},{label:"Barbados"},{label:"Belarus"},{label:"Belgium"},{label:"Belize"},{label:"Benin"},{label:"Bermuda"},{label:"Bhutan"},{label:"Bolivia"},{label:"Bosnia and Herzegovina"},{label:"Botswana"},{label:"Brazil"},{label:"Brunei Darussalam"},{label:"Bulgaria"},{label:"Burkina Faso"},{label:"Burundi"},{label:"Cambodia"},{label:"Cameroon"},{label:"Canada"},{label:"Cape Verde"},{label:"Cayman Islands"},{label:"Central African Republic"},{label:"Chad"},{label:"Chile"},{label:"China"},{label:"Christmas Island"},{label:"Cocos (Keeling) Islands"},{label:"Colombia"},{label:"Comoros"},{label:"Democratic Republic of the Congo (Kinshasa)"},{label:"Congo, Republic of (Brazzaville)"},{label:"Cook Islands"},{label:"Costa Rica"},{label:"C\xf4te D'ivoire (Ivory Coast)"},{label:"Croatia"},{label:"Cuba"},{label:"Cyprus"},{label:"Czech Republic"},{label:"Denmark"},{label:"Djibouti"},{label:"Dominica"},{label:"Dominican Republic"},{label:"East Timor (Timor-Leste)"},{label:"Ecuador"},{label:"Egypt"},{label:"El Salvador"},{label:"Equatorial Guinea"},{label:"Eritrea"},{label:"Estonia"},{label:"Ethiopia"},{label:"Falkland Islands"},{label:"Faroe Islands"},{label:"Fiji"},{label:"Finland"},{label:"France"},{label:"French Guiana"},{label:"French Polynesia"},{label:"French Southern Territories"},{label:"Gabon"},{label:"The Gambia"},{label:"Georgia"},{label:"Germany"},{label:"Ghana"},{label:"Gibraltar"},{label:"Greece"},{label:"Greenland"},{label:"Grenada"},{label:"Guadeloupe"},{label:"Guam"},{label:"Guatemala"},{label:"Guinea"},{label:"Guinea-Bissau"},{label:"Guyana"},{label:"Haiti"},{label:"Holy See"},{label:"Honduras"},{label:"Hong Kong"},{label:"Hungary"},{label:"Iceland"},{label:"India"},{label:"Indonesia"},{label:"Iran (Islamic Republic of)"},{label:"Iraq"},{label:"Ireland"},{label:"Israel"},{label:"Italy"},{label:"Ivory Coast"},{label:"Jamaica"},{label:"Japan"},{label:"Jordan"},{label:"Kazakhstan"},{label:"Kenya"},{label:"Kiribati"},{label:"Korea, Democratic People's Rep. (North Korea)"},{label:"Korea, Republic of (South Korea)"},{label:"Kosovo"},{label:"Kuwait"},{label:"Kyrgyzstan"},{label:"Lao, People's Democratic Republic"},{label:"Latvia"},{label:"Lebanon"},{label:"Lesotho"},{label:"Liberia"},{label:"Libya"},{label:"Liechtenstein"},{label:"Lithuania"},{label:"Luxembourg"},{label:"Macau"},{label:"Madagascar"},{label:"Malawi"},{label:"Malaysia"},{label:"Maldives"},{label:"Mali"},{label:"Malta"},{label:"Marshall Islands"},{label:"Martinique"},{label:"Mauritania"},{label:"Mauritius"},{label:"Mayotte"},{label:"Mexico"},{label:"Micronesia, Federal States of"},{label:"Moldova, Republic of"},{label:"Monaco"},{label:"Mongolia"},{label:"Montenegro"},{label:"Montserrat"},{label:"Morocco"},{label:"Mozambique"},{label:"Myanmar, Burma"},{label:"Namibia"},{label:"Nauru"},{label:"Nepal"},{label:"Netherlands"},{label:"Netherlands Antilles"},{label:"New Caledonia"},{label:"New Zealand"},{label:"Nicaragua"},{label:"Niger"},{label:"Nigeria"},{label:"Niue"},{label:"North Macedonia"},{label:"Northern Mariana Islands"},{label:"Norway"},{label:"Oman"},{label:"Pakistan"},{label:"Palau"},{label:"Palestinian territories"},{label:"Panama"},{label:"Papua New Guinea"},{label:"Paraguay"},{label:"Peru"},{label:"Philippines"},{label:"Pitcairn Island"},{label:"Poland"},{label:"Portugal"},{label:"Puerto Rico"},{label:"Qatar"},{label:"Reunion Island"},{label:"Romania"},{label:"Russian Federation"},{label:"Rwanda"},{label:"Saint Kitts and Nevis"},{label:"Saint Lucia"},{label:"Saint Vincent and the Grenadines"},{label:"Samoa"},{label:"San Marino"},{label:"Sao Tome and Principe"},{label:"Saudi Arabia"},{label:"Senegal"},{label:"Serbia"},{label:"Seychelles"},{label:"Sierra Leone"},{label:"Singapore"},{label:"Slovakia (Slovak Republic)"},{label:"Slovenia"},{label:"Solomon Islands"},{label:"Somalia"},{label:"South Africa"},{label:"South Sudan"},{label:"Spain"},{label:"Sri Lanka"},{label:"Sudan"},{label:"Suriname"},{label:"Swaziland (Eswatini)"},{label:"Sweden"},{label:"Switzerland"},{label:"Syria, Syrian Arab Republic"},{label:"Taiwan (Republic of China)"},{label:"Tajikistan"},{label:"Tanzania; officially the United Republic of Tanzania"},{label:"Thailand"},{label:"Tibet"},{label:"Timor-Leste (East Timor)"},{label:"Togo"},{label:"Tokelau"},{label:"Tonga"},{label:"Trinidad and Tobago"},{label:"Tunisia"},{label:"Turkey"},{label:"Turkmenistan"},{label:"Turks and Caicos Islands"},{label:"Tuvalu"},{label:"Uganda"},{label:"Ukraine"},{label:"United Arab Emirates"},{label:"United Kingdom"},{label:"United States"},{label:"Uruguay"},{label:"Uzbekistan"},{label:"Vanuatu"},{label:"Vatican City State (Holy See)"},{label:"Venezuela"},{label:"Vietnam"},{label:"Virgin Islands (British)"},{label:"Virgin Islands (U.S.)"},{label:"Wallis and Futuna Islands"},{label:"Western Sahara"},{label:"Yemen"},{label:"Zambia"},{label:"Zimbabwe"}],history.state.organization)console.log(history.state.organization),this.historyStateData=history.state.organization;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.orgRole=this.historyStateData.orgRole,this.orgName=this.historyStateData.orgName,this.orgVATNumber=this.historyStateData.orgVATNumber,this.orgCountry=this.historyStateData.orgCountry,this.orgAdminFirstName=this.historyStateData.orgAdminFirstName,this.orgAdminLastName=this.historyStateData.orgAdminLastName,this.orgAdminUsername=this.historyStateData.orgAdminUsername,this.orgAdminEmail=this.historyStateData.orgAdminEmail,this.orgCity=this.historyStateData.orgCity,this.orgAddress=this.historyStateData.orgAddress,this.orgPostalCode=this.historyStateData.orgPostalCode,this.orgPhoneNumber=this.historyStateData.orgPhoneNumber,this.setInitialValues(),this.editStatus=!1},r.prototype.saveChangesButton=function(){this.form.invalid?alert("Please fill in all required fields"):alert("Form submitted")},r.prototype.cancelButton=function(){console.log("cancelButton"),this.setInitialValues()},r.prototype.editButton=function(){this.editStatus=!0},r.prototype.setInitialValues=function(){var n={label:this.historyStateData.orgCountry};this.form.controls.orgRole.setValue({label:this.historyStateData.orgRole}),this.form.controls.orgName.setValue(this.historyStateData.orgName),this.form.controls.orgVATNumber.setValue(this.historyStateData.orgVATNumber),this.form.controls.orgCountry.setValue(n),this.form.controls.orgAdminFirstName.setValue(this.historyStateData.orgAdminFirstName),this.form.controls.orgAdminLastName.setValue(this.historyStateData.orgAdminLastName),this.form.controls.orgAdminUsername.setValue(this.historyStateData.orgAdminUsername),this.form.controls.orgAdminEmail.setValue(this.historyStateData.orgAdminEmail),this.form.controls.orgCity.setValue(this.historyStateData.orgCity),this.form.controls.orgAddress.setValue(this.historyStateData.orgAddress),this.form.controls.orgPostalCode.setValue(this.historyStateData.orgPostalCode),this.form.controls.orgPhoneNumber.setValue(this.historyStateData.orgPhoneNumber)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/organizations-users"])},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-org-selected-profile"]],decls:136,vars:42,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[3,"hidden"],[1,"row"],[1,"col-md-3"],[1,"caption"],[1,"header"],["novalidate","",3,"formGroup"],[1,"subtitle"],["formControlName","orgRole","optionLabel","label",3,"options"],["type","text","formControlName","orgName"],["type","text","formControlName","orgVATNumber"],["formControlName","orgCountry","optionLabel","label",3,"options","filter"],["type","text","formControlName","orgCity"],["type","text","formControlName","orgAddress"],["type","text","formControlName","orgPostalCode"],["type","text","formControlName","orgPhoneNumber"],["type","text","formControlName","orgAdminFirstName"],["type","text","formControlName","orgAdminLastName"],["type","text","formControlName","orgAdminUsername"],["type","text","formControlName","orgAdminEmail"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],["pButton","","type","button","label","Save Changes","icon","icon-save",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Organizations"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",5),e.TgZ(12,"div",6),e.TgZ(13,"div",7),e.TgZ(14,"table"),e.TgZ(15,"caption",8),e._uU(16,"Organization"),e.qZA(),e.TgZ(17,"tr"),e.TgZ(18,"td",9),e._uU(19,"Organization Role"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.qZA(),e.TgZ(22,"tr"),e.TgZ(23,"td",9),e._uU(24,"Organization Name"),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.qZA(),e.TgZ(27,"tr"),e.TgZ(28,"td",9),e._uU(29,"Organization VAT Number"),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.qZA(),e.qZA(),e.TgZ(32,"tr"),e.TgZ(33,"td",9),e._uU(34,"Organization Country"),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.qZA(),e.qZA(),e.TgZ(37,"tr"),e.TgZ(38,"td",9),e._uU(39,"Organization City"),e.qZA(),e.TgZ(40,"td"),e._uU(41),e.qZA(),e.qZA(),e.TgZ(42,"tr"),e.TgZ(43,"td",9),e._uU(44,"Organization Address"),e.qZA(),e.TgZ(45,"td"),e._uU(46),e.qZA(),e.qZA(),e.TgZ(47,"tr"),e.TgZ(48,"td",9),e._uU(49,"Organization Postal Code"),e.qZA(),e.TgZ(50,"td"),e._uU(51),e.qZA(),e.qZA(),e.TgZ(52,"tr"),e.TgZ(53,"td",9),e._uU(54,"Organization Phone Number"),e.qZA(),e.TgZ(55,"td"),e._uU(56),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"div",7),e.TgZ(58,"table"),e.TgZ(59,"caption",8),e._uU(60,"Organization Administrator"),e.qZA(),e.TgZ(61,"tr"),e.TgZ(62,"td",9),e._uU(63,"Organization Administrator First Name"),e.qZA(),e.TgZ(64,"td"),e._uU(65),e.qZA(),e.qZA(),e.TgZ(66,"tr"),e.TgZ(67,"td",9),e._uU(68,"Organization Administrator Last Name"),e.qZA(),e.TgZ(69,"td"),e._uU(70),e.qZA(),e.qZA(),e.TgZ(71,"tr"),e.TgZ(72,"td",9),e._uU(73,"Username"),e.qZA(),e.TgZ(74,"td"),e._uU(75),e.qZA(),e.qZA(),e.TgZ(76,"tr"),e.TgZ(77,"td",9),e._uU(78,"Email"),e.qZA(),e.TgZ(79,"td"),e._uU(80),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(81,"br"),e._UZ(82,"br"),e.qZA(),e.TgZ(83,"div",5),e.TgZ(84,"form",10),e.TgZ(85,"div",6),e.TgZ(86,"div",7),e.TgZ(87,"h5",11),e._uU(88,"Organization"),e.qZA(),e._UZ(89,"br"),e.TgZ(90,"h6"),e._uU(91,"Organization Role *"),e.qZA(),e._UZ(92,"p-dropdown",12),e.TgZ(93,"h6"),e._uU(94,"Organization Name *"),e.qZA(),e._UZ(95,"input",13),e.TgZ(96,"h6"),e._uU(97,"Organization VAT Number *"),e.qZA(),e._UZ(98,"input",14),e.TgZ(99,"h6"),e._uU(100,"Organization Country *"),e.qZA(),e._UZ(101,"p-dropdown",15),e.TgZ(102,"h6"),e._uU(103,"Organization City"),e.qZA(),e._UZ(104,"input",16),e.TgZ(105,"h6"),e._uU(106,"Organization Address"),e.qZA(),e._UZ(107,"input",17),e.TgZ(108,"h6"),e._uU(109,"Organization Postal Code"),e.qZA(),e._UZ(110,"input",18),e.TgZ(111,"h6"),e._uU(112,"Organization Phone Number"),e.qZA(),e._UZ(113,"input",19),e.qZA(),e.TgZ(114,"div",7),e.TgZ(115,"h5",11),e._uU(116,"Organization Administrator"),e.qZA(),e._UZ(117,"br"),e.TgZ(118,"h6"),e._uU(119,"Organization Administrator First Name *"),e.qZA(),e._UZ(120,"input",20),e.TgZ(121,"h6"),e._uU(122,"Organization Administrator Last Name *"),e.qZA(),e._UZ(123,"input",21),e.TgZ(124,"h6"),e._uU(125,"Username *"),e.qZA(),e._UZ(126,"input",22),e.TgZ(127,"h6"),e._uU(128,"Email *"),e.qZA(),e._UZ(129,"input",23),e.qZA(),e.qZA(),e._UZ(130,"br"),e._UZ(131,"br"),e.TgZ(132,"button",24),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e._UZ(133,"br"),e._UZ(134,"br"),e.TgZ(135,"button",25),e.NdJ("click",function(){return t.saveChangesButton()}),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(31,Wh))("state",e.VKq(32,ui,t.historyStateData)),e.xp6(1),e.Oqu("Profile"),e.xp6(1),e.Q6J("routerLink",e.DdM(34,jh))("state",e.VKq(35,ui,t.historyStateData)),e.xp6(1),e.Oqu("Organization Active Users"),e.xp6(1),e.Q6J("routerLink",e.DdM(37,Xh))("state",e.VKq(38,ui,t.historyStateData)),e.xp6(1),e.Oqu("Organization Inactive Users"),e.xp6(1),e.Q6J("hidden",1==t.editStatus),e.xp6(10),e.Oqu(t.orgRole),e.xp6(5),e.Oqu(t.orgName),e.xp6(5),e.Oqu(t.orgVATNumber),e.xp6(5),e.Oqu(t.orgCountry),e.xp6(5),e.Oqu(t.orgCity),e.xp6(5),e.Oqu(t.orgAddress),e.xp6(5),e.Oqu(t.orgPostalCode),e.xp6(5),e.Oqu(t.orgPhoneNumber),e.xp6(9),e.Oqu(t.orgAdminFirstName),e.xp6(5),e.Oqu(t.orgAdminLastName),e.xp6(5),e.Oqu(t.orgAdminUsername),e.xp6(5),e.Oqu(t.orgAdminEmail),e.xp6(3),e.Q6J("hidden",0==t.editStatus),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(8),e.Akn(e.DdM(40,oo)),e.Q6J("options",t.orgRoleOptions),e.xp6(9),e.Akn(e.DdM(41,oo)),e.Q6J("options",t.countryOptions)("filter",!0))},directives:[q.yS,q.Od,T._Y,T.JL,T.sg,ne.Lt,T.JJ,T.u,T.Fj,$.Hq],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.header[_ngcontent-%COMP%]{color:#023f88}tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}table[_ngcontent-%COMP%]{caption-side:top}.caption[_ngcontent-%COMP%]{color:#023f88;font-size:1.25rem;font-weight:500}"]}),r}();function tf(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"div"),e.TgZ(2,"input",20),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(27).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function nf(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",21),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",22),e._uU(4,"Username "),e._UZ(5,"p-sortIcon",23),e.qZA(),e.TgZ(6,"th",24),e._uU(7,"First Name "),e._UZ(8,"p-sortIcon",25),e.qZA(),e.TgZ(9,"th",26),e._uU(10,"Last Name "),e._UZ(11,"p-sortIcon",27),e.qZA(),e.TgZ(12,"th",28),e._uU(13,"User e-mail "),e._UZ(14,"p-sortIcon",29),e.qZA(),e.TgZ(15,"th",30),e._uU(16,"User Role "),e._UZ(17,"p-sortIcon",31),e.qZA(),e.TgZ(18,"th",32),e._uU(19,"Registration Date "),e._UZ(20,"p-sortIcon",33),e.qZA(),e.qZA())}function af(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"p-tableCheckbox",34),e.qZA(),e.TgZ(3,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(4),e.qZA(),e.TgZ(5,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(6),e.qZA(),e.TgZ(7,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(8),e.qZA(),e.TgZ(9,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(10),e.qZA(),e.TgZ(11,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(12),e.qZA(),e.TgZ(13,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(14),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.userFirstName),e.xp6(2),e.Oqu(t.userLastName),e.xp6(2),e.Oqu(t.userEmail),e.xp6(2),e.Oqu(t.userRole),e.xp6(2),e.Oqu(t.registered)}}var rf=function(){return["/dashboard/org-selected-profile"]},ci=function(r){return{organization:r}},of=function(){return["/dashboard/org-selected-users"]},sf=function(){return["/dashboard/org-selected-inactive-users"]},lf=function(){return["userId","username","userFirstName","userLastName","userEmail","userRole","registered"]},uf=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.userRoles=[],this.selectedDatasource=[],this.userRolesArray=[],this.selectedRows=[]}return r.prototype.ngOnInit=function(){if(history.state.organization)console.log(history.state.organization),this.historyStateData=history.state.organization;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.orgName=this.historyStateData.orgName,this.isExternalOrg=this.historyStateData.isExternalOrg,this.getActiveAccounts()},r.prototype.getActiveAccounts=function(){var a=this;this.dashboardService.getActiveAccounts().subscribe(function(n){console.log(n);for(var t=n.result,i=0,o=t=t.filter(a.isExternalOrg?function(p){return p.Record.externalOrg==a.orgName}:function(p){return p.Record.organization==a.orgName});i<o.length;i++){var l={username:(s=o[i]).Record.username,userFirstName:s.Record.name,userLastName:s.Record.surname,userEmail:s.Record.email,userRole:s.Record.type,registered:a.changeDateFormat(s.Record.dateTime),registeredSortable:s.Record.dateTime};a.datasource.push(l)}var u=a.datasource.map(function(p){return p.userRole});u=u.filter(function(p,g,h){return h.indexOf(p)===g}),a.userRoles=[{userRole:"All"}];for(var c=0,d=u;c<d.length;c++){var s;a.userRoles.push({userRole:s=d[c]})}a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getActiveAccounts",[])})},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/organizations-users"])},r.prototype.onChange=function(a){var n=a.value.userRole;this.selectedDatasource="All"==n?this.datasource:this.datasource.filter(function(t){return n==t.userRole})},r.prototype.handleSelect=function(a){var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),this.router.navigate(["/dashboard/net-user-selected-profile"],{state:{user:a,organization:history.state.organization}})},r.prototype.deactivateSelectedButton=function(){var a=this;console.log("deactivate selected button"),console.log(this.selectedRows);for(var n=0,t=this.selectedRows;n<t.length;n++)this.deactivateAccount({username:t[n].username});setTimeout(function(){a.datasource=[],a.selectedDatasource=[],a.getActiveAccounts()},5e3)},r.prototype.deactivateAccount=function(a){var n=this;this.dashboardService.deactivateAccount(a).subscribe(function(t){console.log(t)},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("deactivateAccount",a)})},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"getActiveAccounts"==a?t.getActiveAccounts():"deactivateAccount"==a&&t.deactivateAccount(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-org-selected-users"]],decls:31,vars:29,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[2,"text-align","right"],["pButton","","type","button","label","Deactivate Selected","icon","icon-delete",3,"click"],[1,"row"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","32px","margin-left","15px"],[1,"icon-filters"],[1,"dropdownLabel"],["optionLabel","userRole",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields","selection","selectionChange"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","",2,"width","3rem"],["id","th12","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th13","pResizableColumn","","pSortableColumn","userFirstName"],["field","userFirstName"],["id","th14","pResizableColumn","","pSortableColumn","userLastName"],["field","userLastName"],["id","th15","pResizableColumn","","pSortableColumn","userEmail"],["field","userEmail"],["id","th16","pResizableColumn","","pSortableColumn","userRole"],["field","userRole"],["id","th17","pResizableColumn","","pSortableColumn","registeredSortable"],["field","registeredSortable"],[3,"value"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Organizations"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"h5"),e._uU(12),e.qZA(),e.TgZ(13,"div"),e.TgZ(14,"div",5),e.TgZ(15,"div",6),e.TgZ(16,"button",7),e.NdJ("click",function(){return t.deactivateSelectedButton()}),e.qZA(),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"div",9),e.TgZ(19,"h6",10),e._UZ(20,"span",11),e._uU(21,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(22,"div",9),e.TgZ(23,"h6",12),e._uU(24,"User role:"),e.qZA(),e.TgZ(25,"p-dropdown",13),e.NdJ("ngModelChange",function(o){return t.selectedUserRole=o})("onChange",function(o){return t.onChange(o)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"p-table",14,15),e.NdJ("selectionChange",function(o){return t.selectedRows=o}),e.YNc(28,tf,4,3,"ng-template",16),e.YNc(29,nf,21,0,"ng-template",17),e.YNc(30,af,15,7,"ng-template",18),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(19,rf))("state",e.VKq(20,ci,t.historyStateData)),e.xp6(1),e.Oqu("Profile"),e.xp6(1),e.Q6J("routerLink",e.DdM(22,of))("state",e.VKq(23,ci,t.historyStateData)),e.xp6(1),e.Oqu("Organization Active Users"),e.xp6(1),e.Q6J("routerLink",e.DdM(25,sf))("state",e.VKq(26,ci,t.historyStateData)),e.xp6(1),e.Oqu("Organization Inactive Users"),e.xp6(2),e.Oqu(t.orgName),e.xp6(13),e.Q6J("options",t.userRoles)("ngModel",t.selectedUserRole),e.xp6(1),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(28,lf))("selection",t.selectedRows))},directives:[q.yS,q.Od,$.Hq,ne.Lt,T.JJ,T.On,N,D.jx,j,re,mn,ae,ie,fn],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:220px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}();function cf(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"div"),e.TgZ(2,"input",23),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(27).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function df(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",24),e._uU(2,"Name "),e._UZ(3,"p-sortIcon",25),e.qZA(),e.TgZ(4,"th",26),e._uU(5,"Description "),e._UZ(6,"p-sortIcon",27),e.qZA(),e.TgZ(7,"th",28),e._uU(8,"Owner "),e._UZ(9,"p-sortIcon",29),e.qZA(),e.TgZ(10,"th",30),e._uU(11,"Provider "),e._UZ(12,"p-sortIcon",31),e.qZA(),e.TgZ(13,"th",32),e._uU(14,"Access Right "),e._UZ(15,"p-sortIcon",33),e.qZA(),e.TgZ(16,"th",34),e._uU(17,"Custom Access Rights "),e._UZ(18,"p-sortIcon",35),e.qZA(),e.TgZ(19,"th",36),e._uU(20,"DataSource ID "),e._UZ(21,"br"),e._uU(22," missing "),e._UZ(23,"p-sortIcon",37),e.qZA(),e.TgZ(24,"th",38),e._uU(25,"Endpoint "),e._UZ(26,"p-sortIcon",39),e.qZA(),e.TgZ(27,"th",40),e._uU(28,"Release Date "),e._UZ(29,"p-sortIcon",41),e.qZA(),e.qZA())}function pf(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr",42),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l,"Personal")}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",43),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.dataName),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.dataOwner),e.xp6(2),e.Oqu(t.dataProvider),e.xp6(2),e.Oqu(t.accessRight),e.xp6(2),e.Oqu(t.customAccessRights),e.xp6(1),e.Q6J("ngClass",i.getClassOfDataSourceIDMissing(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.dataSourceIDMissing),e.xp6(2),e.Oqu(t.dataLocation),e.xp6(2),e.Oqu(t.lastModified)}}function gf(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"div"),e.TgZ(2,"input",23),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(49).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function hf(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",44),e._uU(2,"Name "),e._UZ(3,"p-sortIcon",25),e.qZA(),e.TgZ(4,"th",45),e._uU(5,"Description "),e._UZ(6,"p-sortIcon",27),e.qZA(),e.TgZ(7,"th",46),e._uU(8,"Owner "),e._UZ(9,"p-sortIcon",29),e.qZA(),e.TgZ(10,"th",47),e._uU(11,"Provider "),e._UZ(12,"p-sortIcon",31),e.qZA(),e.TgZ(13,"th",48),e._uU(14,"Access Right "),e._UZ(15,"p-sortIcon",33),e.qZA(),e.TgZ(16,"th",49),e._uU(17,"Custom Access Rights "),e._UZ(18,"p-sortIcon",35),e.qZA(),e.TgZ(19,"th",50),e._uU(20,"DataSource ID "),e._UZ(21,"br"),e._uU(22," missing "),e._UZ(23,"p-sortIcon",37),e.qZA(),e.TgZ(24,"th",51),e._uU(25,"Endpoint "),e._UZ(26,"p-sortIcon",39),e.qZA(),e.TgZ(27,"th",52),e._uU(28,"Release Date "),e._UZ(29,"p-sortIcon",41),e.qZA(),e.qZA())}function ff(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr",42),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l,"Organizational")}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",43),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.dataName),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.dataOwner),e.xp6(2),e.Oqu(t.dataProvider),e.xp6(2),e.Oqu(t.accessRight),e.xp6(2),e.Oqu(t.customAccessRights),e.xp6(1),e.Q6J("ngClass",i.getClassOfDataSourceIDMissing(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.dataSourceIDMissing),e.xp6(2),e.Oqu(t.dataLocation),e.xp6(2),e.Oqu(t.lastModified)}}function mf(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"div"),e.TgZ(2,"input",23),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(71).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function vf(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",53),e._uU(2,"Name "),e._UZ(3,"p-sortIcon",25),e.qZA(),e.TgZ(4,"th",54),e._uU(5,"Description "),e._UZ(6,"p-sortIcon",27),e.qZA(),e.TgZ(7,"th",55),e._uU(8,"Owner "),e._UZ(9,"p-sortIcon",29),e.qZA(),e.TgZ(10,"th",56),e._uU(11,"Provider "),e._UZ(12,"p-sortIcon",31),e.qZA(),e.TgZ(13,"th",57),e._uU(14,"Access Right "),e._UZ(15,"p-sortIcon",33),e.qZA(),e.TgZ(16,"th",58),e._uU(17,"Custom Access Rights "),e._UZ(18,"p-sortIcon",35),e.qZA(),e.TgZ(19,"th",59),e._uU(20,"DataSource ID "),e._UZ(21,"br"),e._uU(22," missing "),e._UZ(23,"p-sortIcon",37),e.qZA(),e.TgZ(24,"th",60),e._uU(25,"Endpoint "),e._UZ(26,"p-sortIcon",39),e.qZA(),e.TgZ(27,"th",61),e._uU(28,"Release Date "),e._UZ(29,"p-sortIcon",41),e.qZA(),e.qZA())}function bf(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr",42),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l,"Public")}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",43),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.dataName),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.dataOwner),e.xp6(2),e.Oqu(t.dataProvider),e.xp6(2),e.Oqu(t.accessRight),e.xp6(2),e.Oqu(t.customAccessRights),e.xp6(1),e.Q6J("ngClass",i.getClassOfDataSourceIDMissing(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.dataSourceIDMissing),e.xp6(2),e.Oqu(t.dataLocation),e.xp6(2),e.Oqu(t.lastModified)}}var di=function(){return["dataName","description","dataOwner","dataProvider","accessRight","customAccessRights","dataSourceIDMissing","dataLocation","lastModified"]},yf=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.selectedDatasource=[],this.providers=[],this.owners=[]}return r.prototype.ngOnInit=function(){this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),history.state.selectedTab?this.openTab(history.state.selectedTab):this.openTab("Personal")},r.prototype.onProviderChange=function(a){var n=this;if(this.selectedProviderValue=a.value.dataProvider,"All"==this.selectedProviderValue&&"All"==this.selectedOwnerValue)this.selectedDatasource=this.datasource;else{var t=this.datasource;"All"!=this.selectedProviderValue&&null!=this.selectedProviderValue&&(t=t.filter(function(i){return n.selectedProviderValue==i.dataProvider})),"All"!=this.selectedOwnerValue&&null!=this.selectedOwnerValue&&(t=t.filter(function(i){return n.selectedOwnerValue==i.dataOwner})),this.selectedDatasource=t}},r.prototype.onDataOwnerChange=function(a){var n=this;if(this.selectedOwnerValue=a.value.dataOwner,"All"==this.selectedProviderValue&&"All"==this.selectedOwnerValue)this.selectedDatasource=this.datasource;else{var t=this.datasource;"All"!=this.selectedProviderValue&&null!=this.selectedProviderValue&&(t=t.filter(function(i){return n.selectedProviderValue==i.dataProvider})),"All"!=this.selectedOwnerValue&&null!=this.selectedOwnerValue&&(t=t.filter(function(i){return n.selectedOwnerValue==i.dataOwner})),this.selectedDatasource=t}},r.prototype.handleSelect=function(a,n){a.selectedTab=n,console.log(a);var t=JSON.stringify(a);localStorage.setItem("historyStateData",t),this.router.navigate(["/dashboard/provided-datasets-details"],{state:{data:a}})},r.prototype.queryDatasetPermissionByAuthorizedUsers=function(){var a=this;this.dashboardService.queryDatasetPermissionByAuthorizedUsers().subscribe(function(n){console.log(n);for(var t=n.result,i=0;i<t.length;i++){var o=t[i].Record.users.permission;a.datasource.push({dataName:t[i].Record.dataset_name,description:"",dataOwner:"",dataProvider:"",lastModified:"",lastModifiedSortable:"",accessRight:o[o.length-1],customAccessRights:t[i].Record.users.customAccessRights}),a.queryMetadataByName(t[i].Record.dataset_name,i,t.length-1)}},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryDatasetPermissionByAuthorizedUsers",[])})},r.prototype.queryAllAccessByOrgConsumer=function(){var a=this;this.dashboardService.queryAllAccessByOrgConsumer().subscribe(function(n){console.log(n);for(var t=n.result,i=0;i<t.length;i++){var o=t[i].Record.permission;a.datasource.push({dataName:t[i].Record.dataset_name,description:"",dataOwner:"",dataProvider:"",lastModified:"",lastModifiedSortable:"",accessRight:o[o.length-1],customAccessRights:t[i].Record.customAccessRights}),a.queryMetadataByName(t[i].Record.dataset_name,i,t.length-1)}},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryAllAccessByOrgConsumer",[])})},r.prototype.queryMetadataByName=function(a,n,t){var i=this;this.dashboardService.queryMetadataByName(a).subscribe(function(o){console.log(o);var s=o.result;if(i.datasource[n].description=s.datasetDescription,i.datasource[n].dataOwner=s.orgOfOwner,i.datasource[n].dataProvider=s.orgOfProvider,i.datasource[n].blockchain=s.blockchain,i.datasource[n].dataLocation=s.endpoint,i.datasource[n].lastModified=i.changeDateFormat(s.releaseDateTime),i.datasource[n].lastModifiedSortable=s.releaseDateTime,i.datasource[n].dataSourceIDMissing="No",i.datasource[n].hasAgent=s.hasAgent,i.datasource[n].dataSourceID=s.dataSourceMetadata.dataSourceID,"true"==i.datasource[n].hasAgent&&(null==i.datasource[n].dataSourceID||""==i.datasource[n].dataSourceID.trim())&&(i.datasource[n].dataSourceIDMissing="Yes"),n==t){var l=i.datasource.map(function(f){return f.dataProvider});l=l.filter(function(f,m,v){return v.indexOf(f)===m}),i.providers=[{dataProvider:"All"}];for(var u=0,c=l;u<c.length;u++)i.providers.push({dataProvider:c[u]});var p=i.datasource.map(function(f){return f.dataOwner});p=p.filter(function(f,m,v){return v.indexOf(f)===m}),i.owners=[{dataOwner:"All"}];for(var g=0,h=p;g<h.length;g++)i.owners.push({dataOwner:h[g]});i.selectedDatasource=i.datasource}},function(o){console.log(o.status),(401==o.status||403==o.status)&&i.refreshTokens("queryMetadataByName",[a,n,t])})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.queryPublicDatasets=function(){var a=this;this.dashboardService.queryPublicDatasets().subscribe(function(n){console.log(n);for(var t=n.result,i=0;i<t.length;i++){var o=t[i].Record.permission;a.datasource.push({dataName:t[i].Record.dataset_name,description:"",dataOwner:"",dataProvider:"",lastModified:"",lastModifiedSortable:"",accessRight:o[o.length-1],customAccessRights:t[i].Record.customAccessRights}),a.queryMetadataByName(t[i].Record.dataset_name,i,t.length-1)}},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryPublicDatasets",[])})},r.prototype.getClassOfDataSourceIDMissing=function(a,n){if("true"==a&&(null==n||""==n.trim()))return"dataSourceIDMissing"},r.prototype.openTab=function(a){var n,t,i;for(this.datasource=[],this.selectedDatasource=[],t=document.getElementsByClassName("tabcontent"),n=0;n<t.length;n++)t[n].style.display="none";for(i=document.getElementsByClassName("tablinks"),n=0;n<i.length;n++)i[n].className=i[n].className.replace(" active","");document.getElementById(a).style.display="block",document.getElementById("button"+a).classList.add("active"),"Personal"==a&&this.queryDatasetPermissionByAuthorizedUsers(),"Organizational"==a&&this.queryAllAccessByOrgConsumer(),"Public"==a&&this.queryPublicDatasets()},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryDatasetPermissionByAuthorizedUsers"==a?t.queryDatasetPermissionByAuthorizedUsers():"queryAllAccessByOrgConsumer"==a?t.queryAllAccessByOrgConsumer():"queryMetadataByName"==a?t.queryMetadataByName(n[0],n[1],n[2]):"queryPublicDatasets"==a&&t.queryPublicDatasets()},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-provided-datasets"]],decls:75,vars:34,consts:[[1,"tab"],["id","buttonPersonal",1,"tablinks",3,"click"],["id","buttonOrganizational",1,"tablinks",3,"hidden","click"],["id","buttonPublic",1,"tablinks",3,"click"],["id","Personal",1,"tabcontent"],[1,"card"],[1,"row"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","32px","margin-left","15px"],[1,"icon-filters"],[1,"dropdownLabel"],["optionLabel","dataProvider",3,"options","ngModel","ngModelChange","onChange"],["optionLabel","dataOwner",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["id","Organizational",1,"tabcontent"],["dt2",""],["id","Public",1,"tabcontent"],["dt3",""],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","dataName"],["field","dataName"],["id","th12","pResizableColumn","","pSortableColumn","description"],["field","description"],["id","th13","pResizableColumn","","pSortableColumn","dataOwner"],["field","dataOwner"],["id","th14","pResizableColumn","","pSortableColumn","dataProvider"],["field","dataProvider"],["id","th15","pResizableColumn","","pSortableColumn","accessRight"],["field","accessRight"],["id","th16","pResizableColumn","","pSortableColumn","customAccessRights"],["field","customAccessRights"],["id","th17","pResizableColumn","","pSortableColumn","dataSourceIDMissing"],["field","dataSourceIDMissing"],["id","th18","pResizableColumn","","pSortableColumn","dataLocation"],["field","dataLocation"],["id","th19","pResizableColumn","","pSortableColumn","lastModifiedSortable"],["field","lastModifiedSortable"],[3,"click"],[3,"ngClass"],["id","th21","pResizableColumn","","pSortableColumn","dataName"],["id","th22","pResizableColumn","","pSortableColumn","description"],["id","th23","pResizableColumn","","pSortableColumn","dataOwner"],["id","th24","pResizableColumn","","pSortableColumn","dataProvider"],["id","th25","pResizableColumn","","pSortableColumn","accessRight"],["id","th26","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th27","pResizableColumn","","pSortableColumn","dataSourceIDMissing"],["id","th28","pResizableColumn","","pSortableColumn","dataLocation"],["id","th29","pResizableColumn","","pSortableColumn","lastModifiedSortable"],["id","th31","pResizableColumn","","pSortableColumn","dataName"],["id","th32","pResizableColumn","","pSortableColumn","description"],["id","th33","pResizableColumn","","pSortableColumn","dataOwner"],["id","th34","pResizableColumn","","pSortableColumn","dataProvider"],["id","th35","pResizableColumn","","pSortableColumn","accessRight"],["id","th36","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th37","pResizableColumn","","pSortableColumn","dataSourceIDMissing"],["id","th38","pResizableColumn","","pSortableColumn","dataLocation"],["id","th39","pResizableColumn","","pSortableColumn","lastModifiedSortable"]],template:function(n,t){1&n&&(e.TgZ(0,"h5"),e._uU(1,"External Datasets"),e.qZA(),e.TgZ(2,"div",0),e.TgZ(3,"button",1),e.NdJ("click",function(){return t.openTab("Personal")}),e._uU(4,"Personal"),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return t.openTab("Organizational")}),e._uU(6,"Organizational"),e.qZA(),e.TgZ(7,"button",3),e.NdJ("click",function(){return t.openTab("Public")}),e._uU(8,"Public"),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"div",5),e.TgZ(11,"div",6),e.TgZ(12,"div",7),e.TgZ(13,"h6",8),e._UZ(14,"span",9),e._uU(15,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(16,"div",7),e.TgZ(17,"h6",10),e._uU(18,"Provider:"),e.qZA(),e.TgZ(19,"p-dropdown",11),e.NdJ("ngModelChange",function(o){return t.selectedProvider=o})("onChange",function(o){return t.onProviderChange(o)}),e.qZA(),e.qZA(),e._UZ(20,"div",7),e.TgZ(21,"div",7),e.TgZ(22,"h6",10),e._uU(23,"Owner:"),e.qZA(),e.TgZ(24,"p-dropdown",12),e.NdJ("ngModelChange",function(o){return t.selectedOwner=o})("onChange",function(o){return t.onDataOwnerChange(o)}),e.qZA(),e.qZA(),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"p-table",13,14),e.YNc(28,cf,4,3,"ng-template",15),e.YNc(29,df,30,0,"ng-template",16),e.YNc(30,pf,19,10,"ng-template",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",18),e.TgZ(32,"div",5),e.TgZ(33,"div",6),e.TgZ(34,"div",7),e.TgZ(35,"h6",8),e._UZ(36,"span",9),e._uU(37,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(38,"div",7),e.TgZ(39,"h6",10),e._uU(40,"Provider:"),e.qZA(),e.TgZ(41,"p-dropdown",11),e.NdJ("ngModelChange",function(o){return t.selectedProvider=o})("onChange",function(o){return t.onProviderChange(o)}),e.qZA(),e.qZA(),e._UZ(42,"div",7),e.TgZ(43,"div",7),e.TgZ(44,"h6",10),e._uU(45,"Owner:"),e.qZA(),e.TgZ(46,"p-dropdown",12),e.NdJ("ngModelChange",function(o){return t.selectedOwner=o})("onChange",function(o){return t.onDataOwnerChange(o)}),e.qZA(),e.qZA(),e.qZA(),e._UZ(47,"br"),e.TgZ(48,"p-table",13,19),e.YNc(50,gf,4,3,"ng-template",15),e.YNc(51,hf,30,0,"ng-template",16),e.YNc(52,ff,19,10,"ng-template",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"div",20),e.TgZ(54,"div",5),e.TgZ(55,"div",6),e.TgZ(56,"div",7),e.TgZ(57,"h6",8),e._UZ(58,"span",9),e._uU(59,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(60,"div",7),e.TgZ(61,"h6",10),e._uU(62,"Provider:"),e.qZA(),e.TgZ(63,"p-dropdown",11),e.NdJ("ngModelChange",function(o){return t.selectedProvider=o})("onChange",function(o){return t.onProviderChange(o)}),e.qZA(),e.qZA(),e._UZ(64,"div",7),e.TgZ(65,"div",7),e.TgZ(66,"h6",10),e._uU(67,"Owner:"),e.qZA(),e.TgZ(68,"p-dropdown",12),e.NdJ("ngModelChange",function(o){return t.selectedOwner=o})("onChange",function(o){return t.onDataOwnerChange(o)}),e.qZA(),e.qZA(),e.qZA(),e._UZ(69,"br"),e.TgZ(70,"p-table",13,21),e.YNc(72,mf,4,3,"ng-template",15),e.YNc(73,vf,30,0,"ng-template",16),e.YNc(74,bf,19,10,"ng-template",17),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("hidden",t.externalOrg&&"true"==t.isExternalUser),e.xp6(14),e.Q6J("options",t.providers)("ngModel",t.selectedProvider),e.xp6(5),e.Q6J("options",t.owners)("ngModel",t.selectedOwner),e.xp6(2),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(31,di)),e.xp6(15),e.Q6J("options",t.providers)("ngModel",t.selectedProvider),e.xp6(5),e.Q6J("options",t.owners)("ngModel",t.selectedOwner),e.xp6(2),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(32,di)),e.xp6(15),e.Q6J("options",t.providers)("ngModel",t.selectedProvider),e.xp6(5),e.Q6J("options",t.owners)("ngModel",t.selectedOwner),e.xp6(2),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(33,di)))},directives:[ne.Lt,T.JJ,T.On,N,D.jx,j,re,ae,ie,I.mk],pipes:[ee.X$],styles:["tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}.dataSourceIDMissing[_ngcontent-%COMP%]{background-color:#ee7b30;color:#fff}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}"]}),r}();function _f(r,a){1&r&&(e.TgZ(0,"h6"),e._uU(1,"Data Source ID"),e.qZA())}var Qe=function(){return{width:"190px"}};function Tf(r,a){if(1&r&&e._UZ(0,"p-dropdown",51),2&r){var n=e.oxw();e.Akn(e.DdM(4,Qe)),e.Q6J("options",n.dataSourceIdOptions)("filter",!0)}}var Cf=function(){return["/dashboard/my-datasets-details"]},yt=function(r){return{data:r}},Zf=function(){return["/dashboard/my-datasets-permissions"]},kf=function(){return["/dashboard/my-datasets-content"]},Sf=function(){return["/dashboard/my-datasets-history"]},Af=function(){return["/dashboard/my-datasets-datasource-history"]},wf=function(){return["/dashboard/my-datasets-access-requests-history"]},xf=function(){return["/dashboard/my-datasets-revoked-access-history"]},Of=function(){return{minWidth:"12em"}},qf=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i,this.rightsArray=[],this.customAccessRightsOptions=[],this.agreementHash="",this.termsConditionsHash="",this.copyrightHash="",this.fileExists=!1,this.hasAgentChecked=!1}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.getUsers(),this.getOrganizations(),"ThPA"==this.loggedinUserOrganization?this.getDataSourceIDsThPA():"VPF"==this.loggedinUserOrganization?this.getDataSourceIDsVPF():this.getDataSourceIDs(),this.form=this.formBuilder.group({identifier:["",T.kI.required],usernameOfProvider:["",T.kI.required],emailOfProvider:["",T.kI.required],datasetName:["",T.kI.required],datasetDescription:[""],customAccessRights:[""],agreementURL:[""],termsConditionsURL:[""],copyrightURL:[""],version:[""],industryDomain:["",T.kI.required],datasetOwner:["",T.kI.required],datasetProvider:["",T.kI.required],datasetOwnerUsername:[""],dataVolume:[""],dataVelocity:[""],distribution:["",T.kI.required],themeCategory:[""],comments:[""],accessRights:["",T.kI.required],endpoint:[""],keywordTag:[""],language:["",T.kI.required],spatialGeographicCoverage:[""],temporalCoverageStart:[""],temporalCoverageEnd:[""],hasAgent:[""],dataSourceID:[""]}),this.form.controls.identifier.disable(),this.form.controls.datasetName.disable(),this.form.controls.usernameOfProvider.disable(),this.form.controls.emailOfProvider.disable(),this.form.controls.datasetProvider.disable(),this.form.controls.version.disable(),this.form.controls.datasetOwnerUsername.disable(),this.editStatus=!1,history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.industryDomainOptions=[{label:"-- Please select --"},{label:"Research"},{label:"Telecommunications"},{label:"Port Authority"},{label:"Trucking Company"},{label:"Shipping Agent"}],this.distributionOptions=[{label:"-- Please select --"},{label:"Image"},{label:"Video"},{label:"CSV-Excel"},{label:"Doc"},{label:"Other"}],this.languageOptions=[{label:"-- Please select --"},{label:"en"},{label:"fr"},{label:"de"},{label:"el"},{label:"it"},{label:"es"}],this.accessRightsOptions=[{label:"read"},{label:"modify"},{label:"persist"}],this.dataSourceIdOptions=[{id:"-- Please select --"}]},r.prototype.cancelButton=function(){this.undoChangesButton(),this.editStatus=!1},r.prototype.editButton=function(){this.editStatus=!0},r.prototype.undoChangesButton=function(){this.getUsers(),this.getOrganizations(),this.getDataSourceIDs()},r.prototype.saveChangesButton=function(){var a=this.form.getRawValue();if(this.form.invalid||"-- Select or type --"==a.datasetOwner||"-- Select or type --"==a.datasetOwner.label||"-- Please select --"==a.distribution.label||"-- Please select --"==a.language.label||"-- Please select --"==a.industryDomain.label)alert("Please fill in all required fields");else{var n=a.datasetOwnerUsername.label;"-- Please select --"==n&&(n="");var t=a.accessRights,i="";if(t&&t.length>0)for(var o=0;o<t.length;o++)0==o?i+=t[o].label:i=i+","+t[o].label;i=i.split(" ").join("");var s=a.customAccessRights,l="";if(s&&s.length>0)for(o=0;o<s.length;o++)0==o?l+=s[o].label?s[o].label:s[o]:l=s[o].label?l+","+s[o].label:l+","+s[o];l=l.split(" ").join("");var u=a.dataVolume,c=a.dataVelocity,d="";if(a.temporalCoverageStart){var p=new Date(a.temporalCoverageStart),g=p.getDate(),h=p.getMonth()+1,f=p.getFullYear(),m=String(f),v=String(h);1==v.length&&(v="0"+v);var b=String(g);1==b.length&&(b="0"+b),d=m+"-"+v+"-"+b}var y="";if(a.temporalCoverageEnd){var _=new Date(a.temporalCoverageEnd),C=_.getDate(),Z=_.getMonth()+1,S=_.getFullYear(),A=String(S),x=String(Z);1==x.length&&(x="0"+x);var w=String(C);1==w.length&&(w="0"+w),y=A+"-"+x+"-"+w}var O=!1;this.hasAgentChecked&&(O=!0);var U="";if("-- Please select --"!=a.dataSourceID.id&&(U=a.dataSourceID.id),null==a.agreementURL&&(a.agreementURL=""),""!=a.agreementURL?this.downloadAndCreateHash("agreementId","agreementHash"):this.agreementHash="",null==a.termsConditionsURL&&(a.termsConditionsURL=""),""!=a.termsConditionsURL?this.downloadAndCreateHash("termsConditionsId","termsConditionsHash"):this.termsConditionsHash="",null==a.copyrightURL&&(a.copyrightURL=""),""!=a.copyrightURL?this.downloadAndCreateHash("copyrightId","copyrightHash"):this.copyrightHash="",""!=a.agreementURL||""!=a.termsConditionsURL||""!=a.copyrightURL){var P=this;setTimeout(function(){var H={emailOfProvider:a.emailOfProvider,usernameOfOwner:n,orgOfOwner:a.datasetOwner.label||a.datasetOwner,datasetName:a.datasetName,datasetDescription:a.datasetDescription,themeCategory:a.themeCategory,keywordTag:a.keywordTag,language:a.language.label,distribution:a.distribution.label,dataVelocity:String(c),spatialGeographicCoverage:a.spatialGeographicCoverage,temporalCoverageStart:d,temporalCoverageEnd:y,industryDomain:a.industryDomain.label,dataVolume:String(u),comments:a.comments,accessRights:i,contractAgreementHash:P.agreementHash,contractAgreementURL:a.agreementURL,termsConditionsHash:P.termsConditionsHash,termsConditionsURL:a.termsConditionsURL,copyrightHash:P.copyrightHash,copyrightURL:a.copyrightURL,customAccessRights:l,endpoint:a.endpoint,blockchain:"off-chain",dataSourceID:U,hasAgent:O};console.log(H),""==a.agreementURL||""!=P.agreementHash&&null!=P.agreementHash?""==a.termsConditionsURL||""!=P.termsConditionsHash&&null!=P.termsConditionsHash?""==a.copyrightURL||""!=P.copyrightHash&&null!=P.copyrightHash?P.updateMetadata(H):alert("Copyright hash error"):alert("Terms and conditions hash error"):alert("Agreement hash error")},1e4)}else{var L={emailOfProvider:a.emailOfProvider,usernameOfOwner:n,orgOfOwner:a.datasetOwner.label||a.datasetOwner,datasetName:a.datasetName,datasetDescription:a.datasetDescription,themeCategory:a.themeCategory,keywordTag:a.keywordTag,language:a.language.label,distribution:a.distribution.label,dataVelocity:String(c),spatialGeographicCoverage:a.spatialGeographicCoverage,temporalCoverageStart:d,temporalCoverageEnd:y,industryDomain:a.industryDomain.label,dataVolume:String(u),comments:a.comments,accessRights:i,contractAgreementHash:this.agreementHash,contractAgreementURL:"",termsConditionsHash:this.termsConditionsHash,termsConditionsURL:"",copyrightHash:this.copyrightHash,copyrightURL:"",customAccessRights:l,endpoint:a.endpoint,blockchain:"off-chain",dataSourceID:U,hasAgent:O};this.updateMetadata(L)}}},r.prototype.backButton=function(){this.router.navigate(["/dashboard/my-datasets"])},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/my-datasets"])},r.prototype.getUsers=function(){var a=this;this.dashboardService.getUsers().subscribe(function(n){console.log(n);for(var t=[{label:"-- Please select --",organization:"-- Please select --"}],o=0,s=n.result;o<s.length;o++){var l=s[o];if("adminThPAext"!=l.Record.username&&"adminVPFext"!=l.Record.username&&"adminDataportsExt"!=l.Record.username&&"semantic_interop"!=l.Record.username&&"adminNetEXT"!=l.Record.username&&"adminNetThPA"!=l.Record.username&&"adminNetVPF"!=l.Record.username){var u=l.Record.organization;""!=l.Record.externalOrg&&" "!=l.Record.externalOrg&&(u=l.Record.externalOrg),t.push({label:l.Record.username,organization:u})}}a.allUserOptions=t,a.userOptions=t},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getUsers",[])})},r.prototype.getOrganizations=function(){var a=this;this.dashboardService.getOrganizations().subscribe(function(n){console.log(n),a.organizationOptions=[{label:"-- Select or type --"}];for(var i=0,o=n.result;i<o.length;i++){var s=o[i];"EXT"!=s.Key&&"DataPorts"!=s.Key&&a.organizationOptions.push({label:s.Key})}},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getOrganizations",[])})},r.prototype.getDataSourceIDs=function(){var a=this;this.dashboardService.getDataSourceIDs().subscribe(function(n){console.log("getDataSourceIDs"),console.log(n);for(var t=[{id:"-- Please select --"}],o=0,s=n.result;o<s.length;o++){var l=s[o];t.push({id:l.id,type:l.type})}a.dataSourceIdOptions=t,a.queryMetadataByName(a.historyStateData.dataName)},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getDataSourceIDs",[])})},r.prototype.getDataSourceIDsThPA=function(){var a=this;this.dashboardService.getDataSourceIDsThPA().subscribe(function(n){console.log("getDataSourceIDsThPA"),console.log(n);for(var t=[{id:"-- Please select --"}],o=0,s=n.result;o<s.length;o++){var l=s[o];t.push({id:l.id,type:l.type})}a.dataSourceIdOptions=t,a.queryMetadataByName(a.historyStateData.dataName)},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getDataSourceIDsThPA",[])})},r.prototype.getDataSourceIDsVPF=function(){var a=this;this.dashboardService.getDataSourceIDsVPF().subscribe(function(n){console.log("getDataSourceIDsVPF"),console.log(n);for(var t=[{id:"-- Please select --"}],o=0,s=n.result;o<s.length;o++){var l=s[o];t.push({id:l.id,type:l.type})}a.dataSourceIdOptions=t,a.queryMetadataByName(a.historyStateData.dataName)},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getDataSourceIDsVPF",[])})},r.prototype.queryMetadataByName=function(a){var n=this;this.dashboardService.queryMetadataByName(a).subscribe(function(t){console.log(t);var i=t.result,o=i.customAccessRights,s=o.toString();n.customAccessRightsOptions=[],n.customAccessRights=[],n.customAccessRightsStr=s;for(var l=0,u=o;l<u.length;l++){var c=u[l];""!=c&&(n.customAccessRightsOptions.push({label:c}),n.customAccessRights.push({label:c}))}for(var p=[],g=0,h=i.accessRights;g<h.length;g++)p.push({label:h[g]});n.form.controls.identifier.setValue(i.identifier),n.form.controls.usernameOfProvider.setValue(i.usernameOfProvider),n.form.controls.emailOfProvider.setValue(i.emailOfProvider),n.form.controls.datasetName.setValue(i.datasetName),n.form.controls.datasetDescription.setValue(i.datasetDescription),n.form.controls.customAccessRights.setValue(n.customAccessRights),n.form.controls.agreementURL.setValue(i.contractAgreementURL),n.form.controls.termsConditionsURL.setValue(i.termsConditionsURL),n.form.controls.copyrightURL.setValue(i.copyrightsURL),n.form.controls.version.setValue(i.version),n.form.controls.industryDomain.setValue({label:i.industryDomain}),n.form.controls.datasetOwner.setValue(i.orgOfOwner),n.form.controls.datasetProvider.setValue(i.orgOfProvider),n.form.controls.dataVolume.setValue(i.dataVolume),n.form.controls.dataVelocity.setValue(i.dataVelocity),n.form.controls.distribution.setValue({label:i.distribution}),n.form.controls.themeCategory.setValue(i.themeCategory),n.form.controls.comments.setValue(i.comments),n.form.controls.accessRights.setValue(p),n.form.controls.endpoint.setValue(i.endpoint),n.form.controls.language.setValue({label:i.language}),n.form.controls.keywordTag.setValue(i.keywordTag),n.form.controls.spatialGeographicCoverage.setValue(i.spatialGeographicCoverage),i.temporalCoverageStart&&n.form.controls.temporalCoverageStart.setValue(new Date(i.temporalCoverageStart)),i.temporalCoverageEnd&&n.form.controls.temporalCoverageEnd.setValue(new Date(i.temporalCoverageEnd)),"true"==i.hasAgent?(n.form.controls.hasAgent.setValue(["yes"]),n.hasAgentChecked=!0):(n.form.controls.hasAgent.setValue([]),n.hasAgentChecked=!1),console.log(i.dataSourceMetadata.dataSourceID),console.log(n.dataSourceIdOptions[1]),n.form.controls.dataSourceID.setValue(i.dataSourceMetadata.dataSourceID?{id:i.dataSourceMetadata.dataSourceID,type:i.dataSourceMetadata.dataSourceType}:n.dataSourceIdOptions[0]),n.identifier=i.identifier,n.usernameOfProvider=i.usernameOfProvider,n.emailOfProvider=i.emailOfProvider,n.datasetName=i.datasetName,n.datasetDescription=i.datasetDescription,n.customAccessRights=i.customAccessRights,n.agreementURL=i.contractAgreementURL,n.agreementHash=i.contractAgreementHash,n.termsConditionsURL=i.termsConditionsURL,n.termsConditionsHash=i.termsConditionsHash,n.copyrightURL=i.copyrightsURL,n.copyrightHash=i.copyrightHash,n.version=i.version,n.industryDomain=i.industryDomain,n.datasetOwner=i.orgOfOwner,n.datasetProvider=i.orgOfProvider,n.datasetOwnerUsername=i.usernameOfOwner,n.dataVolume=i.dataVolume,n.dataVelocity=i.dataVelocity,n.distribution=i.distribution,n.themeCategory=i.themeCategory,n.comments=i.comments,n.accessRights=i.accessRights,n.endpoint=i.endpoint,n.blockchain=i.blockchain,n.language=i.language,n.keywordTag=i.keywordTag,n.spatialGeographicCoverage=i.spatialGeographicCoverage,n.temporalCoverageStart=n.changeDateFormat4(i.temporalCoverageStart),n.temporalCoverageEnd=n.changeDateFormat4(i.temporalCoverageEnd),n.hasAgent=i.hasAgent,n.dataSourceID=i.dataSourceMetadata.dataSourceID,n.fileExists=!!(n.agreementURL||n.termsConditionsURL||n.copyrightURL);var m=n;setTimeout(function(){m.datasetOwnerInit(m.datasetOwner,m.datasetOwnerUsername)},3e3)},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryMetadataByName",a)})},r.prototype.updateMetadata=function(a){var n=this;this.dashboardService.updateMetadata(a).subscribe(function(t){if(console.log(t),"Success"!=t.response)return alert(t.response);n.editStatus=!1,n.queryMetadataByName(n.historyStateData.dataName)},function(t){console.log(t.status),400==t.status?alert("Data error. Check your data for invalid characters."):(401==t.status||403==t.status)&&n.refreshTokens("updateMetadata",a)})},r.prototype.onAccessRightsChange=function(a){var n=a.value,t=n.length;this.rightsArray.length==t+1?(this.form.controls.accessRights.setValue([]),this.rightsArray=[]):(this.rightsArray=n,"modify"==n[t-1].label&&(this.form.controls.accessRights.setValue([{label:"read"},{label:"modify"}]),this.rightsArray=[{label:"read"},{label:"modify"}]),"persist"==n[t-1].label&&(this.form.controls.accessRights.setValue([{label:"read"},{label:"modify"},{label:"persist"}]),this.rightsArray=[{label:"read"},{label:"modify"},{label:"persist"}]))},r.prototype.calculateMD5=function(a){return new Promise(function(n){var t=new FileReader;t.readAsArrayBuffer(a),t.onloadend=function(){var i=CryptoJS.lib.WordArray.create(t.result),o=CryptoJS.MD5(i).toString();n(o)}})},r.prototype.downloadAndCreateHash=function(a,n){var t=this;fetch(document.getElementById(a).value).then(function(i){if(console.log(i),200==i.status)return i.blob()}).then(function(i){return t.calculateMD5(i)}).then(function(i){console.log("Hash of the file is: "+i),"agreementHash"==n&&(t.agreementHash=i),"termsConditionsHash"==n&&(t.termsConditionsHash=i),"copyrightHash"==n&&(t.copyrightHash=i)}).catch(function(i){console.error(i)})},r.prototype.addCustomAccessRight=function(a){a.value&&this.customAccessRightsOptions.push({label:a.value,value:a.value})},r.prototype.onDatasetOwnerChange=function(a){var n=a.value.label;if(null==n&&(this.form.controls.datasetOwnerUsername.setValue("-- Please select --"),this.form.controls.datasetOwnerUsername.disable(),n=a.value),console.log(n),"-- Select or type --"==n)this.userOptions=this.allUserOptions,this.form.controls.datasetOwnerUsername.setValue("-- Please select --"),this.form.controls.datasetOwnerUsername.disable();else{var t=this.organizationOptions;if((t=t.map(function(o){return o.label})).indexOf(n)>=0){var i=this.allUserOptions.filter(function(o){return o.organization==n||"-- Please select --"==o.label});this.userOptions=i,this.form.controls.datasetOwnerUsername.enable()}}},r.prototype.datasetOwnerInit=function(a,n){if(console.log(a),console.log(n),"-- Select or type --"==a||""==a.trim())this.userOptions=this.allUserOptions,this.form.controls.datasetOwnerUsername.setValue("-- Please select --"),this.form.controls.datasetOwnerUsername.disable();else{var t=this.organizationOptions;if((t=t.map(function(o){return o.label})).indexOf(a)>=0){this.form.controls.datasetOwnerUsername.enable();var i=this.allUserOptions.filter(function(o){return o.organization==a||"-- Please select --"==o.label});this.userOptions=i,console.log(n),n&&this.form.controls.datasetOwnerUsername.setValue({label:n,organization:a})}else this.userOptions=this.allUserOptions,this.form.controls.datasetOwnerUsername.setValue("-- Please select --"),this.form.controls.datasetOwnerUsername.disable()}},r.prototype.changeDateFormat4=function(a){return a&&a.substr(8,2)+"/"+a.substr(5,2)+"/"+a.substr(0,4)},r.prototype.onHasAgentChange=function(a){console.log(a.checked),a.checked.length>0?this.hasAgentChecked=!0:(this.hasAgentChecked=!1,this.form.controls.dataSourceID.setValue(this.dataSourceIdOptions[0]))},r.prototype.getClassOfHasAgent=function(a,n){if("true"==a&&(null==n||""==n.trim()))return"missing"},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"getUsers"==a?t.getUsers():"getOrganizations"==a?t.getOrganizations():"queryMetadataByName"==a?t.queryMetadataByName(n):"updateMetadata"==a?t.updateMetadata(n):"getDataSourceIDs"==a?t.getDataSourceIDs():"getDataSourceIDsThPA"==a?t.getDataSourceIDsThPA():"getDataSourceIDsVPF"==a&&t.getDataSourceIDsVPF()},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-my-datasets-details"]],decls:376,vars:136,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[3,"hidden"],[1,"row"],[1,"col-md-4"],[1,"header"],[1,"col-md-4",3,"hidden"],[3,"ngClass"],[1,"row",3,"hidden"],["pButton","","type","button","label","Edit","icon","icon-edit",3,"click"],["novalidate","",3,"formGroup"],[1,"subtitle"],["type","text","formControlName","identifier"],["type","text","formControlName","usernameOfProvider"],["type","text","formControlName","emailOfProvider"],["type","text","formControlName","datasetName"],["type","text","formControlName","datasetDescription"],["type","text","formControlName","agreementURL","id","agreementId"],["type","text","formControlName","termsConditionsURL","id","termsConditionsId"],["type","text","formControlName","copyrightURL","id","copyrightId"],["type","text","formControlName","version"],["formControlName","industryDomain","optionLabel","label",3,"options"],["formControlName","accessRights","optionLabel","label",3,"options","filter","onChange"],["formControlName","customAccessRights",3,"options","filter","panelStyle"],[2,"padding-top","6px","margin-right","8px"],["type","text",2,"width","200px","margin-bottom","4px"],["in",""],["type","text","formControlName","keywordTag"],["type","text","formControlName","endpoint"],["type","text","formControlName","datasetProvider"],["formControlName","datasetOwner","optionLabel","label","editable","true",3,"options","onChange"],["formControlName","datasetOwnerUsername","optionLabel","label",3,"options"],["type","number","formControlName","dataVolume"],["type","number","formControlName","dataVelocity"],["formControlName","distribution","optionLabel","label",3,"options"],["formControlName","language","optionLabel","label",3,"options"],["type","text","formControlName","themeCategory"],["type","text","formControlName","comments"],["type","text","formControlName","spatialGeographicCoverage"],["formControlName","temporalCoverageStart","dateFormat","dd/mm/yy"],["formControlName","temporalCoverageEnd","dateFormat","dd/mm/yy"],["formControlName","hasAgent","value","yes",3,"onChange"],[1,"hasAgentClass"],[4,"ngIf"],["formControlName","dataSourceID","optionLabel","id",3,"style","options","filter",4,"ngIf"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],["pButton","","type","button","label","Undo Changes",3,"click"],["pButton","","type","button","label","Save Changes","icon","icon-save",3,"click"],["formControlName","dataSourceID","optionLabel","id",3,"options","filter"]],template:function(n,t){if(1&n){var i=e.EpF();e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Internal Datasets"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.TgZ(17,"a",4),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",5),e.TgZ(20,"div",6),e.TgZ(21,"div",7),e.TgZ(22,"table"),e.TgZ(23,"tr"),e.TgZ(24,"td",8),e._uU(25,"Identifier"),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.qZA(),e.qZA(),e.TgZ(28,"tr"),e.TgZ(29,"td",8),e._uU(30,"Dataset Provider Username"),e.qZA(),e.TgZ(31,"td"),e._uU(32),e.qZA(),e.qZA(),e.TgZ(33,"tr"),e.TgZ(34,"td",8),e._uU(35,"Dataset Provider E-mail"),e.qZA(),e.TgZ(36,"td"),e._uU(37),e.qZA(),e.qZA(),e.TgZ(38,"tr"),e.TgZ(39,"td",8),e._uU(40,"Dataset Name"),e.qZA(),e.TgZ(41,"td"),e._uU(42),e.qZA(),e.qZA(),e.TgZ(43,"tr"),e.TgZ(44,"td",8),e._uU(45,"Dataset Description"),e.qZA(),e.TgZ(46,"td"),e._uU(47),e.qZA(),e.qZA(),e.TgZ(48,"tr"),e.TgZ(49,"td",8),e._uU(50,"Agreement URL"),e.qZA(),e.TgZ(51,"td"),e._uU(52),e.qZA(),e.qZA(),e.TgZ(53,"tr"),e.TgZ(54,"td",8),e._uU(55,"Agreement Hash (MD5)"),e.qZA(),e.TgZ(56,"td"),e._uU(57),e.qZA(),e.qZA(),e.TgZ(58,"tr"),e.TgZ(59,"td",8),e._uU(60,"Terms and Conditions URL"),e.qZA(),e.TgZ(61,"td"),e._uU(62),e.qZA(),e.qZA(),e.TgZ(63,"tr"),e.TgZ(64,"td",8),e._uU(65,"Terms and Conditions Hash (MD5)"),e.qZA(),e.TgZ(66,"td"),e._uU(67),e.qZA(),e.qZA(),e.TgZ(68,"tr"),e.TgZ(69,"td",8),e._uU(70,"Copyright URL"),e.qZA(),e.TgZ(71,"td"),e._uU(72),e.qZA(),e.qZA(),e.TgZ(73,"tr"),e.TgZ(74,"td",8),e._uU(75,"Copyright Hash (MD5)"),e.qZA(),e.TgZ(76,"td"),e._uU(77),e.qZA(),e.qZA(),e.TgZ(78,"tr"),e.TgZ(79,"td",8),e._uU(80,"Version"),e.qZA(),e.TgZ(81,"td"),e._uU(82),e.qZA(),e.qZA(),e.TgZ(83,"tr"),e.TgZ(84,"td",8),e._uU(85,"Industry Domain"),e.qZA(),e.TgZ(86,"td"),e._uU(87),e.qZA(),e.qZA(),e.TgZ(88,"tr"),e.TgZ(89,"td",8),e._uU(90,"Access Rights"),e.qZA(),e.TgZ(91,"td"),e._uU(92),e.qZA(),e.qZA(),e.TgZ(93,"tr"),e.TgZ(94,"td",8),e._uU(95,"Custom Access Rights"),e.qZA(),e.TgZ(96,"td"),e._uU(97),e.qZA(),e.qZA(),e.TgZ(98,"tr"),e.TgZ(99,"td",8),e._uU(100,"Blockchain"),e.qZA(),e.TgZ(101,"td"),e._uU(102),e.qZA(),e.qZA(),e.TgZ(103,"tr"),e.TgZ(104,"td",8),e._uU(105,"Keyword / Tag"),e.qZA(),e.TgZ(106,"td"),e._uU(107),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(108,"div",9),e.TgZ(109,"table"),e.TgZ(110,"tr"),e.TgZ(111,"td",8),e._uU(112,"Endpoint"),e.qZA(),e.TgZ(113,"td"),e._uU(114),e.qZA(),e.qZA(),e.TgZ(115,"tr"),e.TgZ(116,"td",8),e._uU(117,"Dataset Provider"),e.qZA(),e.TgZ(118,"td"),e._uU(119),e.qZA(),e.qZA(),e.TgZ(120,"tr"),e.TgZ(121,"td",8),e._uU(122,"Dataset Owner"),e.qZA(),e.TgZ(123,"td"),e._uU(124),e.qZA(),e.qZA(),e.TgZ(125,"tr"),e.TgZ(126,"td",8),e._uU(127,"Dataset Owner Username"),e.qZA(),e.TgZ(128,"td"),e._uU(129),e.qZA(),e.qZA(),e.TgZ(130,"tr"),e.TgZ(131,"td",8),e._uU(132,"Data Volume (KiB)"),e.qZA(),e.TgZ(133,"td"),e._uU(134),e.qZA(),e.qZA(),e.TgZ(135,"tr"),e.TgZ(136,"td",8),e._uU(137,"Data Velocity (KiB/sec)"),e.qZA(),e.TgZ(138,"td"),e._uU(139),e.qZA(),e.qZA(),e.TgZ(140,"tr"),e.TgZ(141,"td",8),e._uU(142,"Distribution"),e.qZA(),e.TgZ(143,"td"),e._uU(144),e.qZA(),e.qZA(),e.TgZ(145,"tr"),e.TgZ(146,"td",8),e._uU(147,"Language"),e.qZA(),e.TgZ(148,"td"),e._uU(149),e.qZA(),e.qZA(),e.TgZ(150,"tr"),e.TgZ(151,"td",8),e._uU(152,"Theme / Category"),e.qZA(),e.TgZ(153,"td"),e._uU(154),e.qZA(),e.qZA(),e.TgZ(155,"tr"),e.TgZ(156,"td",8),e._uU(157,"Comments"),e.qZA(),e.TgZ(158,"td"),e._uU(159),e.qZA(),e.qZA(),e.TgZ(160,"tr"),e.TgZ(161,"td",8),e._uU(162,"Spatial Geographic Coverage"),e.qZA(),e.TgZ(163,"td"),e._uU(164),e.qZA(),e.qZA(),e.TgZ(165,"tr"),e.TgZ(166,"td",8),e._uU(167,"Temporal Coverage Start"),e.qZA(),e.TgZ(168,"td"),e._uU(169),e.qZA(),e.qZA(),e.TgZ(170,"tr"),e.TgZ(171,"td",8),e._uU(172,"Temporal Coverage End"),e.qZA(),e.TgZ(173,"td"),e._uU(174),e.qZA(),e.qZA(),e.TgZ(175,"tr"),e.TgZ(176,"td",8),e._uU(177,"Has Agent"),e.qZA(),e.TgZ(178,"td",10),e._uU(179),e.qZA(),e.qZA(),e.TgZ(180,"tr"),e.TgZ(181,"td",8),e._uU(182,"Data Source ID"),e.qZA(),e.TgZ(183,"td"),e._uU(184),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(185,"div",11),e.TgZ(186,"div",7),e._UZ(187,"br"),e.TgZ(188,"table"),e.TgZ(189,"tr"),e.TgZ(190,"td",8),e._uU(191,"Endpoint"),e.qZA(),e.TgZ(192,"td"),e._uU(193),e.qZA(),e.qZA(),e.TgZ(194,"tr"),e.TgZ(195,"td",8),e._uU(196,"Dataset Provider"),e.qZA(),e.TgZ(197,"td"),e._uU(198),e.qZA(),e.qZA(),e.TgZ(199,"tr"),e.TgZ(200,"td",8),e._uU(201,"Dataset Owner"),e.qZA(),e.TgZ(202,"td"),e._uU(203),e.qZA(),e.qZA(),e.TgZ(204,"tr"),e.TgZ(205,"td",8),e._uU(206,"Dataset Owner Username"),e.qZA(),e.TgZ(207,"td"),e._uU(208),e.qZA(),e.qZA(),e.TgZ(209,"tr"),e.TgZ(210,"td",8),e._uU(211,"Data Volume (KiB)"),e.qZA(),e.TgZ(212,"td"),e._uU(213),e.qZA(),e.qZA(),e.TgZ(214,"tr"),e.TgZ(215,"td",8),e._uU(216,"Data Velocity (KiB/sec)"),e.qZA(),e.TgZ(217,"td"),e._uU(218),e.qZA(),e.qZA(),e.TgZ(219,"tr"),e.TgZ(220,"td",8),e._uU(221,"Distribution"),e.qZA(),e.TgZ(222,"td"),e._uU(223),e.qZA(),e.qZA(),e.TgZ(224,"tr"),e.TgZ(225,"td",8),e._uU(226,"Language"),e.qZA(),e.TgZ(227,"td"),e._uU(228),e.qZA(),e.qZA(),e.TgZ(229,"tr"),e.TgZ(230,"td",8),e._uU(231,"Theme / Category"),e.qZA(),e.TgZ(232,"td"),e._uU(233),e.qZA(),e.qZA(),e.TgZ(234,"tr"),e.TgZ(235,"td",8),e._uU(236,"Comments"),e.qZA(),e.TgZ(237,"td"),e._uU(238),e.qZA(),e.qZA(),e.TgZ(239,"tr"),e.TgZ(240,"td",8),e._uU(241,"Spatial Geographic Coverage"),e.qZA(),e.TgZ(242,"td"),e._uU(243),e.qZA(),e.qZA(),e.TgZ(244,"tr"),e.TgZ(245,"td",8),e._uU(246,"Temporal Coverage Start"),e.qZA(),e.TgZ(247,"td"),e._uU(248),e.qZA(),e.qZA(),e.TgZ(249,"tr"),e.TgZ(250,"td",8),e._uU(251,"Temporal Coverage End"),e.qZA(),e.TgZ(252,"td"),e._uU(253),e.qZA(),e.qZA(),e.TgZ(254,"tr"),e.TgZ(255,"td",8),e._uU(256,"Has Agent"),e.qZA(),e.TgZ(257,"td",10),e._uU(258),e.qZA(),e.qZA(),e.TgZ(259,"tr"),e.TgZ(260,"td",8),e._uU(261,"Data Source ID"),e.qZA(),e.TgZ(262,"td"),e._uU(263),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(264,"br"),e._UZ(265,"br"),e.TgZ(266,"button",12),e.NdJ("click",function(){return t.editButton()}),e.qZA(),e.qZA(),e.TgZ(267,"div",5),e.TgZ(268,"form",13),e.TgZ(269,"div",6),e.TgZ(270,"div",7),e.TgZ(271,"h5",14),e._uU(272,"Dataset Details"),e.qZA(),e.TgZ(273,"h6"),e._uU(274,"Identifier *"),e.qZA(),e._UZ(275,"input",15),e.TgZ(276,"h6"),e._uU(277,"Dataset Provider Username *"),e.qZA(),e._UZ(278,"input",16),e.TgZ(279,"h6"),e._uU(280,"Dataset Provider E-mail *"),e.qZA(),e._UZ(281,"input",17),e.TgZ(282,"h6"),e._uU(283,"Dataset Name *"),e.qZA(),e._UZ(284,"input",18),e.TgZ(285,"h6"),e._uU(286,"Dataset Description"),e.qZA(),e._UZ(287,"input",19),e.TgZ(288,"h6"),e._uU(289,"Agreement URL"),e.qZA(),e._UZ(290,"input",20),e.TgZ(291,"h6"),e._uU(292,"Terms and Conditions URL"),e.qZA(),e._UZ(293,"input",21),e.TgZ(294,"h6"),e._uU(295,"Copyright URL"),e.qZA(),e._UZ(296,"input",22),e.TgZ(297,"h6"),e._uU(298,"Version"),e.qZA(),e._UZ(299,"input",23),e.TgZ(300,"h6"),e._uU(301,"Industry Domain *"),e.qZA(),e._UZ(302,"p-dropdown",24),e.TgZ(303,"h6"),e._uU(304,"Access Rights *"),e.qZA(),e.TgZ(305,"p-multiSelect",25),e.NdJ("onChange",function(s){return t.onAccessRightsChange(s)}),e.qZA(),e.TgZ(306,"h6"),e._uU(307,"Custom Access Rights"),e.qZA(),e.TgZ(308,"p-multiSelect",26),e.TgZ(309,"p-header"),e.TgZ(310,"div",27),e._UZ(311,"input",28,29),e.TgZ(313,"button",0),e.NdJ("click",function(){e.CHM(i);var s=e.MAs(312);return t.addCustomAccessRight(s)}),e._uU(314,"Add Right"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(315,"h6"),e._uU(316,"Keyword / Tag"),e.qZA(),e._UZ(317,"input",30),e.qZA(),e.TgZ(318,"div",7),e.TgZ(319,"h5",14),e._uU(320,"Source"),e.qZA(),e.TgZ(321,"h6"),e._uU(322,"Endpoint"),e.qZA(),e._UZ(323,"input",31),e.TgZ(324,"h6"),e._uU(325,"Dataset Provider *"),e.qZA(),e._UZ(326,"input",32),e.TgZ(327,"h6"),e._uU(328,"Dataset Owner *"),e.qZA(),e.TgZ(329,"p-dropdown",33),e.NdJ("onChange",function(s){return t.onDatasetOwnerChange(s)}),e.qZA(),e.TgZ(330,"h6"),e._uU(331,"Dataset Owner Username"),e.qZA(),e._UZ(332,"p-dropdown",34),e.TgZ(333,"h6"),e._uU(334,"Data Volume (KiB)"),e.qZA(),e._UZ(335,"input",35),e.TgZ(336,"h6"),e._uU(337,"Data Velocity (KiB/sec)"),e.qZA(),e._UZ(338,"input",36),e.TgZ(339,"h6"),e._uU(340,"Distribution *"),e.qZA(),e._UZ(341,"p-dropdown",37),e.TgZ(342,"h6"),e._uU(343,"Language *"),e.qZA(),e._UZ(344,"p-dropdown",38),e.TgZ(345,"h6"),e._uU(346,"Theme / Category"),e.qZA(),e._UZ(347,"input",39),e.TgZ(348,"h6"),e._uU(349,"Comments"),e.qZA(),e._UZ(350,"input",40),e.TgZ(351,"h6"),e._uU(352,"Spatial Geographic Coverage"),e.qZA(),e._UZ(353,"input",41),e.TgZ(354,"h6"),e._uU(355,"Temporal Coverage Start"),e.qZA(),e._UZ(356,"p-calendar",42),e.TgZ(357,"h6"),e._uU(358,"Temporal Coverage End"),e.qZA(),e._UZ(359,"p-calendar",43),e._UZ(360,"br"),e.TgZ(361,"p-checkbox",44),e.NdJ("onChange",function(s){return t.onHasAgentChange(s)}),e.qZA(),e.TgZ(362,"span",45),e._uU(363,"Has Agent"),e.qZA(),e._UZ(364,"br"),e.YNc(365,_f,2,0,"h6",46),e.YNc(366,Tf,1,5,"p-dropdown",47),e.qZA(),e.qZA(),e._UZ(367,"br"),e._UZ(368,"br"),e.TgZ(369,"button",48),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e._UZ(370,"br"),e._UZ(371,"br"),e.TgZ(372,"button",49),e.NdJ("click",function(){return t.undoChangesButton()}),e.qZA(),e._UZ(373,"br"),e._UZ(374,"br"),e.TgZ(375,"button",50),e.NdJ("click",function(){return t.saveChangesButton()}),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(105,Cf))("state",e.VKq(106,yt,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(108,Zf))("state",e.VKq(109,yt,t.historyStateData)),e.xp6(1),e.Oqu("Permissions"),e.xp6(1),e.Q6J("routerLink",e.DdM(111,kf))("state",e.VKq(112,yt,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(114,Sf))("state",e.VKq(115,yt,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(117,Af))("state",e.VKq(118,yt,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(120,wf))("state",e.VKq(121,yt,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(123,xf))("state",e.VKq(124,yt,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(1),e.Q6J("hidden",1==t.editStatus),e.xp6(8),e.Oqu(t.identifier),e.xp6(5),e.Oqu(t.usernameOfProvider),e.xp6(5),e.Oqu(t.emailOfProvider),e.xp6(5),e.Oqu(t.datasetName),e.xp6(5),e.Oqu(t.datasetDescription),e.xp6(5),e.Oqu(t.agreementURL),e.xp6(5),e.Oqu(t.agreementHash),e.xp6(5),e.Oqu(t.termsConditionsURL),e.xp6(5),e.Oqu(t.termsConditionsHash),e.xp6(5),e.Oqu(t.copyrightURL),e.xp6(5),e.Oqu(t.copyrightHash),e.xp6(5),e.Oqu(t.version),e.xp6(5),e.Oqu(t.industryDomain),e.xp6(5),e.Oqu(t.accessRights),e.xp6(5),e.Oqu(t.customAccessRightsStr),e.xp6(5),e.Oqu(t.blockchain),e.xp6(5),e.Oqu(t.keywordTag),e.xp6(1),e.Q6J("hidden",1==t.fileExists),e.xp6(6),e.Oqu(t.endpoint),e.xp6(5),e.Oqu(t.datasetProvider),e.xp6(5),e.Oqu(t.datasetOwner),e.xp6(5),e.Oqu(t.datasetOwnerUsername),e.xp6(5),e.Oqu(t.dataVolume),e.xp6(5),e.Oqu(t.dataVelocity),e.xp6(5),e.Oqu(t.distribution),e.xp6(5),e.Oqu(t.language),e.xp6(5),e.Oqu(t.themeCategory),e.xp6(5),e.Oqu(t.comments),e.xp6(5),e.Oqu(t.spatialGeographicCoverage),e.xp6(5),e.Oqu(t.temporalCoverageStart),e.xp6(5),e.Oqu(t.temporalCoverageEnd),e.xp6(4),e.Q6J("ngClass",t.getClassOfHasAgent(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.hasAgent),e.xp6(5),e.Oqu(t.dataSourceID),e.xp6(1),e.Q6J("hidden",0==t.fileExists),e.xp6(8),e.Oqu(t.endpoint),e.xp6(5),e.Oqu(t.datasetProvider),e.xp6(5),e.Oqu(t.datasetOwner),e.xp6(5),e.Oqu(t.datasetOwnerUsername),e.xp6(5),e.Oqu(t.dataVolume),e.xp6(5),e.Oqu(t.dataVelocity),e.xp6(5),e.Oqu(t.distribution),e.xp6(5),e.Oqu(t.language),e.xp6(5),e.Oqu(t.themeCategory),e.xp6(5),e.Oqu(t.comments),e.xp6(5),e.Oqu(t.spatialGeographicCoverage),e.xp6(5),e.Oqu(t.temporalCoverageStart),e.xp6(5),e.Oqu(t.temporalCoverageEnd),e.xp6(4),e.Q6J("ngClass",t.getClassOfHasAgent(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.hasAgent),e.xp6(5),e.Oqu(t.dataSourceID),e.xp6(4),e.Q6J("hidden",0==t.editStatus),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(34),e.Akn(e.DdM(126,Qe)),e.Q6J("options",t.industryDomainOptions),e.xp6(3),e.Akn(e.DdM(127,Qe)),e.Q6J("options",t.accessRightsOptions)("filter",!1),e.xp6(3),e.Akn(e.DdM(128,Qe)),e.Q6J("options",t.customAccessRightsOptions)("filter",!1)("panelStyle",e.DdM(129,Of)),e.xp6(21),e.Akn(e.DdM(130,Qe)),e.Q6J("options",t.organizationOptions),e.xp6(3),e.Akn(e.DdM(131,Qe)),e.Q6J("options",t.userOptions),e.xp6(9),e.Akn(e.DdM(132,Qe)),e.Q6J("options",t.distributionOptions),e.xp6(3),e.Akn(e.DdM(133,Qe)),e.Q6J("options",t.languageOptions),e.xp6(12),e.Akn(e.DdM(134,Qe)),e.xp6(3),e.Akn(e.DdM(135,Qe)),e.xp6(6),e.Q6J("ngIf",t.hasAgentChecked),e.xp6(1),e.Q6J("ngIf",t.hasAgentChecked))},directives:[q.yS,q.Od,I.mk,$.Hq,T._Y,T.JL,T.sg,T.Fj,T.JJ,T.u,ne.Lt,gn,D.h4,T.wV,hn,Ht.XZ,I.O5],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.afterFile[_ngcontent-%COMP%]{margin-top:8px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.header[_ngcontent-%COMP%]{color:#023f88}.missing[_ngcontent-%COMP%]{color:#ee7b30;font-weight:bold}tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}.hasAgentClass[_ngcontent-%COMP%]{color:#023f88;margin-top:3px;margin-left:5px;font-size:1rem;font-weight:500}"]}),r}();function Df(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",40),e.TgZ(1,"div"),e.TgZ(2,"input",41),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(59).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Mf(r,a){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&r){var n=a.$implicit;e.xp6(1),e.Oqu(n)}}function Rf(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",42),e._uU(2,"Username "),e._UZ(3,"p-sortIcon",43),e.qZA(),e.TgZ(4,"th",44),e._uU(5,"First Name "),e._UZ(6,"p-sortIcon",45),e.qZA(),e.TgZ(7,"th",46),e._uU(8,"Last Name "),e._UZ(9,"p-sortIcon",47),e.qZA(),e.TgZ(10,"th",48),e._uU(11,"E-mail "),e._UZ(12,"p-sortIcon",49),e.qZA(),e.TgZ(13,"th",50),e._uU(14,"User Role "),e._UZ(15,"p-sortIcon",51),e.qZA(),e.TgZ(16,"th",52),e._uU(17,"Organization "),e._UZ(18,"p-sortIcon",53),e.qZA(),e.TgZ(19,"th",54),e._UZ(20,"span",55),e._uU(21,"\xa0\xa0 Read "),e._UZ(22,"p-sortIcon",56),e.qZA(),e.TgZ(23,"th",57),e._UZ(24,"span",58),e._uU(25,"\xa0\xa0 Modify "),e._UZ(26,"p-sortIcon",59),e.qZA(),e.TgZ(27,"th",60),e._UZ(28,"span",61),e._uU(29,"\xa0\xa0 Persist "),e._UZ(30,"p-sortIcon",62),e.qZA(),e.YNc(31,Mf,2,1,"th",63),e.qZA()),2&r){var n=e.oxw();e.xp6(31),e.Q6J("ngForOf",n.customAccessRightsPersonalFound)}}function If(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"td",64),e.TgZ(1,"input",69),e.NdJ("ngModelChange",function(s){var u=e.CHM(n).$implicit;return e.oxw().$implicit[u]=s})("click",function(){var l=e.CHM(n).$implicit,u=e.oxw().$implicit;return e.oxw().clickCustom(u,l)}),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw().$implicit;e.xp6(1),e.Tol(t),e.Q6J("ngModel",i[t])}}function Uf(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",64),e.TgZ(14,"input",65),e.NdJ("ngModelChange",function(s){return e.CHM(n).$implicit.readStatus=s})("click",function(){var l=e.CHM(n).$implicit;return e.oxw().changeReadStatus(l)}),e.qZA(),e.qZA(),e.TgZ(15,"td",64),e.TgZ(16,"input",66),e.NdJ("ngModelChange",function(s){return e.CHM(n).$implicit.modifyStatus=s})("click",function(){var l=e.CHM(n).$implicit;return e.oxw().changeModifyStatus(l)}),e.qZA(),e.qZA(),e.TgZ(17,"td",64),e.TgZ(18,"input",67),e.NdJ("ngModelChange",function(s){return e.CHM(n).$implicit.persistStatus=s})("click",function(){var l=e.CHM(n).$implicit;return e.oxw().changePersistStatus(l)}),e.qZA(),e.qZA(),e.YNc(19,If,2,4,"td",68),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.firstName),e.xp6(2),e.Oqu(t.lastName),e.xp6(2),e.Oqu(t.userEmail),e.xp6(2),e.Oqu(t.userRole),e.xp6(2),e.Oqu(t.organization),e.xp6(2),e.Q6J("ngModel",t.readStatus),e.xp6(2),e.Q6J("ngModel",t.modifyStatus),e.xp6(2),e.Q6J("ngModel",t.persistStatus),e.xp6(1),e.Q6J("ngForOf",i.customAccessRightsPersonalFound)}}function Pf(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",40),e.TgZ(1,"div"),e.TgZ(2,"input",41),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(80).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Ef(r,a){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&r){var n=a.$implicit;e.xp6(1),e.Oqu(n)}}function Bf(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",70),e._uU(2,"Organization "),e._UZ(3,"p-sortIcon",53),e.qZA(),e.TgZ(4,"th",71),e._UZ(5,"span",55),e._uU(6,"\xa0\xa0 Read "),e._UZ(7,"p-sortIcon",56),e.qZA(),e.TgZ(8,"th",72),e._UZ(9,"span",58),e._uU(10,"\xa0\xa0 Modify "),e._UZ(11,"p-sortIcon",59),e.qZA(),e.TgZ(12,"th",73),e._UZ(13,"span",61),e._uU(14,"\xa0\xa0 Persist "),e._UZ(15,"p-sortIcon",62),e.qZA(),e.YNc(16,Ef,2,1,"th",63),e.qZA()),2&r){var n=e.oxw();e.xp6(16),e.Q6J("ngForOf",n.customAccessRightsOrgFound)}}function Nf(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"td",64),e.TgZ(1,"input",69),e.NdJ("ngModelChange",function(s){var u=e.CHM(n).$implicit;return e.oxw().$implicit[u.accessRight]=s})("click",function(){var l=e.CHM(n).$implicit,u=e.oxw().$implicit;return e.oxw().clickCustomOrg(u,l.accessRight)}),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw().$implicit;e.xp6(1),e.Tol(t.className),e.Q6J("ngModel",i[t.accessRight])}}function Lf(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",64),e.TgZ(4,"input",74),e.NdJ("ngModelChange",function(s){return e.CHM(n).$implicit.readStatus=s})("click",function(){var l=e.CHM(n).$implicit;return e.oxw().changeReadStatus2(l)}),e.qZA(),e.qZA(),e.TgZ(5,"td",64),e.TgZ(6,"input",75),e.NdJ("ngModelChange",function(s){return e.CHM(n).$implicit.modifyStatus=s})("click",function(){var l=e.CHM(n).$implicit;return e.oxw().changeModifyStatus2(l)}),e.qZA(),e.qZA(),e.TgZ(7,"td",64),e.TgZ(8,"input",76),e.NdJ("ngModelChange",function(s){return e.CHM(n).$implicit.persistStatus=s})("click",function(){var l=e.CHM(n).$implicit;return e.oxw().changePersistStatus2(l)}),e.qZA(),e.qZA(),e.YNc(9,Nf,2,4,"td",68),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.organization),e.xp6(2),e.Q6J("ngModel",t.readStatus),e.xp6(2),e.Q6J("ngModel",t.modifyStatus),e.xp6(2),e.Q6J("ngModel",t.persistStatus),e.xp6(1),e.Q6J("ngForOf",i.customAccessRightsOrg)}}var Ff=function(){return["/dashboard/my-datasets-details"]},_t=function(r){return{data:r}},zf=function(){return["/dashboard/my-datasets-permissions"]},Hf=function(){return["/dashboard/my-datasets-content"]},Vf=function(){return["/dashboard/my-datasets-history"]},Jf=function(){return["/dashboard/my-datasets-datasource-history"]},Yf=function(){return["/dashboard/my-datasets-access-requests-history"]},Qf=function(){return["/dashboard/my-datasets-revoked-access-history"]},Kf=function(){return["username","firstName","lastName","userEmail","userRole","organization"]},$f=function(){return["organization"]},so=function(){return{width:"200px"}},Gf=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.userRoleOptions=[],this.selectedDatasource=[],this.permissionOptions=[],this.permissionOptions2=[],this.rights=[],this.publicPermissions=[],this.publicPermissionsSaved=[],this.publicPermissionsOptions=[],this.rightsArray=[],this.publicCustom=[],this.publicCustomSaved=[],this.publicCustomOptions=[],this.datasource2=[],this.selectedDatasource2=[],this.rights2=[],this.customAccessRightsPersonalFound=[],this.customAccessRightsOrgFound=[],this.customAccessRightsOrg=[]}return r.prototype.ngOnInit=function(){this.selectedTab="1",this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),document.getElementById("revertButton1").style.opacity="0.3",document.getElementById("revertButton2").style.opacity="0.3";var a=document.getElementsByClassName("buttonRevert");if(a[0].disabled=!0,a[1].disabled=!0,history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var n=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(n),console.log(this.historyStateData)}this.querySpecificDatasetPermissionByProvider(this.historyStateData.dataId),this.queryAccessOrgProviderByDatasetName(this.historyStateData.dataId),this.queryPublicDatasetsByDatasetName(this.historyStateData.dataId),this.permissionOptions=[{label:"Read",field:"readStatus",value:"read"},{label:"Modify",field:"modifyStatus",value:"modify"},{label:"Persist",field:"persistStatus",value:"persist"}],this.permissionOptions2=[{label:"Read",field:"readStatus",value:"read"},{label:"Modify",field:"modifyStatus",value:"modify"},{label:"Persist",field:"persistStatus",value:"persist"}],this.publicPermissionsOptions=[{label:"read"},{label:"modify"},{label:"persist"}],this.openTab(this.selectedTab)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/my-datasets"])},r.prototype.onChange=function(a){var n=a.value.label;this.selectedDatasource="All"==n?this.datasource:this.datasource.filter(function(t){return n==t.userRole})},r.prototype.changeReadStatus=function(a){console.log(a),document.getElementById("revertButton1").style.opacity="1",document.getElementsByClassName("buttonRevert")[0].disabled=!1},r.prototype.changeReadStatus2=function(a){console.log(a),document.getElementById("revertButton2").style.opacity="1",document.getElementsByClassName("buttonRevert")[1].disabled=!1},r.prototype.changeModifyStatus=function(a){for(var n=0;n<this.selectedDatasource.length;n++)if(a.username==this.selectedDatasource[n].username){var t=n;1==this.selectedDatasource[t].modifyStatus?(this.selectedDatasource[t].readStatus=0,document.getElementsByClassName("readClass")[t].disabled=!1):(this.selectedDatasource[t].readStatus=1,document.getElementsByClassName("readClass")[t].disabled=!0),document.getElementById("revertButton1").style.opacity="1",document.getElementsByClassName("buttonRevert")[0].disabled=!1}},r.prototype.changeModifyStatus2=function(a){for(var n=0;n<this.selectedDatasource2.length;n++)if(a.username==this.selectedDatasource2[n].username){var t=n;1==this.selectedDatasource2[t].modifyStatus?(this.selectedDatasource2[t].readStatus=0,document.getElementsByClassName("readClass2")[t].disabled=!1):(this.selectedDatasource2[t].readStatus=1,document.getElementsByClassName("readClass2")[t].disabled=!0),document.getElementById("revertButton2").style.opacity="1",document.getElementsByClassName("buttonRevert")[1].disabled=!1}},r.prototype.changePersistStatus=function(a){for(var n=0;n<this.selectedDatasource.length;n++)if(a.username==this.selectedDatasource[n].username){var t=n;1==this.selectedDatasource[t].persistStatus?(this.selectedDatasource[t].readStatus=0,document.getElementsByClassName("readClass")[t].disabled=!1,this.selectedDatasource[t].modifyStatus=0,document.getElementsByClassName("modifyClass")[t].disabled=!1):(this.selectedDatasource[t].readStatus=1,document.getElementsByClassName("readClass")[t].disabled=!0,this.selectedDatasource[t].modifyStatus=1,document.getElementsByClassName("modifyClass")[t].disabled=!0)}document.getElementById("revertButton1").style.opacity="1",document.getElementsByClassName("buttonRevert")[0].disabled=!1},r.prototype.changePersistStatus2=function(a){for(var n=0;n<this.selectedDatasource2.length;n++)if(a.username==this.selectedDatasource2[n].username){var t=n;1==this.selectedDatasource2[t].persistStatus?(this.selectedDatasource2[t].readStatus=0,document.getElementsByClassName("readClass2")[t].disabled=!1,this.selectedDatasource2[t].modifyStatus=0,document.getElementsByClassName("modifyClass2")[t].disabled=!1):(this.selectedDatasource2[t].readStatus=1,document.getElementsByClassName("readClass2")[t].disabled=!0,this.selectedDatasource2[t].modifyStatus=1,document.getElementsByClassName("modifyClass2")[t].disabled=!0),document.getElementById("revertButton2").style.opacity="1",document.getElementsByClassName("buttonRevert")[1].disabled=!1}},r.prototype.clickCustom=function(a,n){console.log("clickCustom"),console.log(a),console.log(n),document.getElementById("revertButton1").style.opacity="1",document.getElementsByClassName("buttonRevert")[0].disabled=!1},r.prototype.clickCustomOrg=function(a,n){console.log("clickCustomOrg"),console.log(n),document.getElementById("revertButton2").style.opacity="1",document.getElementsByClassName("buttonRevert")[1].disabled=!1},r.prototype.revoke=function(){for(var a=0;a<this.selectedDatasource.length;a++)if(this.selectedDatasource[a].userRole==this.selectedUserRoles.label||"All"==this.selectedUserRoles.label){if("Modify"==this.selectedPermission.label)this.selectedDatasource[a].modifyStatus&&(document.getElementsByClassName("readClass")[a].disabled=!1,this.selectedDatasource[a].persistStatus=!1,document.getElementsByClassName("modifyClass")[a].disabled=!1);else if("Persist"==this.selectedPermission.label)this.selectedDatasource[a].persistStatus&&(document.getElementsByClassName("readClass")[a].disabled=!0,document.getElementsByClassName("modifyClass")[a].disabled=!1);else if("Read"==this.selectedPermission.label){if(this.selectedDatasource[a].readStatus){document.getElementsByClassName("readClass")[a].disabled=!1,this.selectedDatasource[a].persistStatus&&(document.getElementsByClassName("modifyClass")[a].disabled=!1),this.selectedDatasource[a].modifyStatus=!1,this.selectedDatasource[a].persistStatus=!1;for(var i=0,o=this.customAccessRightsPersonalFound;i<o.length;i++)this.selectedDatasource[a][s=o[i]]=!1}}else this.selectedDatasource[a][this.selectedPermission.label]&&(this.selectedDatasource[a][this.selectedPermission.label]=0);this.selectedDatasource[a][this.selectedPermission.field]=0}for(var l=0,u=this.datasource;l<u.length;l++){var s;((s=u[l]).userRole==this.selectedUserRoles.label||"All"==this.selectedUserRoles.label)&&(s[this.selectedPermission.field]=0)}document.getElementById("revertButton1").style.opacity="1",document.getElementsByClassName("buttonRevert")[0].disabled=!1},r.prototype.revoke2=function(){for(var a=0;a<this.selectedDatasource2.length;a++){if("Modify"==this.selectedPermission2.label)this.selectedDatasource2[a].modifyStatus&&(document.getElementsByClassName("readClass2")[a].disabled=!1,this.selectedDatasource2[a].persistStatus=!1,document.getElementsByClassName("modifyClass2")[a].disabled=!1);else if("Persist"==this.selectedPermission2.label)this.selectedDatasource2[a].persistStatus&&(document.getElementsByClassName("readClass2")[a].disabled=!0,document.getElementsByClassName("modifyClass2")[a].disabled=!1);else if("Read"==this.selectedPermission2.label){if(this.selectedDatasource2[a].readStatus){document.getElementsByClassName("readClass2")[a].disabled=!1,this.selectedDatasource2[a].persistStatus&&(document.getElementsByClassName("modifyClass2")[a].disabled=!1),this.selectedDatasource2[a].modifyStatus=!1,this.selectedDatasource2[a].persistStatus=!1;for(var i=0,o=this.customAccessRightsOrgFound;i<o.length;i++)this.selectedDatasource2[a][o[i]]=!1}}else this.selectedDatasource2[a][this.selectedPermission2.label]&&(this.selectedDatasource2[a][this.selectedPermission2.label]=0);this.selectedDatasource2[a][this.selectedPermission2.field]=0}for(var l=0,u=this.datasource2;l<u.length;l++)u[l][this.selectedPermission2.field]=0;document.getElementById("revertButton2").style.opacity="1",document.getElementsByClassName("buttonRevert")[1].disabled=!1},r.prototype.saveChanges=function(){for(var a=0;a<this.datasource.length;a++){var n="";0==this.datasource[a].persistStatus&&this.datasource[a].persistStatus!=this.rights[a].persistStatus&&(n="persist"),0==this.datasource[a].modifyStatus&&this.datasource[a].modifyStatus!=this.rights[a].modifyStatus&&(n="modify"),0==this.datasource[a].readStatus&&this.datasource[a].readStatus!=this.rights[a].readStatus&&(n="read");for(var t=[],i=0,o=this.customAccessRightsPersonalFound;i<o.length;i++)0==this.datasource[a][s=o[i]]&&this.datasource[a][s]!=this.rights[a][s]&&t.push(s);if("read"==n)for(var l=0,u=this.customAccessRightsPersonalFound;l<u.length;l++){var s;this.datasource[a][s=u[l]]!=this.rights[a][s]&&t.push(s)}if(n||t.length>0){var c={datasetname:this.historyStateData.dataId,permission:n,usernameOfConsumer:this.datasource[a].username,customAccessRights:t};console.log("revokeAccess: "),console.log(c),this.revokeAccess(c),document.getElementById("revertButton1").style.opacity="0.3",document.getElementsByClassName("buttonRevert")[0].disabled=!0}}},r.prototype.saveChanges2=function(){for(var a=0;a<this.datasource2.length;a++){var n="";0==this.datasource2[a].persistStatus&&this.datasource2[a].persistStatus!=this.rights2[a].persistStatus&&(n="persist"),0==this.datasource2[a].modifyStatus&&this.datasource2[a].modifyStatus!=this.rights2[a].modifyStatus&&(n="modify"),0==this.datasource2[a].readStatus&&this.datasource2[a].readStatus!=this.rights2[a].readStatus&&(n="read");for(var t=[],i=0,o=this.customAccessRightsOrgFound;i<o.length;i++)0==this.datasource2[a][s=o[i]]&&this.datasource2[a][s]!=this.rights2[a][s]&&t.push(s);if("read"==n)for(var l=0,u=this.customAccessRightsOrgFound;l<u.length;l++){var s;this.datasource2[a][s=u[l]]!=this.rights2[a][s]&&t.push(s)}if(n||t.length>0){var c={datasetname:this.historyStateData.dataId,permission:n,authOrganization:this.datasource2[a].organization,customAccessRights:t};console.log("revokeAccessOrg: "),console.log(c),this.revokeAccessOrg(c),document.getElementById("revertButton2").style.opacity="0.3",document.getElementsByClassName("buttonRevert")[1].disabled=!0}}},r.prototype.querySpecificDatasetPermissionByProvider=function(a){var n=this;this.dashboardService.querySpecificDatasetPermissionByProvider(a).subscribe(function(t){console.log(t);var i=t.result;console.log(i);for(var o=0;o<i.length;o++){var s={index:o,username:i[o].Record.users.username,firstName:i[o].Record.users.name,lastName:i[o].Record.users.surname,userEmail:i[o].Record.users.email,userRole:i[o].Record.users.role,organization:i[o].Record.users.organization,customAccessRights:i[o].Record.users.customAccessRights,readStatus:0,modifyStatus:0,persistStatus:0};n.rights.push({readStatus:0,modifyStatus:0,persistStatus:0}),i[o].Record.users.permission.indexOf("read")>=0&&(s.readStatus=1,n.rights[o].readStatus=1),i[o].Record.users.permission.indexOf("modify")>=0&&(s.modifyStatus=1,n.rights[o].modifyStatus=1),i[o].Record.users.permission.indexOf("persist")>=0&&(s.persistStatus=1,n.rights[o].persistStatus=1),n.datasource.push(s)}var l=[];for(o=0;o<i.length;o++)for(var u=0,c=i[o].Record.users.customAccessRights;u<c.length;u++)l.push(d=c[u]);l=l.filter(function(U,P,L){return L.indexOf(U)===P}),n.customAccessRightsPersonalFound=l;for(var p=0,g=l;p<g.length;p++){var d=g[p];for(o=0;o<n.datasource.length;o++)n.datasource[o][d]=0}for(var h=0,f=l;h<f.length;h++)for(d=f[h],o=0;o<n.rights.length;o++)n.rights[o][d]=0;for(var m=0,v=l;m<v.length;m++)for(d=v[m],o=0;o<n.datasource.length;o++)n.datasource[o].customAccessRights.indexOf(d)>=0&&(n.datasource[o][d]=1,n.rights[o][d]=1);console.log("customAccessRights"),console.log(l);var b=n.datasource.map(function(U){return U.userRole});b=b.filter(function(U,P,L){return L.indexOf(U)===P}),n.userRoleOptions=[{label:"All"}];for(var y=0,_=b;y<_.length;y++)n.userRoleOptions.push({label:d=_[y]});n.selectedDatasource=n.datasource,n.selectedUserRoles=n.userRoleOptions[0],n.selectedPermission=n.permissionOptions[0];var C=[];if(n.selectedDatasource.length>0)for(var Z=0,S=n.selectedDatasource;Z<S.length;Z++)(d=S[Z]).readStatus&&C.push("read"),d.modifyStatus&&C.push("modify"),d.persistStatus&&C.push("persist");else document.getElementById("revokeButton").style.opacity="0.3",document.getElementsByClassName("buttonRevoke")[0].disabled=!0;var x=n.permissionOptions;if(x=x.filter(function(U){return C.indexOf(U.value)>=0}),l.length>0)for(var w=0,O=l;w<O.length;w++)x.push({label:d=O[w],field:d+"Status",value:d});console.log(x),n.permissionOptions=x,n.selectedPermission=n.permissionOptions[0],n.queryMetadataByName(n.historyStateData.dataId)},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("querySpecificDatasetPermissionByProvider",a)})},r.prototype.queryAccessOrgProviderByDatasetName=function(a){var n=this;this.dashboardService.queryAccessOrgProviderByDatasetName(a).subscribe(function(t){console.log(t);var i=t.result;console.log(i);for(var o=0;o<i.length;o++){var s={index:o,organization:i[o].Record.organization,customAccessRights:i[o].Record.customAccessRights,readStatus:0,modifyStatus:0,persistStatus:0};n.rights2.push({readStatus:0,modifyStatus:0,persistStatus:0}),i[o].Record.permission.indexOf("read")>=0&&(s.readStatus=1,n.rights2[o].readStatus=1),i[o].Record.permission.indexOf("modify")>=0&&(s.modifyStatus=1,n.rights2[o].modifyStatus=1),i[o].Record.permission.indexOf("persist")>=0&&(s.persistStatus=1,n.rights2[o].persistStatus=1),n.datasource2.push(s),n.selectedDatasource2.push(s)}var l=[];for(o=0;o<i.length;o++)for(var u=0,c=i[o].Record.customAccessRights;u<c.length;u++)l.push(d=c[u]);l=l.filter(function(O,U,P){return P.indexOf(O)===U}),n.customAccessRightsOrgFound=l,n.customAccessRightsOrg=[];for(var p=0,g=l;p<g.length;p++)n.customAccessRightsOrg.push(s={accessRight:d=g[p],className:d+"Org"});for(var h=0,f=l;h<f.length;h++){var d=f[h];for(o=0;o<n.datasource2.length;o++)n.datasource2[o][d]=0}for(var m=0,v=l;m<v.length;m++)for(d=v[m],o=0;o<n.rights2.length;o++)n.rights2[o][d]=0;for(var b=0,y=l;b<y.length;b++)for(d=y[b],o=0;o<n.datasource2.length;o++)n.datasource2[o].customAccessRights.indexOf(d)>=0&&(n.datasource2[o][d]=1,n.rights2[o][d]=1);console.log("customAccessRights"),console.log(l);var _=[];if(n.selectedDatasource2.length>0)for(var C=0,Z=n.selectedDatasource2;C<Z.length;C++)(d=Z[C]).readStatus&&_.push("read"),d.modifyStatus&&_.push("modify"),d.persistStatus&&_.push("persist");else document.getElementById("revokeButton2").style.opacity="0.3",document.getElementsByClassName("buttonRevoke")[1].disabled=!0;var A=n.permissionOptions2;if(A=A.filter(function(O){return _.indexOf(O.value)>=0}),l.length>0)for(var x=0,w=l;x<w.length;x++)A.push({label:d=w[x],field:d+"Status",value:d});console.log(A),n.permissionOptions2=A,n.selectedPermission2=n.permissionOptions2[0],n.queryMetadataByName(n.historyStateData.dataId)},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryAccessOrgProviderByDatasetName",a)})},r.prototype.queryMetadataByName=function(a){var n=this;this.dashboardService.queryMetadataByName(a).subscribe(function(t){console.log(t);var i=t.result,o=i.accessRights;if("3"==n.selectedTab){n.publicPermissionsOptions=n.publicPermissionsOptions.filter(function(A){return o.indexOf(A.label)>=0});for(var l=[],u=0,c=i.customAccessRights;u<c.length;u++)l.push({label:d=c[u]});n.publicCustomOptions=l}else{if(o.indexOf("read")<0){for(var p=document.getElementsByClassName("readClass"),g=0;g<p.length;g++)p[g].disabled=!0;var h=document.getElementsByClassName("readClass2");for(g=0;g<h.length;g++)h[g].disabled=!0}if(o.indexOf("modify")<0){var f=document.getElementsByClassName("modifyClass");for(g=0;g<f.length;g++)f[g].disabled=!0;var m=document.getElementsByClassName("modifyClass2");for(g=0;g<m.length;g++)m[g].disabled=!0}if(o.indexOf("persist")<0){var v=document.getElementsByClassName("persistClass");for(g=0;g<v.length;g++)v[g].disabled=!0;var b=document.getElementsByClassName("persistClass2");for(g=0;g<b.length;g++)b[g].disabled=!0}for(g=0;g<n.selectedDatasource.length;g++){n.selectedDatasource[g].modifyStatus?(p=document.getElementsByClassName("readClass"))[g].disabled=!0:(f=document.getElementsByClassName("modifyClass"))[g].disabled=!0,n.selectedDatasource[g].persistStatus?((p=document.getElementsByClassName("readClass"))[g].disabled=!0,(f=document.getElementsByClassName("modifyClass"))[g].disabled=!0):(v=document.getElementsByClassName("persistClass"))[g].disabled=!0;for(var y=0,_=n.customAccessRightsPersonalFound;y<_.length;y++)0==n.selectedDatasource[g][d=_[y]]&&(document.getElementsByClassName(d)[g].disabled=!0)}for(g=0;g<n.selectedDatasource2.length;g++){n.selectedDatasource2[g].modifyStatus?(h=document.getElementsByClassName("readClass2"))[g].disabled=!0:(m=document.getElementsByClassName("modifyClass2"))[g].disabled=!0,n.selectedDatasource2[g].persistStatus?((h=document.getElementsByClassName("readClass2"))[g].disabled=!0,(m=document.getElementsByClassName("modifyClass2"))[g].disabled=!0):(b=document.getElementsByClassName("persistClass2"))[g].disabled=!0;for(var Z=0,S=n.customAccessRightsOrg;Z<S.length;Z++){var d;0==n.selectedDatasource2[g][d=S[Z]]&&(document.getElementsByClassName(d.className)[g].disabled=!0)}}}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryMetadataByName",a)})},r.prototype.revokeAccess=function(a){var n=this;this.dashboardService.revokeAccess(a).subscribe(function(t){console.log(t),n.datasource=[],n.selectedDatasource=[],n.querySpecificDatasetPermissionByProvider(n.historyStateData.dataId)})},r.prototype.revokeAccessOrg=function(a){var n=this;this.dashboardService.revokeAccessOrg(a).subscribe(function(t){console.log(t),n.datasource2=[],n.selectedDatasource2=[],n.queryAccessOrgProviderByDatasetName(n.historyStateData.dataId)},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("revokeAccessOrg",a)})},r.prototype.revert=function(){this.datasource=[],this.selectedDatasource=[],this.querySpecificDatasetPermissionByProvider(this.historyStateData.dataId),document.getElementById("revertButton1").style.opacity="0.3",document.getElementsByClassName("buttonRevert")[0].disabled=!0},r.prototype.revert2=function(){this.datasource2=[],this.selectedDatasource2=[],this.queryAccessOrgProviderByDatasetName(this.historyStateData.dataId),document.getElementById("revertButton2").style.opacity="0.3",document.getElementsByClassName("buttonRevert")[1].disabled=!0},r.prototype.openTab=function(a){var n,t,i;for(this.selectedTab=a,"3"==a&&this.queryMetadataByName(this.historyStateData.dataId),t=document.getElementsByClassName("tabcontent"),n=0;n<t.length;n++)t[n].style.display="none";for(i=document.getElementsByClassName("tablinks"),n=0;n<i.length;n++)i[n].className=i[n].className.replace(" active","");document.getElementById(a).style.display="block",document.getElementById("button"+a).classList.add("active")},r.prototype.setDatasetPublic=function(a){var n=this;this.dashboardService.setDatasetPublic(a).subscribe(function(t){console.log(t),n.queryPublicDatasetsByDatasetName(n.historyStateData.dataId)},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("setDatasetPublic",a)})},r.prototype.revokeDatasetPublic=function(a){var n=this;this.dashboardService.revokeDatasetPublic(a).subscribe(function(t){console.log(t),n.queryPublicDatasetsByDatasetName(n.historyStateData.dataId)},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("revokeDatasetPublic",a)})},r.prototype.onPublicPermissionsChange=function(a){var n=a.value,t=n.length;this.rightsArray.length==t+1?(this.publicPermissions=[],this.rightsArray=[]):(this.rightsArray=n,"modify"==n[t-1].label&&(this.publicPermissions=[{label:"read"},{label:"modify"}],this.rightsArray=[{label:"read"},{label:"modify"}]),"persist"==n[t-1].label&&(this.publicPermissions=[{label:"read"},{label:"modify"},{label:"persist"}],this.rightsArray=[{label:"read"},{label:"modify"},{label:"persist"}]))},r.prototype.setDatasetPublicFunction=function(a,n){console.log("setDatasetPublicFunction"+a+n),this.setDatasetPublic({datasetname:this.historyStateData.dataId,permission:a,customAccessRights:n})},r.prototype.revokeDatasetPublicFunction=function(a,n){console.log("revokeDatasetPublicFunction"+a+n),this.revokeDatasetPublic({datasetname:this.historyStateData.dataId,permission:a,customAccessRights:n})},r.prototype.savePublicPermissionsButton=function(){var a=this;console.log("savePublicPermissionsButton");for(var n=this.publicCustomSaved.map(function(g){return g.label}),t=this.publicCustom.map(function(g){return g.label}),i=[],o=[],s=0,l=t;s<l.length;s++)n.indexOf(u=l[s])<0&&i.push(u);for(var c=0,d=n;c<d.length;c++){var u;t.indexOf(u=d[c])<0&&o.push(u)}var p=this.publicPermissions.map(function(g){return g.label});if(this.publicPermissionsSaved.length==p.length)i.length>0&&(this.publicPermissionsSaved.indexOf("read")<0?this.setDatasetPublicFunction("read",i):this.setDatasetPublicFunction("",i)),setTimeout(function(){o.length>0&&a.revokeDatasetPublicFunction("",o)},3e3);else if(this.publicPermissionsSaved.length<p.length){if(console.log("more permissions"),console.log(p),p.indexOf("persist")>=0)return this.setDatasetPublicFunction("persist",i),void setTimeout(function(){o.length>0&&a.revokeDatasetPublicFunction("",o)},3e3);if(p.indexOf("modify")>=0)return this.setDatasetPublicFunction("modify",i),void setTimeout(function(){o.length>0&&a.revokeDatasetPublicFunction("",o)},3e3);if(p.indexOf("read")>=0)return this.setDatasetPublicFunction("read",i),void setTimeout(function(){o.length>0&&a.revokeDatasetPublicFunction("",o)},3e3)}else if(this.publicPermissionsSaved.length>p.length){if(console.log("less permissions"),p.indexOf("read")<0)return void this.revokeDatasetPublicFunction("read",n);if(p.indexOf("modify")<0)return this.revokeDatasetPublicFunction("modify",o),void setTimeout(function(){i.length>0&&a.setDatasetPublicFunction("",i)},3e3);if(p.indexOf("persist")<0)return this.revokeDatasetPublicFunction("persist",o),void setTimeout(function(){i.length>0&&a.setDatasetPublicFunction("",i)},3e3)}},r.prototype.queryPublicDatasetsByDatasetName=function(a){var n=this;this.dashboardService.queryPublicDatasetsByDatasetName(a).subscribe(function(t){console.log(t);var i=t.result[0],o=[];i&&i.Record.permission&&(o=i.Record.permission);for(var s=[],l=0,u=o;l<u.length;l++)s.push({label:u[l]});n.publicPermissionsSaved=s,n.publicPermissions=s;var d=[];i&&i.Record.customAccessRights&&(d=i.Record.customAccessRights);for(var p=[],g=0,h=d;g<h.length;g++)p.push({label:h[g]});n.publicCustomSaved=p,n.publicCustom=p},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryPublicDatasetsByDatasetName",a)})},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"querySpecificDatasetPermissionByProvider"==a?t.querySpecificDatasetPermissionByProvider(n):"queryAccessOrgProviderByDatasetName"==a?t.queryAccessOrgProviderByDatasetName(n):"queryMetadataByName"==a?t.queryMetadataByName(n):"revokeAccessOrg"==a?t.revokeAccessOrg(n):"setDatasetPublic"==a?t.setDatasetPublic(n):"revokeDatasetPublic"==a?t.revokeDatasetPublic(n):"queryPublicDatasetsByDatasetName"==a&&t.queryPublicDatasetsByDatasetName(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-my-datasets-permissions"]],decls:94,vars:76,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"tab"],["id","button1",1,"tablinks",3,"click"],["id","button2",1,"tablinks",3,"click"],["id","button3",1,"tablinks",3,"click"],["id","1",1,"tabcontent"],[1,"card"],[2,"text-align","right"],["pButton","","type","button","id","revertButton1","label","Revert","icon","icon-revert",1,"buttonRevert",3,"click"],["pButton","","type","button","label","Save Changes","icon","icon-save",1,"buttonDataports",3,"click"],[1,"row"],[1,"col-md-6"],[1,"revokeDiv"],[1,"col-md-4"],[1,"dropdownLabel"],["optionLabel","label",3,"options","ngModel","ngModelChange"],["pButton","","type","button","id","revokeButton","label","Revoke","icon","icon-revoke",1,"buttonRevoke",3,"click"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","32px","margin-left","15px"],[1,"icon-filters"],["optionLabel","label",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["id","2",1,"tabcontent"],["pButton","","type","button","id","revertButton2","label","Revert","icon","icon-revert",1,"buttonRevert",3,"click"],[1,"col-md-9"],[1,"col-md-3"],[1,"revokeDiv2"],["pButton","","type","button","id","revokeButton2","label","Revoke","icon","icon-revoke",1,"buttonRevoke",3,"click"],["dt2",""],["id","3",1,"tabcontent"],["optionLabel","label",3,"options","filter","ngModel","ngModelChange","onChange"],["optionLabel","label",3,"options","filter","ngModel","ngModelChange"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th12","pResizableColumn","","pSortableColumn","firstName"],["field","firstName"],["id","th13","pResizableColumn","","pSortableColumn","lastName"],["field","lastName"],["id","th14","pResizableColumn","","pSortableColumn","userEmail"],["field","userEmail"],["id","th15","pResizableColumn","","pSortableColumn","userRole"],["field","userRole"],["id","th16","pResizableColumn","","pSortableColumn","organization"],["field","organization"],["id","th17","pResizableColumn","","pSortableColumn","readStatus",2,"color","#023F88","text-align","center"],[1,"icon-read"],["field","readStatus"],["id","th18","pResizableColumn","","pSortableColumn","modifyStatus",2,"color","#023F88","text-align","center"],[1,"icon-write"],["field","modifyStatus"],["id","th19","pResizableColumn","","pSortableColumn","persistStatus",2,"color","#023F88","text-align","center"],[1,"icon-share"],["field","persistStatus"],[4,"ngFor","ngForOf"],[2,"text-align","center"],["type","checkbox",1,"readClass",3,"ngModel","ngModelChange","click"],["type","checkbox",1,"modifyClass",3,"ngModel","ngModelChange","click"],["type","checkbox",1,"persistClass",3,"ngModel","ngModelChange","click"],["style","text-align: center;",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","ngModelChange","click"],["id","th21","pResizableColumn","","pSortableColumn","organization"],["id","th22","pResizableColumn","","pSortableColumn","readStatus",2,"color","#023F88","text-align","center"],["id","th23","pResizableColumn","","pSortableColumn","modifyStatus",2,"color","#023F88","text-align","center"],["id","th24","pResizableColumn","","pSortableColumn","persistStatus",2,"color","#023F88","text-align","center"],["type","checkbox",1,"readClass2",3,"ngModel","ngModelChange","click"],["type","checkbox",1,"modifyClass2",3,"ngModel","ngModelChange","click"],["type","checkbox",1,"persistClass2",3,"ngModel","ngModelChange","click"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Internal Datasets"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.TgZ(17,"a",4),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",5),e.TgZ(20,"button",6),e.NdJ("click",function(){return t.openTab("1")}),e._uU(21,"Personal"),e.qZA(),e.TgZ(22,"button",7),e.NdJ("click",function(){return t.openTab("2")}),e._uU(23,"Organizational"),e.qZA(),e.TgZ(24,"button",8),e.NdJ("click",function(){return t.openTab("3")}),e._uU(25,"Public"),e.qZA(),e.qZA(),e.TgZ(26,"div",9),e.TgZ(27,"div",10),e.TgZ(28,"div",11),e.TgZ(29,"button",12),e.NdJ("click",function(){return t.revert()}),e.qZA(),e._uU(30," \xa0 "),e.TgZ(31,"button",13),e.NdJ("click",function(){return t.saveChanges()}),e.qZA(),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"div",14),e._UZ(34,"div",15),e.TgZ(35,"div",15),e.TgZ(36,"div",16),e.TgZ(37,"div",14),e.TgZ(38,"div",17),e.TgZ(39,"h6",18),e._uU(40,"Permission:"),e.qZA(),e.TgZ(41,"p-dropdown",19),e.NdJ("ngModelChange",function(o){return t.selectedPermission=o}),e.qZA(),e.qZA(),e.TgZ(42,"div",17),e.TgZ(43,"h6",18),e._uU(44,"User role:"),e.qZA(),e.TgZ(45,"p-dropdown",19),e.NdJ("ngModelChange",function(o){return t.selectedUserRoles=o}),e.qZA(),e.qZA(),e.TgZ(46,"div",17),e._UZ(47,"br"),e.TgZ(48,"button",20),e.NdJ("click",function(){return t.revoke()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",14),e.TgZ(50,"div",21),e.TgZ(51,"h6",22),e._UZ(52,"span",23),e._uU(53,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(54,"div",21),e.TgZ(55,"h6",18),e._uU(56,"Role:"),e.qZA(),e.TgZ(57,"p-dropdown",24),e.NdJ("ngModelChange",function(o){return t.selectedUserRole=o})("onChange",function(o){return t.onChange(o)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"p-table",25,26),e.YNc(60,Df,4,3,"ng-template",27),e.YNc(61,Rf,32,1,"ng-template",28),e.YNc(62,Uf,20,10,"ng-template",29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",30),e.TgZ(64,"div",10),e.TgZ(65,"div",11),e.TgZ(66,"button",31),e.NdJ("click",function(){return t.revert2()}),e.qZA(),e._uU(67," \xa0 "),e.TgZ(68,"button",13),e.NdJ("click",function(){return t.saveChanges2()}),e.qZA(),e.qZA(),e._UZ(69,"br"),e.TgZ(70,"div",14),e._UZ(71,"div",32),e.TgZ(72,"div",33),e.TgZ(73,"div",34),e.TgZ(74,"h6",18),e._uU(75,"Permission:"),e.qZA(),e.TgZ(76,"p-dropdown",19),e.NdJ("ngModelChange",function(o){return t.selectedPermission2=o}),e.qZA(),e._uU(77," \xa0 \xa0 \xa0 \xa0 \xa0 "),e.TgZ(78,"button",35),e.NdJ("click",function(){return t.revoke2()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(79,"p-table",25,36),e.YNc(81,Pf,4,3,"ng-template",27),e.YNc(82,Bf,17,1,"ng-template",28),e.YNc(83,Lf,10,5,"ng-template",29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(84,"div",37),e.TgZ(85,"h6"),e._uU(86,"Dataset public permissions"),e.qZA(),e.TgZ(87,"p-multiSelect",38),e.NdJ("ngModelChange",function(o){return t.publicPermissions=o})("onChange",function(o){return t.onPublicPermissionsChange(o)}),e.qZA(),e.TgZ(88,"h6"),e._uU(89,"Public custom rights"),e.qZA(),e.TgZ(90,"p-multiSelect",39),e.NdJ("ngModelChange",function(o){return t.publicCustom=o}),e.qZA(),e._UZ(91,"br"),e._UZ(92,"br"),e.TgZ(93,"button",13),e.NdJ("click",function(){return t.savePublicPermissionsButton()}),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(51,Ff))("state",e.VKq(52,_t,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(54,zf))("state",e.VKq(55,_t,t.historyStateData)),e.xp6(1),e.Oqu("Permissions"),e.xp6(1),e.Q6J("routerLink",e.DdM(57,Hf))("state",e.VKq(58,_t,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(60,Vf))("state",e.VKq(61,_t,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(63,Jf))("state",e.VKq(64,_t,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(66,Yf))("state",e.VKq(67,_t,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(69,Qf))("state",e.VKq(70,_t,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(23),e.Q6J("options",t.permissionOptions)("ngModel",t.selectedPermission),e.xp6(4),e.Q6J("options",t.userRoleOptions)("ngModel",t.selectedUserRoles),e.xp6(12),e.Q6J("options",t.userRoleOptions)("ngModel",t.selectedUserRole),e.xp6(1),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(72,Kf)),e.xp6(18),e.Q6J("options",t.permissionOptions2)("ngModel",t.selectedPermission2),e.xp6(3),e.Q6J("value",t.selectedDatasource2)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(73,$f)),e.xp6(8),e.Akn(e.DdM(74,so)),e.Q6J("options",t.publicPermissionsOptions)("filter",!1)("ngModel",t.publicPermissions),e.xp6(3),e.Akn(e.DdM(75,so)),e.Q6J("options",t.publicCustomOptions)("filter",!1)("ngModel",t.publicCustom))},directives:[q.yS,q.Od,$.Hq,ne.Lt,T.JJ,T.On,N,D.jx,gn,j,re,ae,ie,I.sg,T.Wl],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px}.buttonDataports[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{display:none;padding:6px 12px;border:1px solid #ccc;border-top:none}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.revokeDiv[_ngcontent-%COMP%]{border-color:#d3d3d3;border-style:solid;border-radius:5px;padding:3px;margin:3px}.revokeDiv2[_ngcontent-%COMP%]{border-color:#d3d3d3;border-style:solid;border-radius:5px;padding:3px;margin:3px}.buttonRevert[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.buttonRevoke[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}(),Wf=function(){return["/dashboard/my-datasets-details"]},Tt=function(r){return{data:r}},jf=function(){return["/dashboard/my-datasets-permissions"]},Xf=function(){return["/dashboard/my-datasets-content"]},em=function(){return["/dashboard/my-datasets-history"]},tm=function(){return["/dashboard/my-datasets-datasource-history"]},nm=function(){return["/dashboard/my-datasets-access-requests-history"]},am=function(){return["/dashboard/my-datasets-revoked-access-history"]},im=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t}return r.prototype.ngOnInit=function(){if(history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.queryMetadataByName(this.historyStateData.dataName)},r.prototype.queryMetadataByName=function(a){var n=this;this.dashboardService.queryMetadataByName(a).subscribe(function(t){console.log(t);var o=t.result.dataSourceMetadata;console.log("dataSourceMetadata:"),console.log(o),n.dataSourceId=o.dataSourceID,n.dataSourceType=o.dataSourceType,n.dataModels=o.dataModels.value,n.service=o.service,n.servicePath=o.servicePath,n.attributes=o.attributes,n.mapping=o.mapping,n.isDataPortsCompatible=o.isDataPortsCompatible,n.dataProvided=o.dataProvided.value.split(",").join(", ")},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryMetadataByName",a)})},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/my-datasets"])},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryMetadataByName"==a&&t.queryMetadataByName(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-my-datasets-content"]],decls:67,vars:51,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"row"],[1,"datasetView"],[1,"header"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Internal Datasets"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.TgZ(17,"a",4),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",5),e.TgZ(20,"div"),e.TgZ(21,"table",6),e.TgZ(22,"tr"),e.TgZ(23,"td",7),e._uU(24,"Data source ID"),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.qZA(),e.TgZ(27,"tr"),e.TgZ(28,"td",7),e._uU(29,"Type"),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.qZA(),e.qZA(),e.TgZ(32,"tr"),e.TgZ(33,"td",7),e._uU(34,"Data Models"),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.qZA(),e.qZA(),e.TgZ(37,"tr"),e.TgZ(38,"td",7),e._uU(39,"Service"),e.qZA(),e.TgZ(40,"td"),e._uU(41),e.qZA(),e.qZA(),e.TgZ(42,"tr"),e.TgZ(43,"td",7),e._uU(44,"Service Path"),e.qZA(),e.TgZ(45,"td"),e._uU(46),e.qZA(),e.qZA(),e.TgZ(47,"tr"),e.TgZ(48,"td",7),e._uU(49,"Attributes"),e.qZA(),e.TgZ(50,"td"),e._uU(51),e.qZA(),e.qZA(),e.TgZ(52,"tr"),e.TgZ(53,"td",7),e._uU(54,"Data provided"),e.qZA(),e.TgZ(55,"td"),e._uU(56),e.qZA(),e.qZA(),e.TgZ(57,"tr"),e.TgZ(58,"td",7),e._uU(59,"Mapping"),e.qZA(),e.TgZ(60,"td"),e._uU(61),e.qZA(),e.qZA(),e.TgZ(62,"tr"),e.TgZ(63,"td",7),e._uU(64,"Is DataPorts compatible?"),e.qZA(),e.TgZ(65,"td"),e._uU(66),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(30,Wf))("state",e.VKq(31,Tt,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(33,jf))("state",e.VKq(34,Tt,t.historyStateData)),e.xp6(1),e.Oqu("Permissions"),e.xp6(1),e.Q6J("routerLink",e.DdM(36,Xf))("state",e.VKq(37,Tt,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(39,em))("state",e.VKq(40,Tt,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(42,tm))("state",e.VKq(43,Tt,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(45,nm))("state",e.VKq(46,Tt,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(48,am))("state",e.VKq(49,Tt,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(8),e.Oqu(t.dataSourceId),e.xp6(5),e.Oqu(t.dataSourceType),e.xp6(5),e.Oqu(t.dataModels),e.xp6(5),e.Oqu(t.service),e.xp6(5),e.Oqu(t.servicePath),e.xp6(5),e.Oqu(t.attributes),e.xp6(5),e.Oqu(t.dataProvided),e.xp6(5),e.Oqu(t.mapping),e.xp6(5),e.Oqu(t.isDataPortsCompatible))},directives:[q.yS,q.Od],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.header[_ngcontent-%COMP%]{color:#023f88;width:200px}.datasetView[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}.datasetView[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}"]}),r}();function rm(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(22).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function om(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",13),e._uU(2,"Change "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",15),e._uU(5,"Username "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.TgZ(7,"th",17),e._uU(8,"Organization "),e._UZ(9,"p-sortIcon",18),e.qZA(),e.TgZ(10,"th",19),e._uU(11,"Date/Time "),e._UZ(12,"p-sortIcon",20),e.qZA(),e.TgZ(13,"th",21),e._uU(14,"Comment "),e._UZ(15,"p-sortIcon",22),e.qZA(),e.qZA())}function sm(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td",23),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.changeType),e.xp6(2),e.Oqu(n.username),e.xp6(2),e.Oqu(n.organization),e.xp6(2),e.Oqu(n.date),e.xp6(2),e.Oqu(n.comment)}}var lm=function(){return["/dashboard/my-datasets-details"]},Ct=function(r){return{data:r}},um=function(){return["/dashboard/my-datasets-permissions"]},cm=function(){return["/dashboard/my-datasets-content"]},dm=function(){return["/dashboard/my-datasets-history"]},pm=function(){return["/dashboard/my-datasets-datasource-history"]},gm=function(){return["/dashboard/my-datasets-access-requests-history"]},hm=function(){return["/dashboard/my-datasets-revoked-access-history"]},fm=function(){return["changeType","username","organization","date","comment"]},mm=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[]}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.getChangesHistory(this.historyStateData.dataId)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/my-datasets"])},r.prototype.getChangesHistory=function(a){var n=this;this.dashboardService.getChangesHistory().subscribe(function(t){console.log(t);var i=t.result;i=i.filter(function(c){return c.Record.dataset==a}),console.log(i);for(var o=0,s=i;o<s.length;o++){var l=s[o],u={changeType:n.processChanges(l.Record.changes[0]),username:l.Record.username,organization:l.Record.organization,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp,comment:l.Record.comments};n.datasource.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("getChangesHistory",a)})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.processChanges=function(a){return a.split(",").join(", ")},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"getChangesHistory"==a&&t.getChangesHistory(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-my-datasets-history"]],decls:26,vars:49,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","changeType"],["field","changeType"],["id","th12","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th13","pResizableColumn","","pSortableColumn","organization"],["field","organization"],["id","th14","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],["id","th15","pResizableColumn","","pSortableColumn","comment"],["field","comment"],[2,"color","#023F88","font-weight","bold"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Internal Datasets"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.TgZ(17,"a",4),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div"),e.TgZ(20,"div",5),e.TgZ(21,"p-table",6,7),e.YNc(23,rm,4,3,"ng-template",8),e.YNc(24,om,16,0,"ng-template",9),e.YNc(25,sm,11,5,"ng-template",10),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(27,lm))("state",e.VKq(28,Ct,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(30,um))("state",e.VKq(31,Ct,t.historyStateData)),e.xp6(1),e.Oqu("Permissions"),e.xp6(1),e.Q6J("routerLink",e.DdM(33,cm))("state",e.VKq(34,Ct,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(36,dm))("state",e.VKq(37,Ct,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(39,pm))("state",e.VKq(40,Ct,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(42,gm))("state",e.VKq(43,Ct,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(45,hm))("state",e.VKq(46,Ct,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(3),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(48,fm)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}();function vm(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"div"),e.TgZ(2,"input",25),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(23).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function bm(r,a){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",26),e.TgZ(2,"th",27),e._uU(3,"Personal"),e.qZA(),e.qZA(),e.TgZ(4,"tr"),e.TgZ(5,"th",28),e._uU(6,"Access Right "),e._UZ(7,"p-sortIcon",29),e.qZA(),e.TgZ(8,"th",30),e._uU(9,"Active "),e._UZ(10,"p-sortIcon",31),e.qZA(),e.TgZ(11,"th",32),e._uU(12,"Request "),e._UZ(13,"p-sortIcon",33),e.qZA(),e.TgZ(14,"th",34),e._uU(15,"Pending "),e._UZ(16,"p-sortIcon",35),e.qZA(),e.qZA())}function ym(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.TgZ(6,"input",36),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().checkboxClicked(s.accessRight)}),e.qZA(),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit;e.xp6(2),e.Oqu(t.accessRight),e.xp6(2),e.Oqu(t.personalActive),e.xp6(2),e.Tol(t.className),e.xp6(2),e.Oqu(t.personalPending)}}function _m(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"div"),e.TgZ(2,"input",25),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(39).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Tm(r,a){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",26),e.TgZ(2,"th",37),e._uU(3,"Organizational"),e.qZA(),e.TgZ(4,"th",38),e._uU(5,"Organizational"),e.qZA(),e.qZA(),e.TgZ(6,"tr"),e.TgZ(7,"th",39),e._uU(8,"Access Right "),e._UZ(9,"p-sortIcon",29),e.qZA(),e.TgZ(10,"th",40),e._uU(11,"Active "),e._UZ(12,"p-sortIcon",41),e.qZA(),e.TgZ(13,"th",42),e._uU(14,"Request "),e._UZ(15,"p-sortIcon",43),e.qZA(),e.TgZ(16,"th",44),e._uU(17,"Pending "),e._UZ(18,"p-sortIcon",45),e.qZA(),e.qZA()),2&r){var n=e.oxw();e.xp6(2),e.Q6J("hidden","admin"!=n.role),e.xp6(2),e.Q6J("hidden","admin"==n.role),e.xp6(9),e.Q6J("hidden","admin"!=n.role)}}function Cm(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",46),e.TgZ(6,"input",36),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().checkboxOrgClicked(l.accessRight)}),e.qZA(),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.accessRight),e.xp6(2),e.Oqu(t.orgActive),e.xp6(1),e.Q6J("hidden","admin"!=i.role),e.xp6(1),e.Tol(t.classNameOrg),e.xp6(2),e.Oqu(t.orgPending)}}function Zm(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"div"),e.TgZ(2,"input",25),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(55).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function km(r,a){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",26),e.TgZ(2,"th",47),e._uU(3,"Public"),e.qZA(),e.qZA(),e.TgZ(4,"tr"),e.TgZ(5,"th",48),e._uU(6,"Access Right "),e._UZ(7,"p-sortIcon",29),e.qZA(),e.TgZ(8,"th",49),e._uU(9,"Active "),e._UZ(10,"p-sortIcon",50),e.qZA(),e.qZA())}function Sm(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.accessRight),e.xp6(2),e.Oqu(n.public)}}var Am=function(){return["/dashboard/provided-datasets-details"]},Vt=function(r){return{data:r}},wm=function(){return["/dashboard/provided-datasets-content"]},xm=function(){return["/dashboard/provided-datasets-history"]},Om=function(){return["/dashboard/provided-datasets-datasource-history"]},Dm=function(){return["/dashboard/provided-datasets-access-requests-history"]},Rm=function(){return["/dashboard/provided-datasets-revoked-access-history"]},pi=function(){return["accessRight"]},Im=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i,this.customAccessRights=[],this.customAccessRightsPersonal=[],this.customAccessRightsOrg=[],this.requestPermissions=[],this.requestPermissionsOrg=[],this.copyrightHash="",this.copyrightURL="",this.fileExists=!1}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.role=localStorage.getItem("role"),this.form=this.formBuilder.group({}),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.selectedTab=this.historyStateData.selectedTab,this.queryMetadataByName(this.historyStateData.dataName),this.queryPublicDatasetsByDatasetName(this.historyStateData.dataName)},r.prototype.askPermissionButton=function(){var a="";this.datasource[0]&&1==this.datasource[0].status&&"read"==this.datasource[0].accessRight&&(a="read"),this.datasource[1]&&1==this.datasource[1].status&&"modify"==this.datasource[1].accessRight&&(a="modify"),this.datasource[2]&&1==this.datasource[2].status&&"persist"==this.datasource[2].accessRight&&(a="persist");for(var n=[],t=0,i=this.datasource;t<i.length;t++){var o=i[t];1==o.status&&"read"!=o.accessRight&&"modify"!=o.accessRight&&"persist"!=o.accessRight&&n.push(o.accessRight)}n.length>0&&""==a&&this.requestPermissions.indexOf("read")>=0&&(a="read");var s={datasetname:this.historyStateData.dataName,permission:a,customAccessRights:n};console.log(s),a||n.length>0?this.requestAccess(s):alert("Please select permission")},r.prototype.askPermissionOrgButton=function(){var a="";console.log(this.datasource),this.datasource[0]&&1==this.datasource[0].orgStatus&&"read"==this.datasource[0].accessRight&&(a="read"),this.datasource[1]&&1==this.datasource[1].orgStatus&&"modify"==this.datasource[1].accessRight&&(a="modify"),this.datasource[2]&&1==this.datasource[2].orgStatus&&"persist"==this.datasource[2].accessRight&&(a="persist");for(var n=[],t=0,i=this.datasource;t<i.length;t++){var o=i[t];1==o.orgStatus&&"read"!=o.accessRight&&"modify"!=o.accessRight&&"persist"!=o.accessRight&&n.push(o.accessRight)}n.length>0&&""==a&&this.requestPermissionsOrg.indexOf("read")>=0&&(a="read");var s={datasetname:this.historyStateData.dataName,permission:a,customAccessRights:n};console.log(s),a||n.length>0?this.requestAccessByOrg(s):alert("Please select permission")},r.prototype.revokePermissionsButton=function(){var a={datasetName:this.historyStateData.dataName,permission:"read",customAccessRights:this.customAccessRightsPersonal};console.log(a),this.requestRevokeAccessByUser(a)},r.prototype.revokePermissionsOrgButton=function(){var a={datasetName:this.historyStateData.dataName,permission:"read",customAccessRights:this.customAccessRightsOrg};console.log(a),this.requestRevokeAccessByOrg(a)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/provided-datasets"],{state:{selectedTab:this.selectedTab}})},r.prototype.queryMetadataByName=function(a){var n=this;document.getElementById("askPermissionButton").style.opacity="0.3",document.getElementsByClassName("askPermissionButtonClass")[0].disabled=!0,document.getElementById("askPermissionOrgButton").style.opacity="0.3",document.getElementsByClassName("askPermissionOrgButtonClass")[0].disabled=!0,this.dashboardService.queryMetadataByName(a).subscribe(function(o){console.log(o);var s=o.result;n.identifier=s.identifier,n.usernameOfProvider=s.usernameOfProvider,n.emailOfProvider=s.emailOfProvider,n.datasetName=s.datasetName,n.datasetDescription=s.datasetDescription,n.customAccessRights=s.customAccessRights;var l=s.customAccessRights;n.agreementURL=s.contractAgreementURL,n.agreementHash=s.contractAgreementHash,n.termsConditionsURL=s.termsConditionsURL,n.termsConditionsHash=s.termsConditionsHash,n.version=s.version,n.industryDomain=s.industryDomain,n.datasetOwner=s.orgOfOwner,n.datasetProvider=s.orgOfProvider,n.usernameOfOwner=s.usernameOfOwner,n.dataVolume=s.dataVolume,n.dataVelocity=s.dataVelocity,n.distribution=s.distribution,n.purposes=s.purposes,n.comments=s.comments,n.accessRights=s.accessRights;var u=n.accessRights;if(l.length>0)for(var c=0,d=l;c<d.length;c++)u.push(p=d[c]);console.log(u),n.validPermissions=u,n.validPermissionsOrg=u,n.endpoint=s.endpoint,n.blockchain=s.blockchain,n.hasAgent=s.hasAgent,n.dataSourceID=s.dataSourceMetadata.dataSourceID;for(var g=[],h=0,f=u;h<f.length;h++){var p;g.push({accessRight:p=f[h],personalActive:"no",personalRequest:"",personalPending:"no",orgActive:"no",orgRequest:"",orgPending:"no",public:"no",className:p+"Class",classNameOrg:p+"OrgClass",status:!1,orgStatus:!1})}n.datasource=g,n.language=s.language,n.keywordTag=s.keywordTag,n.spatialGeographicCoverage=s.spatialGeographicCoverage,n.temporalCoverageStart=n.changeDateFormat4(s.temporalCoverageStart),n.temporalCoverageEnd=n.changeDateFormat4(s.temporalCoverageEnd),n.themeCategory=s.themeCategory,n.copyrightHash=s.copyrightHash,n.copyrightURL=s.copyrightsURL,n.fileExists=!!(n.agreementURL||n.termsConditionsURL||n.copyrightURL),n.getActivePermissions(n.historyStateData.dataName),n.getActivePermissionsOrg(n.historyStateData.dataName)},function(o){console.log(o.status),(401==o.status||403==o.status)&&n.refreshTokens("queryMetadataByName",a)})},r.prototype.requestAccess=function(a){var n=this;this.dashboardService.requestAccess(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/provided-datasets"],{state:{selectedTab:n.selectedTab}})},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("requestAccess",a)})},r.prototype.requestAccessByOrg=function(a){var n=this;this.dashboardService.requestAccessByOrg(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/provided-datasets"],{state:{selectedTab:n.selectedTab}})},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("requestAccessByOrg",a)})},r.prototype.requestRevokeAccessByUser=function(a){var n=this;this.dashboardService.requestRevokeAccessByUser(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/provided-datasets"],{state:{selectedTab:n.selectedTab}})},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("requestRevokeAccessByUser",a)})},r.prototype.requestRevokeAccessByOrg=function(a){var n=this;this.dashboardService.requestRevokeAccessByOrg(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/provided-datasets"],{state:{selectedTab:n.selectedTab}})},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("requestRevokeAccessByOrg",a)})},r.prototype.getActivePermissions=function(a){var n=this;this.dashboardService.queryDatasetPermissionByAuthorizedUsers().subscribe(function(t){console.log(t);var i=t.result;if(i=i.filter(function(m){return m.Record.dataset_name==a}).filter(function(m){return m.Record.users.username==n.loggedinUserUsername}),console.log(i),n.activePermissions=[],i[0]){n.customAccessRightsPersonal=i[0].Record.users.customAccessRights,n.activePermissions=i[0].Record.users.permission;var o=i[0].Record.users.customAccessRights;if(o.length>0)for(var s=0,l=o;s<l.length;s++)n.activePermissions.push(l[s]);for(var c=0,d=n.activePermissions;c<d.length;c++)for(var p=d[c],g=0,h=n.datasource;g<h.length;g++){var f=h[g];p==f.accessRight&&(f.personalActive="yes")}}n.getPendingPermissions(n.historyStateData.dataName)},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("getActivePermissions",a)})},r.prototype.getActivePermissionsOrg=function(a){var n=this;this.dashboardService.queryAccessOrgConsumerByDatasetName(a).subscribe(function(t){console.log(t);var i=t.result;if(console.log(i),n.activePermissionsOrg=[],i[0]){n.customAccessRightsOrg=i[0].Record.customAccessRights,n.activePermissionsOrg=i[0].Record.permission;var o=i[0].Record.customAccessRights;if(o.length>0)for(var s=0,l=o;s<l.length;s++)n.activePermissionsOrg.push(l[s]);for(var c=0,d=n.activePermissionsOrg;c<d.length;c++)for(var p=d[c],g=0,h=n.datasource;g<h.length;g++){var f=h[g];p==f.accessRight&&(f.orgActive="yes")}}n.getPendingPermissionsOrg(a)},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("getActivePermissionsOrg",a)})},r.prototype.getPendingPermissions=function(a){var n=this;this.dashboardService.queryAllAccessRequestsConsumer().subscribe(function(t){console.log(t);var i=t.result;if(i=i.filter(function(O){return O.Record.dataset_name==a}).filter(function(O){return O.Record.username==n.loggedinUserUsername}),n.pendingPermissions=[],i[0]){n.pendingPermissions=[i[0].Record.permission];var o=[];""!=n.pendingPermissions[0].trim()&&(o=n.pendingPermissions[0].split(","));var s=i[0].Record.customAccessRights;if(s.length>0)for(var l=0,u=s;l<u.length;l++)o.push(u[l]);console.log(o);for(var d=0,p=o;d<p.length;d++)for(var g=p[d],h=0,f=n.datasource;h<f.length;h++){var m=f[h];g==m.accessRight&&(m.personalPending="yes")}if(s.length>0)for(var v=0,b=s;v<b.length;v++)n.pendingPermissions.push(b[v]);if("modify"==i[0].Record.permission?n.activePermissions.indexOf("read")<0&&(n.pendingPermissions=["read","modify"]):"persist"==i[0].Record.permission&&(n.pendingPermissions=["persist"],n.activePermissions.indexOf("read")<0&&n.pendingPermissions.push("read"),n.activePermissions.indexOf("modify")<0&&n.pendingPermissions.push("modify")),s.length>0)for(var y=0,_=s;y<_.length;y++)n.pendingPermissions.push(_[y])}n.requestPermissions=n.validPermissions,n.requestPermissions=n.requestPermissions.filter(function(O){return n.activePermissions.indexOf(O)<0}),n.requestPermissions=n.requestPermissions.filter(function(O){return n.pendingPermissions.indexOf(O)<0}),console.log(n.requestPermissions);for(var C=0,Z=n.datasource;C<Z.length;C++){var S=Z[C];n.requestPermissions.indexOf(S.accessRight)<0&&(document.getElementsByClassName(S.accessRight+"Class")[0].disabled=!0)}n.requestPermissions.length>0&&(document.getElementsByClassName("askPermissionButtonClass")[0].disabled=!1,document.getElementById("askPermissionButton").style.opacity="1")},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("getPendingPermissions",a)})},r.prototype.getPendingPermissionsOrg=function(a){var n=this;this.dashboardService.queryAccessRequestsOrgConsumerByDatasetName(a).subscribe(function(t){console.log(t);var i=t.result;if(n.pendingPermissionsOrg=[],i[0]){n.pendingPermissionsOrg=[i[0].Record.permission],console.log(n.pendingPermissionsOrg);var o=[];""!=n.pendingPermissionsOrg[0].trim()&&(o=n.pendingPermissionsOrg[0].split(",")),console.log(o);var s=i[0].Record.customAccessRights;if(console.log(s),s.length>0)for(var l=0,u=s;l<u.length;l++)o.push(u[l]);console.log(o);for(var d=0,p=o;d<p.length;d++)for(var g=p[d],h=0,f=n.datasource;h<f.length;h++){var m=f[h];g==m.accessRight&&(m.orgPending="yes")}if(s.length>0)for(var v=0,b=s;v<b.length;v++)n.pendingPermissionsOrg.push(b[v]);if("modify"==i[0].Record.permission?n.activePermissionsOrg.indexOf("read")<0&&(n.pendingPermissionsOrg=["read","modify"]):"persist"==i[0].Record.permission&&(n.pendingPermissionsOrg=["persist"],n.activePermissionsOrg.indexOf("read")<0&&n.pendingPermissionsOrg.push("read"),n.activePermissionsOrg.indexOf("modify")<0&&n.pendingPermissionsOrg.push("modify")),s.length>0)for(var y=0,_=s;y<_.length;y++)n.pendingPermissionsOrg.push(_[y])}n.requestPermissionsOrg=n.validPermissions,n.requestPermissionsOrg=n.requestPermissionsOrg.filter(function(O){return n.activePermissionsOrg.indexOf(O)<0}),n.requestPermissionsOrg=n.requestPermissionsOrg.filter(function(O){return n.pendingPermissionsOrg.indexOf(O)<0}),console.log(n.requestPermissionsOrg);for(var C=0,Z=n.datasource;C<Z.length;C++){var S=Z[C];n.requestPermissionsOrg.indexOf(S.accessRight)<0&&(document.getElementsByClassName(S.accessRight+"OrgClass")[0].disabled=!0)}n.requestPermissionsOrg.length>0&&(document.getElementsByClassName("askPermissionOrgButtonClass")[0].disabled=!1,document.getElementById("askPermissionOrgButton").style.opacity="1")},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("getPendingPermissionsOrg",a)})},r.prototype.checkboxClicked=function(a){if(console.log(a),"read"==a)this.datasource[0].status=0==this.datasource[0].status;else if("modify"==a)console.log("this.datasource[1].status"),console.log(this.datasource[1].status),0==this.datasource[1].status?(this.requestPermissions.indexOf("read")>=0&&((n=document.getElementsByClassName("readClass"))[0].disabled=!0,n[0].checked=!0,this.datasource[0].status=!0),this.datasource[1].status=!0):(this.requestPermissions.indexOf("read")>=0&&((n=document.getElementsByClassName("readClass"))[0].disabled=!1,n[0].checked=!1,this.datasource[0].status=!1),this.datasource[1].status=!1);else if("persist"==a)if(console.log("this.datasource[2].status"),console.log(this.datasource[2].status),0==this.datasource[2].status)this.requestPermissions.indexOf("read")>=0&&((n=document.getElementsByClassName("readClass"))[0].disabled=!0,n[0].checked=!0,this.datasource[0].status=!0),this.requestPermissions.indexOf("modify")>=0&&((t=document.getElementsByClassName("modifyClass"))[0].disabled=!0,t[0].checked=!0,this.datasource[1].status=!0),this.datasource[2].status=!0;else{var n,t;this.requestPermissions.indexOf("read")>=0&&((n=document.getElementsByClassName("readClass"))[0].disabled=!1,n[0].checked=!1,this.datasource[0].status=!1),this.requestPermissions.indexOf("modify")>=0&&((t=document.getElementsByClassName("modifyClass"))[0].disabled=!1,t[0].checked=!1,this.datasource[1].status=!1),this.datasource[2].status=!1}else for(var i=0,o=this.datasource;i<o.length;i++){var s=o[i];s.accessRight==a&&(s.status=0==s.status)}},r.prototype.checkboxOrgClicked=function(a){if(console.log(a),"read"==a)this.datasource[0].orgStatus=0==this.datasource[0].orgStatus;else if("modify"==a)0==this.datasource[1].orgStatus?(this.requestPermissionsOrg.indexOf("read")>=0&&((n=document.getElementsByClassName("readOrgClass"))[0].disabled=!0,n[0].checked=!0,this.datasource[0].orgStatus=!0),this.datasource[1].orgStatus=!0):(this.requestPermissionsOrg.indexOf("read")>=0&&((n=document.getElementsByClassName("readOrgClass"))[0].disabled=!1,n[0].checked=!1,this.datasource[0].orgStatus=!1),this.datasource[1].orgStatus=!1);else if("persist"==a)if(0==this.datasource[2].orgStatus)this.requestPermissionsOrg.indexOf("read")>=0&&((n=document.getElementsByClassName("readOrgClass"))[0].disabled=!0,n[0].checked=!0,this.datasource[0].orgStatus=!0),this.requestPermissionsOrg.indexOf("modify")>=0&&((t=document.getElementsByClassName("modifyOrgClass"))[0].disabled=!0,t[0].checked=!0,this.datasource[1].orgStatus=!0),this.datasource[2].orgStatus=!0;else{var n,t;this.requestPermissionsOrg.indexOf("read")>=0&&((n=document.getElementsByClassName("readOrgClass"))[0].disabled=!1,n[0].checked=!1,this.datasource[0].orgStatus=!1),this.requestPermissionsOrg.indexOf("modify")>=0&&((t=document.getElementsByClassName("modifyOrgClass"))[0].disabled=!1,t[0].checked=!1,this.datasource[1].orgStatus=!1),this.datasource[2].orgStatus=!1}else for(var i=0,o=this.datasource;i<o.length;i++){var s=o[i];s.accessRight==a&&(s.orgStatus=0==s.orgStatus)}},r.prototype.queryPublicDatasetsByDatasetName=function(a){var n=this;this.dashboardService.queryPublicDatasetsByDatasetName(a).subscribe(function(t){console.log(t);for(var i=t.result[0],s=i.Record.customAccessRights,l=0,u=i.Record.permission;l<u.length;l++)for(var c=u[l],d=0,p=n.datasource;d<p.length;d++)c==(g=p[d]).accessRight&&(g.public="yes");for(var h=0,f=s;h<f.length;h++)for(var m=f[h],v=0,b=n.datasource;v<b.length;v++){var g;m==(g=b[v]).accessRight&&(g.public="yes")}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryPublicDatasetsByDatasetName",a)})},r.prototype.changeDateFormat4=function(a){return a&&a.substr(8,2)+"/"+a.substr(5,2)+"/"+a.substr(0,4)},r.prototype.getClassOfHasAgent=function(a,n){if("true"==a&&(null==n||""==n.trim()))return"missing"},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryMetadataByName"==a?t.queryMetadataByName(n):"requestAccess"==a?t.requestAccess(n):"requestAccessByOrg"==a?t.requestAccessByOrg(n):"getActivePermissions"==a?t.getActivePermissions(n):"getActivePermissionsOrg"==a?t.getActivePermissionsOrg(n):"getPendingPermissions"==a?t.getPendingPermissions(n):"getPendingPermissionsOrg"==a?t.getPendingPermissionsOrg(n):"queryPublicDatasetsByDatasetName"==a?t.queryPublicDatasetsByDatasetName(n):"requestRevokeAccessByUser"==a?t.requestRevokeAccessByUser(n):"requestRevokeAccessByOrg"==a&&t.requestRevokeAccessByOrg(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-provided-datasets-details"]],decls:301,vars:112,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"row",3,"hidden"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"row"],[1,"col-md-2"],["pButton","","type","button","label","Personal Request","id","askPermissionButton",1,"askPermissionButtonClass",3,"click"],["pButton","","type","button","label","Revoke Permissions",3,"click"],["dt2",""],["pButton","","type","button","label","Organizational Request","id","askPermissionOrgButton",1,"askPermissionOrgButtonClass",3,"click"],["dt3",""],[1,"col-md-4"],[1,"datasetView"],[1,"header"],[1,"col-md-4",3,"hidden"],[3,"ngClass"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["colspan","1",2,"background-color","#f4f4f4!important","border-color","#f4f4f4!important"],["colspan","3"],["id","th11","pResizableColumn","","pSortableColumn","accessRight"],["field","accessRight"],["id","th12","pResizableColumn","","pSortableColumn","personalActive"],["field","personalActive"],["id","th13","pResizableColumn","","pSortableColumn","personalRequest"],["field","personalRequest"],["id","th14","pResizableColumn","","pSortableColumn","personalPending"],["field","personalPending"],["type","checkbox",3,"click"],["colspan","3",3,"hidden"],["colspan","2",3,"hidden"],["id","th21","pResizableColumn","","pSortableColumn","accessRight"],["id","th22","pResizableColumn","","pSortableColumn","orgActive"],["field","orgActive"],["id","th23","pResizableColumn","","pSortableColumn","orgRequest",3,"hidden"],["field","orgRequest"],["id","th24","pResizableColumn","","pSortableColumn","orgPending"],["field","orgPending"],[3,"hidden"],["colspan","1"],["id","th31","pResizableColumn","","pSortableColumn","accessRight"],["id","th32","pResizableColumn","","pSortableColumn","public"],["field","public"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e._UZ(17,"br"),e._UZ(18,"br"),e.TgZ(19,"div"),e.TgZ(20,"div",5),e.TgZ(21,"div",6),e.TgZ(22,"p-table",7,8),e.YNc(24,vm,4,3,"ng-template",9),e.YNc(25,bm,17,0,"ng-template",10),e.YNc(26,ym,9,6,"ng-template",11),e.qZA(),e.qZA(),e._UZ(27,"br"),e.TgZ(28,"div",12),e._UZ(29,"br"),e.TgZ(30,"div",13),e._UZ(31,"br"),e.TgZ(32,"button",14),e.NdJ("click",function(){return t.askPermissionButton()}),e.qZA(),e.qZA(),e.TgZ(33,"div",13),e._UZ(34,"br"),e.TgZ(35,"button",15),e.NdJ("click",function(){return t.revokePermissionsButton()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",5),e.TgZ(37,"div",6),e.TgZ(38,"p-table",7,16),e.YNc(40,_m,4,3,"ng-template",9),e.YNc(41,Tm,19,3,"ng-template",10),e.YNc(42,Cm,9,7,"ng-template",11),e.qZA(),e.qZA(),e._UZ(43,"br"),e.TgZ(44,"div",5),e._UZ(45,"br"),e.TgZ(46,"div",13),e._UZ(47,"br"),e.TgZ(48,"button",17),e.NdJ("click",function(){return t.askPermissionOrgButton()}),e.qZA(),e.qZA(),e.TgZ(49,"div",13),e._UZ(50,"br"),e.TgZ(51,"button",15),e.NdJ("click",function(){return t.revokePermissionsOrgButton()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"div",5),e.TgZ(53,"div",6),e.TgZ(54,"p-table",7,18),e.YNc(56,Zm,4,3,"ng-template",9),e.YNc(57,km,11,0,"ng-template",10),e.YNc(58,Sm,5,2,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e._UZ(59,"br"),e._UZ(60,"br"),e.TgZ(61,"div",12),e.TgZ(62,"div",19),e.TgZ(63,"table",20),e.TgZ(64,"tr"),e.TgZ(65,"td",21),e._uU(66,"Identifier"),e.qZA(),e.TgZ(67,"td"),e._uU(68),e.qZA(),e.qZA(),e.TgZ(69,"tr"),e.TgZ(70,"td",21),e._uU(71,"Dataset Provider Username"),e.qZA(),e.TgZ(72,"td"),e._uU(73),e.qZA(),e.qZA(),e.TgZ(74,"tr"),e.TgZ(75,"td",21),e._uU(76,"Dataset Provider E-mail"),e.qZA(),e.TgZ(77,"td"),e._uU(78),e.qZA(),e.qZA(),e.TgZ(79,"tr"),e.TgZ(80,"td",21),e._uU(81,"Dataset Name"),e.qZA(),e.TgZ(82,"td"),e._uU(83),e.qZA(),e.qZA(),e.TgZ(84,"tr"),e.TgZ(85,"td",21),e._uU(86,"Dataset Description"),e.qZA(),e.TgZ(87,"td"),e._uU(88),e.qZA(),e.qZA(),e.TgZ(89,"tr"),e.TgZ(90,"td",21),e._uU(91,"Agreement URL"),e.qZA(),e.TgZ(92,"td"),e._uU(93),e.qZA(),e.qZA(),e.TgZ(94,"tr"),e.TgZ(95,"td",21),e._uU(96,"Agreement Hash (MD5)"),e.qZA(),e.TgZ(97,"td"),e._uU(98),e.qZA(),e.qZA(),e.TgZ(99,"tr"),e.TgZ(100,"td",21),e._uU(101,"Terms and Conditions URL"),e.qZA(),e.TgZ(102,"td"),e._uU(103),e.qZA(),e.qZA(),e.TgZ(104,"tr"),e.TgZ(105,"td",21),e._uU(106,"Terms and Conditions Hash (MD5)"),e.qZA(),e.TgZ(107,"td"),e._uU(108),e.qZA(),e.qZA(),e.TgZ(109,"tr"),e.TgZ(110,"td",21),e._uU(111,"Copyright URL"),e.qZA(),e.TgZ(112,"td"),e._uU(113),e.qZA(),e.qZA(),e.TgZ(114,"tr"),e.TgZ(115,"td",21),e._uU(116,"Copyright Hash (MD5)"),e.qZA(),e.TgZ(117,"td"),e._uU(118),e.qZA(),e.qZA(),e.TgZ(119,"tr"),e.TgZ(120,"td",21),e._uU(121,"Version"),e.qZA(),e.TgZ(122,"td"),e._uU(123),e.qZA(),e.qZA(),e.TgZ(124,"tr"),e.TgZ(125,"td",21),e._uU(126,"Industry Domain"),e.qZA(),e.TgZ(127,"td"),e._uU(128),e.qZA(),e.qZA(),e.TgZ(129,"tr"),e.TgZ(130,"td",21),e._uU(131,"Access Rights"),e.qZA(),e.TgZ(132,"td"),e._uU(133),e.qZA(),e.qZA(),e.TgZ(134,"tr"),e.TgZ(135,"td",21),e._uU(136,"Custom Access Rights"),e.qZA(),e.TgZ(137,"td"),e._uU(138),e.qZA(),e.qZA(),e.TgZ(139,"tr"),e.TgZ(140,"td",21),e._uU(141,"Blockchain"),e.qZA(),e.TgZ(142,"td"),e._uU(143),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(144,"div",22),e.TgZ(145,"table",20),e.TgZ(146,"tr"),e.TgZ(147,"td",21),e._uU(148,"Endpoint"),e.qZA(),e.TgZ(149,"td"),e._uU(150),e.qZA(),e.qZA(),e.TgZ(151,"tr"),e.TgZ(152,"td",21),e._uU(153,"Dataset Provider"),e.qZA(),e.TgZ(154,"td"),e._uU(155),e.qZA(),e.qZA(),e.TgZ(156,"tr"),e.TgZ(157,"td",21),e._uU(158,"Dataset Owner"),e.qZA(),e.TgZ(159,"td"),e._uU(160),e.qZA(),e.qZA(),e.TgZ(161,"tr"),e.TgZ(162,"td",21),e._uU(163,"Dataset Owner Username"),e.qZA(),e.TgZ(164,"td"),e._uU(165),e.qZA(),e.qZA(),e.TgZ(166,"tr"),e.TgZ(167,"td",21),e._uU(168,"Data Volume (KiB)"),e.qZA(),e.TgZ(169,"td"),e._uU(170),e.qZA(),e.qZA(),e.TgZ(171,"tr"),e.TgZ(172,"td",21),e._uU(173,"Data Velocity (KiB/sec)"),e.qZA(),e.TgZ(174,"td"),e._uU(175),e.qZA(),e.qZA(),e.TgZ(176,"tr"),e.TgZ(177,"td",21),e._uU(178,"Distribution"),e.qZA(),e.TgZ(179,"td"),e._uU(180),e.qZA(),e.qZA(),e.TgZ(181,"tr"),e.TgZ(182,"td",21),e._uU(183,"Language"),e.qZA(),e.TgZ(184,"td"),e._uU(185),e.qZA(),e.qZA(),e.TgZ(186,"tr"),e.TgZ(187,"td",21),e._uU(188,"Theme / Category"),e.qZA(),e.TgZ(189,"td"),e._uU(190),e.qZA(),e.qZA(),e.TgZ(191,"tr"),e.TgZ(192,"td",21),e._uU(193,"Comments"),e.qZA(),e.TgZ(194,"td"),e._uU(195),e.qZA(),e.qZA(),e.TgZ(196,"tr"),e.TgZ(197,"td",21),e._uU(198,"Spatial Geographic Coverage"),e.qZA(),e.TgZ(199,"td"),e._uU(200),e.qZA(),e.qZA(),e.TgZ(201,"tr"),e.TgZ(202,"td",21),e._uU(203,"Temporal Coverage Start"),e.qZA(),e.TgZ(204,"td"),e._uU(205),e.qZA(),e.qZA(),e.TgZ(206,"tr"),e.TgZ(207,"td",21),e._uU(208,"Temporal Coverage End"),e.qZA(),e.TgZ(209,"td"),e._uU(210),e.qZA(),e.qZA(),e.TgZ(211,"tr"),e.TgZ(212,"td",21),e._uU(213,"Has Agent"),e.qZA(),e.TgZ(214,"td",23),e._uU(215),e.qZA(),e.qZA(),e.TgZ(216,"tr"),e.TgZ(217,"td",21),e._uU(218,"Data Source ID"),e.qZA(),e.TgZ(219,"td"),e._uU(220),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(221,"div",5),e.TgZ(222,"div",19),e._UZ(223,"br"),e.TgZ(224,"table",20),e.TgZ(225,"tr"),e.TgZ(226,"td",21),e._uU(227,"Endpoint"),e.qZA(),e.TgZ(228,"td"),e._uU(229),e.qZA(),e.qZA(),e.TgZ(230,"tr"),e.TgZ(231,"td",21),e._uU(232,"Dataset Provider"),e.qZA(),e.TgZ(233,"td"),e._uU(234),e.qZA(),e.qZA(),e.TgZ(235,"tr"),e.TgZ(236,"td",21),e._uU(237,"Dataset Owner"),e.qZA(),e.TgZ(238,"td"),e._uU(239),e.qZA(),e.qZA(),e.TgZ(240,"tr"),e.TgZ(241,"td",21),e._uU(242,"Dataset Owner Username"),e.qZA(),e.TgZ(243,"td"),e._uU(244),e.qZA(),e.qZA(),e.TgZ(245,"tr"),e.TgZ(246,"td",21),e._uU(247,"Data Volume (KiB)"),e.qZA(),e.TgZ(248,"td"),e._uU(249),e.qZA(),e.qZA(),e.TgZ(250,"tr"),e.TgZ(251,"td",21),e._uU(252,"Data Velocity (KiB/sec)"),e.qZA(),e.TgZ(253,"td"),e._uU(254),e.qZA(),e.qZA(),e.TgZ(255,"tr"),e.TgZ(256,"td",21),e._uU(257,"Distribution"),e.qZA(),e.TgZ(258,"td"),e._uU(259),e.qZA(),e.qZA(),e.TgZ(260,"tr"),e.TgZ(261,"td",21),e._uU(262,"Language"),e.qZA(),e.TgZ(263,"td"),e._uU(264),e.qZA(),e.qZA(),e.TgZ(265,"tr"),e.TgZ(266,"td",21),e._uU(267,"Theme / Category"),e.qZA(),e.TgZ(268,"td"),e._uU(269),e.qZA(),e.qZA(),e.TgZ(270,"tr"),e.TgZ(271,"td",21),e._uU(272,"Comments"),e.qZA(),e.TgZ(273,"td"),e._uU(274),e.qZA(),e.qZA(),e.TgZ(275,"tr"),e.TgZ(276,"td",21),e._uU(277,"Spatial Geographic Coverage"),e.qZA(),e.TgZ(278,"td"),e._uU(279),e.qZA(),e.qZA(),e.TgZ(280,"tr"),e.TgZ(281,"td",21),e._uU(282,"Temporal Coverage Start"),e.qZA(),e.TgZ(283,"td"),e._uU(284),e.qZA(),e.qZA(),e.TgZ(285,"tr"),e.TgZ(286,"td",21),e._uU(287,"Temporal Coverage End"),e.qZA(),e.TgZ(288,"td"),e._uU(289),e.qZA(),e.qZA(),e.TgZ(290,"tr"),e.TgZ(291,"td",21),e._uU(292,"Has Agent"),e.qZA(),e.TgZ(293,"td",23),e._uU(294),e.qZA(),e.qZA(),e.TgZ(295,"tr"),e.TgZ(296,"td",21),e._uU(297,"Data Source ID"),e.qZA(),e.TgZ(298,"td"),e._uU(299),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(300,"br"),e.qZA()),2&n&&(e.xp6(2),e.hij("\xa0 External Datasets (",t.selectedTab,")"),e.xp6(3),e.Q6J("routerLink",e.DdM(91,Am))("state",e.VKq(92,Vt,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(94,wm))("state",e.VKq(95,Vt,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(97,xm))("state",e.VKq(98,Vt,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(100,Om))("state",e.VKq(101,Vt,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(103,Dm))("state",e.VKq(104,Vt,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(106,Rm))("state",e.VKq(107,Vt,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(4),e.Q6J("hidden","Personal"!==t.selectedTab),e.xp6(2),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(109,pi)),e.xp6(14),e.Q6J("hidden","Organizational"!==t.selectedTab),e.xp6(2),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(110,pi)),e.xp6(6),e.Q6J("hidden","admin"!=t.role),e.xp6(8),e.Q6J("hidden","Public"!==t.selectedTab),e.xp6(2),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(111,pi)),e.xp6(14),e.Oqu(t.identifier),e.xp6(5),e.Oqu(t.usernameOfProvider),e.xp6(5),e.Oqu(t.emailOfProvider),e.xp6(5),e.Oqu(t.datasetName),e.xp6(5),e.Oqu(t.datasetDescription),e.xp6(5),e.Oqu(t.agreementURL),e.xp6(5),e.Oqu(t.agreementHash),e.xp6(5),e.Oqu(t.termsConditionsURL),e.xp6(5),e.Oqu(t.termsConditionsHash),e.xp6(5),e.Oqu(t.copyrightURL),e.xp6(5),e.Oqu(t.copyrightHash),e.xp6(5),e.Oqu(t.version),e.xp6(5),e.Oqu(t.industryDomain),e.xp6(5),e.Oqu(t.accessRights),e.xp6(5),e.Oqu(t.customAccessRights),e.xp6(5),e.Oqu(t.blockchain),e.xp6(1),e.Q6J("hidden",1==t.fileExists),e.xp6(6),e.Oqu(t.endpoint),e.xp6(5),e.Oqu(t.datasetProvider),e.xp6(5),e.Oqu(t.datasetOwner),e.xp6(5),e.Oqu(t.usernameOfOwner),e.xp6(5),e.Oqu(t.dataVolume),e.xp6(5),e.Oqu(t.dataVelocity),e.xp6(5),e.Oqu(t.distribution),e.xp6(5),e.Oqu(t.language),e.xp6(5),e.Oqu(t.themeCategory),e.xp6(5),e.Oqu(t.comments),e.xp6(5),e.Oqu(t.spatialGeographicCoverage),e.xp6(5),e.Oqu(t.temporalCoverageStart),e.xp6(5),e.Oqu(t.temporalCoverageEnd),e.xp6(4),e.Q6J("ngClass",t.getClassOfHasAgent(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.hasAgent),e.xp6(5),e.Oqu(t.dataSourceID),e.xp6(1),e.Q6J("hidden",0==t.fileExists),e.xp6(8),e.Oqu(t.endpoint),e.xp6(5),e.Oqu(t.datasetProvider),e.xp6(5),e.Oqu(t.datasetOwner),e.xp6(5),e.Oqu(t.usernameOfOwner),e.xp6(5),e.Oqu(t.dataVolume),e.xp6(5),e.Oqu(t.dataVelocity),e.xp6(5),e.Oqu(t.distribution),e.xp6(5),e.Oqu(t.language),e.xp6(5),e.Oqu(t.themeCategory),e.xp6(5),e.Oqu(t.comments),e.xp6(5),e.Oqu(t.spatialGeographicCoverage),e.xp6(5),e.Oqu(t.temporalCoverageStart),e.xp6(5),e.Oqu(t.temporalCoverageEnd),e.xp6(4),e.Q6J("ngClass",t.getClassOfHasAgent(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.hasAgent),e.xp6(5),e.Oqu(t.dataSourceID))},directives:[q.yS,q.Od,N,D.jx,$.Hq,I.mk,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.header[_ngcontent-%COMP%]{color:#023f88}.missing[_ngcontent-%COMP%]{color:#ee7b30;font-weight:bold}.datasetView[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}.datasetView[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}(),Um=function(){return["/dashboard/provided-datasets-details"]},Jt=function(r){return{data:r}},Pm=function(){return["/dashboard/provided-datasets-content"]},Em=function(){return["/dashboard/provided-datasets-history"]},Bm=function(){return["/dashboard/provided-datasets-datasource-history"]},Lm=function(){return["/dashboard/provided-datasets-access-requests-history"]},zm=function(){return["/dashboard/provided-datasets-revoked-access-history"]},Hm=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t}return r.prototype.ngOnInit=function(){if(history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.selectedTab=this.historyStateData.selectedTab,this.queryMetadataByName(this.historyStateData.dataName)},r.prototype.queryMetadataByName=function(a){var n=this;this.dashboardService.queryMetadataByName(a).subscribe(function(t){console.log(t);var o=t.result.dataSourceMetadata;console.log("dataSourceMetadata:"),console.log(o),n.dataSourceId=o.dataSourceID,n.dataSourceType=o.dataSourceType,n.dataModels=o.dataModels.value,n.service=o.service,n.servicePath=o.servicePath,n.attributes=o.attributes,n.mapping=o.mapping,n.isDataPortsCompatible=o.isDataPortsCompatible,n.dataProvided=o.dataProvided.value.split(",").join(", ")},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryMetadataByName",a)})},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/provided-datasets"])},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryMetadataByName"==a&&t.queryMetadataByName(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-provided-datasets-content"]],decls:65,vars:46,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"row"],[1,"datasetView"],[1,"header"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",5),e.TgZ(18,"div"),e.TgZ(19,"table",6),e.TgZ(20,"tr"),e.TgZ(21,"td",7),e._uU(22,"Data source ID"),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.qZA(),e.TgZ(25,"tr"),e.TgZ(26,"td",7),e._uU(27,"Type"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA(),e.qZA(),e.TgZ(30,"tr"),e.TgZ(31,"td",7),e._uU(32,"Data Models"),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA(),e.qZA(),e.TgZ(35,"tr"),e.TgZ(36,"td",7),e._uU(37,"Service"),e.qZA(),e.TgZ(38,"td"),e._uU(39),e.qZA(),e.qZA(),e.TgZ(40,"tr"),e.TgZ(41,"td",7),e._uU(42,"Service Path"),e.qZA(),e.TgZ(43,"td"),e._uU(44),e.qZA(),e.qZA(),e.TgZ(45,"tr"),e.TgZ(46,"td",7),e._uU(47,"Attributes"),e.qZA(),e.TgZ(48,"td"),e._uU(49),e.qZA(),e.qZA(),e.TgZ(50,"tr"),e.TgZ(51,"td",7),e._uU(52,"Data provided"),e.qZA(),e.TgZ(53,"td"),e._uU(54),e.qZA(),e.qZA(),e.TgZ(55,"tr"),e.TgZ(56,"td",7),e._uU(57,"Mapping"),e.qZA(),e.TgZ(58,"td"),e._uU(59),e.qZA(),e.qZA(),e.TgZ(60,"tr"),e.TgZ(61,"td",7),e._uU(62,"Is DataPorts compatible?"),e.qZA(),e.TgZ(63,"td"),e._uU(64),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.hij("\xa0 External Datasets (",t.selectedTab,")"),e.xp6(3),e.Q6J("routerLink",e.DdM(28,Um))("state",e.VKq(29,Jt,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(31,Pm))("state",e.VKq(32,Jt,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(34,Em))("state",e.VKq(35,Jt,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(37,Bm))("state",e.VKq(38,Jt,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(40,Lm))("state",e.VKq(41,Jt,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(43,zm))("state",e.VKq(44,Jt,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(8),e.Oqu(t.dataSourceId),e.xp6(5),e.Oqu(t.dataSourceType),e.xp6(5),e.Oqu(t.dataModels),e.xp6(5),e.Oqu(t.service),e.xp6(5),e.Oqu(t.servicePath),e.xp6(5),e.Oqu(t.attributes),e.xp6(5),e.Oqu(t.dataProvided),e.xp6(5),e.Oqu(t.mapping),e.xp6(5),e.Oqu(t.isDataPortsCompatible))},directives:[q.yS,q.Od],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.header[_ngcontent-%COMP%]{color:#023f88;width:200px}.datasetView[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}.datasetView[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}"]}),r}();function Vm(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(20).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Jm(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",13),e._uU(2,"Change "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",15),e._uU(5,"Username "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.TgZ(7,"th",17),e._uU(8,"Organization "),e._UZ(9,"p-sortIcon",18),e.qZA(),e.TgZ(10,"th",19),e._uU(11,"Date/Time "),e._UZ(12,"p-sortIcon",20),e.qZA(),e.TgZ(13,"th",21),e._uU(14,"Comment "),e._UZ(15,"p-sortIcon",22),e.qZA(),e.qZA())}function Ym(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td",23),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.changeType),e.xp6(2),e.Oqu(n.username),e.xp6(2),e.Oqu(n.organization),e.xp6(2),e.Oqu(n.date),e.xp6(2),e.Oqu(n.comment)}}var Qm=function(){return["/dashboard/provided-datasets-details"]},Yt=function(r){return{data:r}},Km=function(){return["/dashboard/provided-datasets-content"]},$m=function(){return["/dashboard/provided-datasets-history"]},Gm=function(){return["/dashboard/provided-datasets-datasource-history"]},jm=function(){return["/dashboard/provided-datasets-access-requests-history"]},ev=function(){return["/dashboard/provided-datasets-revoked-access-history"]},tv=function(){return["changeType","username","organization","date","comment"]},nv=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[]}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.selectedTab=this.historyStateData.selectedTab,this.getChangesHistory(this.historyStateData.dataName)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/provided-datasets"])},r.prototype.getChangesHistory=function(a){var n=this;this.dashboardService.getChangesHistory().subscribe(function(t){console.log(t);var i=t.result;i=i.filter(function(c){return c.Record.dataset==a}),console.log(i);for(var o=0,s=i;o<s.length;o++){var l=s[o],u={changeId:l.Key,changeType:n.processChanges(l.Record.changes[0]),username:l.Record.username,organization:l.Record.organization,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp,comment:l.Record.comments};n.datasource.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("getChangesHistory",a)})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.processChanges=function(a){return a.split(",").join(", ")},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"getChangesHistory"==a&&t.getChangesHistory(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-provided-datasets-history"]],decls:24,vars:44,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","changeType"],["field","changeType"],["id","th12","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th13","pResizableColumn","","pSortableColumn","organization"],["field","organization"],["id","th14","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],["id","th15","pResizableColumn","","pSortableColumn","comment"],["field","comment"],[2,"color","#023F88","font-weight","bold"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div"),e.TgZ(18,"div",5),e.TgZ(19,"p-table",6,7),e.YNc(21,Vm,4,3,"ng-template",8),e.YNc(22,Jm,16,0,"ng-template",9),e.YNc(23,Ym,11,5,"ng-template",10),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.hij("\xa0 External Datasets (",t.selectedTab,")"),e.xp6(3),e.Q6J("routerLink",e.DdM(25,Qm))("state",e.VKq(26,Yt,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(28,Km))("state",e.VKq(29,Yt,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(31,$m))("state",e.VKq(32,Yt,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(34,Gm))("state",e.VKq(35,Yt,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(37,jm))("state",e.VKq(38,Yt,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(40,ev))("state",e.VKq(41,Yt,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(3),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(43,tv)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}();function av(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",6),e.TgZ(1,"div"),e.TgZ(2,"input",7),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(6).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function iv(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",8),e._uU(2,"Notification "),e._UZ(3,"p-sortIcon",9),e.qZA(),e.TgZ(4,"th",10),e._uU(5,"Type "),e._UZ(6,"p-sortIcon",11),e.qZA(),e.TgZ(7,"th",12),e._uU(8,"Organization "),e._UZ(9,"p-sortIcon",13),e.qZA(),e.TgZ(10,"th",14),e._uU(11,"Username "),e._UZ(12,"p-sortIcon",15),e.qZA(),e.TgZ(13,"th",16),e._uU(14,"First Name "),e._UZ(15,"p-sortIcon",17),e.qZA(),e.TgZ(16,"th",18),e._uU(17,"Last Name "),e._UZ(18,"p-sortIcon",19),e.qZA(),e.TgZ(19,"th",20),e._uU(20,"Dataset Name "),e._UZ(21,"p-sortIcon",21),e.qZA(),e.TgZ(22,"th",22),e._uU(23,"Permission "),e._UZ(24,"p-sortIcon",23),e.qZA(),e.TgZ(25,"th",24),e._uU(26,"Custom "),e._UZ(27,"p-sortIcon",25),e.qZA(),e.TgZ(28,"th",26),e._uU(29,"Date/Time "),e._UZ(30,"p-sortIcon",27),e.qZA(),e.qZA())}function rv(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr",28),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit;e.xp6(2),e.Oqu(t.notificationType),e.xp6(2),e.Oqu(t.typeOfRequest),e.xp6(2),e.Oqu(t.organization),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.firstName),e.xp6(2),e.Oqu(t.lastName),e.xp6(2),e.Oqu(t.datasetName),e.xp6(2),e.Oqu(t.permission),e.xp6(2),e.Oqu(t.customAccessRights),e.xp6(2),e.Oqu(t.dateTime)}}var ov=function(){return["notificationType","typeOfRequest","organization","username","firstName","lastName","datasetName","permission","customAccessRights","dateTime"]},sv=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.selectedDatasource=[],this.providers=[],this.owners=[]}return r.prototype.ngOnInit=function(){this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.queryAllAccessRequestsProvider(),this.queryAllAccessRequestsByOrgProvider(),this.queryAllRevokeAccessByUserProvider(),this.queryAllRevokeAccessByOrgProvider()},r.prototype.handleSelect=function(a){console.log(a);var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),"Permission request"==a.notificationType?this.router.navigate(["/dashboard/view-permission-request"],{state:{data:a}}):"Revoke request"==a.notificationType&&this.router.navigate(["/dashboard/view-revoke-request"],{state:{data:a}})},r.prototype.queryAllAccessRequestsProvider=function(){var a=this;this.dashboardService.queryAllAccessRequestsProvider().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i],l={notificationType:"Permission request",datasetName:s.Record.dataset_name,datasetProvider:s.Record.dataset_provider,firstName:s.Record.name,organization:s.Record.organization,permission:s.Record.permission,requestid:s.Record.requestid,role:s.Record.role,lastName:s.Record.surname,username:s.Record.username,dateTime:a.changeDateFormat(s.Record.dateTime),dateTimeSortable:s.Record.dateTime,typeOfRequest:"personal",customAccessRights:s.Record.customAccessRights};a.datasource.push(l)}a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryAllAccessRequestsProvider")})},r.prototype.queryAllAccessRequestsByOrgProvider=function(){var a=this;this.dashboardService.queryAllAccessRequestsByOrgProvider().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i],l={notificationType:"Permission request",datasetName:s.Record.dataset_name,datasetProvider:s.Record.dataset_provider,firstName:s.Record.name,organization:s.Record.organization,permission:s.Record.permission,requestid:s.Record.requestid,role:s.Record.role,lastName:s.Record.surname,username:s.Record.username,dateTime:a.changeDateFormat(s.Record.dateTime),dateTimeSortable:s.Record.dateTime,typeOfRequest:"organizational",customAccessRights:s.Record.customAccessRights};a.datasource.push(l)}a.datasource.sort(function(u,c){return c.dateTime-u.dateTime}),a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryAllAccessRequestsByOrgProvider")})},r.prototype.queryAllRevokeAccessByUserProvider=function(){var a=this;this.dashboardService.queryAllRevokeAccessByUserProvider().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i],l={notificationType:"Revoke request",datasetName:s.Record.dataset_name,datasetProvider:s.Record.dataset_provider,firstName:s.Record.name,organization:s.Record.organization,permission:s.Record.permission,requestid:s.Record.requestid,role:s.Record.role,lastName:s.Record.surname,username:s.Record.username,dateTime:a.changeDateFormat(s.Record.dateTime),dateTimeSortable:s.Record.dateTime,typeOfRequest:"personal",customAccessRights:s.Record.customAccessRights};a.datasource.push(l)}a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryAllRevokeAccessByUserProvider")})},r.prototype.queryAllRevokeAccessByOrgProvider=function(){var a=this;this.dashboardService.queryAllRevokeAccessByOrgProvider().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i],l={notificationType:"Revoke request",datasetName:s.Record.dataset_name,datasetProvider:s.Record.dataset_provider,firstName:s.Record.name,organization:s.Record.organization,permission:s.Record.permission,requestid:s.Record.requestid,role:s.Record.role,lastName:s.Record.surname,username:s.Record.username,dateTime:a.changeDateFormat(s.Record.dateTime),dateTimeSortable:s.Record.dateTime,typeOfRequest:"organizational",customAccessRights:s.Record.customAccessRights};a.datasource.push(l)}a.datasource.sort(function(u,c){return c.dateTime-u.dateTime}),a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryAllRevokeAccessByOrgProvider")})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.refreshTokens=function(a){var n=this;this.dashboardService.refreshTokens().subscribe(function(t){console.log(t),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),"queryAllAccessRequestsProvider"==a?n.queryAllAccessRequestsProvider():"queryAllAccessRequestsByOrgProvider"==a?n.queryAllAccessRequestsByOrgProvider():"queryAllRevokeAccessByUserProvider"==a?n.queryAllRevokeAccessByUserProvider():"queryAllRevokeAccessByOrgProvider"==a&&n.queryAllRevokeAccessByOrgProvider()},function(t){console.log(t),n.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-notifications"]],decls:10,vars:7,consts:[[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","notificationType"],["field","notificationType"],["id","th12","pResizableColumn","","pSortableColumn","typeOfRequest"],["field","typeOfRequest"],["id","th13","pResizableColumn","","pSortableColumn","organization"],["field","organization"],["id","th14","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th15","pResizableColumn","","pSortableColumn","firstName"],["field","firstName"],["id","th16","pResizableColumn","","pSortableColumn","lastName"],["field","dataName"],["id","th17","pResizableColumn","","pSortableColumn","datasetName"],["field","datasetName"],["id","th18","pResizableColumn","","pSortableColumn","permission"],["field","permission"],["id","th19","pResizableColumn","","pSortableColumn","customAccessRights"],["field","customAccessRights"],["id","th110","pResizableColumn","","pSortableColumn","dateTimeSortable"],["field","dateTimeSortable"],[3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5"),e._uU(2,"Notifications"),e.qZA(),e.TgZ(3,"div",0),e._UZ(4,"br"),e.TgZ(5,"p-table",1,2),e.YNc(7,av,4,3,"ng-template",3),e.YNc(8,iv,31,0,"ng-template",4),e.YNc(9,rv,21,10,"ng-template",5),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(6,ov)))},directives:[N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:["tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}"]}),r}(),lv=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.form=this.formBuilder.group({}),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.datasetName=this.historyStateData.datasetName,this.datasetProvider=this.historyStateData.datasetProvider,this.blockchain=this.historyStateData.blockchain,this.firstName=this.historyStateData.firstName,this.organization=this.historyStateData.organization,this.permission=this.historyStateData.permission,this.requestid=this.historyStateData.requestid,this.role=this.historyStateData.role,this.lastName=this.historyStateData.lastName,this.username=this.historyStateData.username,this.typeOfRequest=this.historyStateData.typeOfRequest,this.dateTime=this.historyStateData.dateTime,this.customAccessRights=this.historyStateData.customAccessRights},r.prototype.acceptButton=function(){var a={requestID:this.requestid};console.log(a),"personal"==this.typeOfRequest?this.authorizeUser(a):this.authorizeOrgs(a)},r.prototype.rejectButton=function(){var a={requestID:this.requestid};console.log(a),"personal"==this.typeOfRequest?this.deleteRequest(a):this.deleteRequestOrgs(a)},r.prototype.cancelButton=function(){this.router.navigate(["/dashboard/notifications"])},r.prototype.authorizeUser=function(a){var n=this;this.dashboardService.authorizeUser(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/notifications"])},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("authorizeUser",a)})},r.prototype.authorizeOrgs=function(a){var n=this;this.dashboardService.authorizeOrgs(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/notifications"])},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("authorizeOrgs",a)})},r.prototype.deleteRequest=function(a){var n=this;this.dashboardService.deleteRequest(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/notifications"])},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("deleteRequest",a)})},r.prototype.deleteRequestOrgs=function(a){var n=this;this.dashboardService.deleteRequestOrgs(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/notifications"])},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("deleteRequestOrgs",a)})},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"authorizeUser"==a?t.authorizeUser(n):"authorizeOrgs"==a?t.authorizeOrgs(n):"deleteRequest"==a?t.deleteRequest(n):"deleteRequestOrgs"==a&&t.deleteRequestOrgs(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-permission-request"]],decls:76,vars:11,consts:[[1,"title"],[1,"row"],[1,"col-md-4"],[1,"header"],["pButton","","type","button","label","Accept",3,"click"],["pButton","","type","button","label","Reject",3,"click"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5",0),e._uU(2),e.qZA(),e._UZ(3,"br"),e._UZ(4,"br"),e._UZ(5,"br"),e.TgZ(6,"div"),e._UZ(7,"br"),e._UZ(8,"br"),e.TgZ(9,"div",1),e.TgZ(10,"div",2),e.TgZ(11,"table"),e.TgZ(12,"tr"),e.TgZ(13,"td",3),e._uU(14,"Dataset Name"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"tr"),e.TgZ(18,"td",3),e._uU(19,"Dataset Provider Username"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",2),e.TgZ(23,"table"),e.TgZ(24,"tr"),e.TgZ(25,"td",3),e._uU(26,"Organization"),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA(),e.qZA(),e.TgZ(29,"tr"),e.TgZ(30,"td",3),e._uU(31,"Username"),e.qZA(),e.TgZ(32,"td"),e._uU(33),e.qZA(),e.qZA(),e.TgZ(34,"tr"),e.TgZ(35,"td",3),e._uU(36,"First Name"),e.qZA(),e.TgZ(37,"td"),e._uU(38),e.qZA(),e.qZA(),e.TgZ(39,"tr"),e.TgZ(40,"td",3),e._uU(41,"Last Name"),e.qZA(),e.TgZ(42,"td"),e._uU(43),e.qZA(),e.qZA(),e.TgZ(44,"tr"),e.TgZ(45,"td",3),e._uU(46,"Role"),e.qZA(),e.TgZ(47,"td"),e._uU(48),e.qZA(),e.qZA(),e.TgZ(49,"tr"),e.TgZ(50,"td",3),e._uU(51,"Requested Permission"),e.qZA(),e.TgZ(52,"td"),e._uU(53),e.qZA(),e.qZA(),e.TgZ(54,"tr"),e.TgZ(55,"td",3),e._uU(56,"Requested Custom Rights"),e.qZA(),e.TgZ(57,"td"),e._uU(58),e.qZA(),e.qZA(),e.TgZ(59,"tr"),e.TgZ(60,"td",3),e._uU(61,"Date/Time"),e.qZA(),e.TgZ(62,"td"),e._uU(63),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(64,"br"),e.qZA(),e._UZ(65,"br"),e._UZ(66,"br"),e.TgZ(67,"button",4),e.NdJ("click",function(){return t.acceptButton()}),e.qZA(),e._UZ(68,"br"),e._UZ(69,"br"),e.TgZ(70,"button",5),e.NdJ("click",function(){return t.rejectButton()}),e.qZA(),e._UZ(71,"br"),e._UZ(72,"br"),e._UZ(73,"br"),e._UZ(74,"br"),e.TgZ(75,"button",6),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.hij("Permission request type: ",t.typeOfRequest,""),e.xp6(14),e.Oqu(t.datasetName),e.xp6(5),e.Oqu(t.datasetProvider),e.xp6(7),e.Oqu(t.organization),e.xp6(5),e.Oqu(t.username),e.xp6(5),e.Oqu(t.firstName),e.xp6(5),e.Oqu(t.lastName),e.xp6(5),e.Oqu(t.role),e.xp6(5),e.Oqu(t.permission),e.xp6(5),e.Oqu(t.customAccessRights),e.xp6(5),e.Oqu(t.dateTime))},directives:[$.Hq],styles:[".header[_ngcontent-%COMP%]{color:#023f88}tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}(),uv=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i}return r.prototype.ngOnInit=function(){this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.form=this.formBuilder.group({}),history.state.data&&(console.log(history.state.data),this.historyStateData=history.state.data,this.datasetName=this.historyStateData.datasetName,this.datasetProvider=this.historyStateData.datasetProvider,this.blockchain=this.historyStateData.blockchain,this.firstName=this.historyStateData.firstName,this.organization=this.historyStateData.organization,this.permission=this.historyStateData.permission,this.requestid=this.historyStateData.requestid,this.role=this.historyStateData.role,this.lastName=this.historyStateData.lastName,this.username=this.historyStateData.username,this.typeOfRequest=this.historyStateData.typeOfRequest,this.dateTime=this.historyStateData.dateTime,this.customAccessRights=this.historyStateData.customAccessRights)},r.prototype.acceptButton=function(){var a={requestID:this.requestid};console.log(a),"personal"==this.typeOfRequest?this.revokeAccessByUserFromRequest(a):this.revokeAccessByOrgFromRequest(a)},r.prototype.cancelButton=function(){this.router.navigate(["/dashboard/notifications"])},r.prototype.revokeAccessByUserFromRequest=function(a){var n=this;this.dashboardService.revokeAccessByUserFromRequest(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/notifications"])},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("revokeAccessByUserFromRequest",a)})},r.prototype.revokeAccessByOrgFromRequest=function(a){var n=this;this.dashboardService.revokeAccessByOrgFromRequest(a).subscribe(function(t){console.log(t),"Success"==t.response&&n.router.navigate(["/dashboard/notifications"])},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("revokeAccessByOrgFromRequest",a)})},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"revokeAccessByUserFromRequest"==a?t.revokeAccessByUserFromRequest(n):"revokeAccessByOrgFromRequest"==a&&t.revokeAccessByOrgFromRequest(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-view-revoke-request"]],decls:73,vars:11,consts:[[1,"title"],[1,"row"],[1,"col-md-4"],[1,"header"],["pButton","","type","button","label","Accept",3,"click"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5",0),e._uU(2),e.qZA(),e._UZ(3,"br"),e._UZ(4,"br"),e._UZ(5,"br"),e.TgZ(6,"div"),e._UZ(7,"br"),e._UZ(8,"br"),e.TgZ(9,"div",1),e.TgZ(10,"div",2),e.TgZ(11,"table"),e.TgZ(12,"tr"),e.TgZ(13,"td",3),e._uU(14,"Dataset Name"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"tr"),e.TgZ(18,"td",3),e._uU(19,"Dataset Provider Username"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",2),e.TgZ(23,"table"),e.TgZ(24,"tr"),e.TgZ(25,"td",3),e._uU(26,"Organization"),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA(),e.qZA(),e.TgZ(29,"tr"),e.TgZ(30,"td",3),e._uU(31,"Username"),e.qZA(),e.TgZ(32,"td"),e._uU(33),e.qZA(),e.qZA(),e.TgZ(34,"tr"),e.TgZ(35,"td",3),e._uU(36,"First Name"),e.qZA(),e.TgZ(37,"td"),e._uU(38),e.qZA(),e.qZA(),e.TgZ(39,"tr"),e.TgZ(40,"td",3),e._uU(41,"Last Name"),e.qZA(),e.TgZ(42,"td"),e._uU(43),e.qZA(),e.qZA(),e.TgZ(44,"tr"),e.TgZ(45,"td",3),e._uU(46,"Role"),e.qZA(),e.TgZ(47,"td"),e._uU(48),e.qZA(),e.qZA(),e.TgZ(49,"tr"),e.TgZ(50,"td",3),e._uU(51,"Permission"),e.qZA(),e.TgZ(52,"td"),e._uU(53),e.qZA(),e.qZA(),e.TgZ(54,"tr"),e.TgZ(55,"td",3),e._uU(56,"Requested Custom Rights"),e.qZA(),e.TgZ(57,"td"),e._uU(58),e.qZA(),e.qZA(),e.TgZ(59,"tr"),e.TgZ(60,"td",3),e._uU(61,"Date/Time"),e.qZA(),e.TgZ(62,"td"),e._uU(63),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(64,"br"),e.qZA(),e._UZ(65,"br"),e._UZ(66,"br"),e.TgZ(67,"button",4),e.NdJ("click",function(){return t.acceptButton()}),e.qZA(),e._UZ(68,"br"),e._UZ(69,"br"),e._UZ(70,"br"),e._UZ(71,"br"),e.TgZ(72,"button",5),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.hij("Revoke request type: ",t.typeOfRequest,""),e.xp6(14),e.Oqu(t.datasetName),e.xp6(5),e.Oqu(t.datasetProvider),e.xp6(7),e.Oqu(t.organization),e.xp6(5),e.Oqu(t.username),e.xp6(5),e.Oqu(t.firstName),e.xp6(5),e.Oqu(t.lastName),e.xp6(5),e.Oqu(t.role),e.xp6(5),e.Oqu(t.permission),e.xp6(5),e.Oqu(t.customAccessRights),e.xp6(5),e.Oqu(t.dateTime))},directives:[$.Hq],styles:[".header[_ngcontent-%COMP%]{color:#023f88}tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}();function cv(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",18),e.TgZ(1,"div"),e.TgZ(2,"input",19),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(20).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function dv(r,a){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",20),e.TgZ(2,"th",21),e._uU(3,"Username "),e._UZ(4,"p-sortIcon",22),e.qZA(),e.TgZ(5,"th",23),e._uU(6,"First Name "),e._UZ(7,"p-sortIcon",24),e.qZA(),e.TgZ(8,"th",25),e._uU(9,"Last Name "),e._UZ(10,"p-sortIcon",26),e.qZA(),e.TgZ(11,"th",27),e._uU(12,"User e-mail "),e._UZ(13,"p-sortIcon",28),e.qZA(),e.TgZ(14,"th",29),e._uU(15,"User Role "),e._UZ(16,"p-sortIcon",30),e.qZA(),e.TgZ(17,"th",31),e._uU(18,"Registration Date "),e._UZ(19,"p-sortIcon",32),e.qZA(),e.qZA())}function pv(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"p-checkbox",33),e.NdJ("onChange",function(){return e.CHM(n),e.oxw().onCheckboxChange()})("ngModelChange",function(s){return e.CHM(n),e.oxw().selectedRows=s}),e.qZA(),e.qZA(),e.TgZ(3,"td",34),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(4),e.qZA(),e.TgZ(5,"td",34),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(6),e.qZA(),e.TgZ(7,"td",34),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(8),e.qZA(),e.TgZ(9,"td",34),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(10),e.qZA(),e.TgZ(11,"td",34),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(12),e.qZA(),e.TgZ(13,"td",34),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(14),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngModel",i.selectedRows)("value",t),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.userFirstName),e.xp6(2),e.Oqu(t.userLastName),e.xp6(2),e.Oqu(t.userEmail),e.xp6(2),e.Oqu(t.userRole),e.xp6(2),e.Oqu(t.registered)}}var gv=function(){return["/dashboard/users"]},hv=function(){return["/dashboard/inactive-users"]},fv=function(){return["userId","username","userFirstName","userLastName","userEmail","userRole","registered"]},mv=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.userRoles=[],this.selectedDatasource=[],this.userRolesArray=[],this.selectedRows=[]}return r.prototype.ngOnInit=function(){this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),this.getInactiveAccountsByOrg()},r.prototype.getInactiveAccountsByOrg=function(){var a=this;this.dashboardService.getInactiveAccountsByOrg().subscribe(function(n){console.log(n);for(var i=[],o=0,s=n.result;o<s.length;o++){var u={username:(l=s[o]).Record.username,userFirstName:l.Record.name,userLastName:l.Record.surname,userEmail:l.Record.email,userRole:l.Record.type,registered:a.changeDateFormat(l.Record.dateTime),registeredSortable:l.Record.dateTime,externalOrg:l.Record.externalOrg,isExternalUser:l.Record.isExternalUser};i.push(u)}""!=a.externalOrg.trim()&&a.isExternalUser&&(i=i.filter(function(g){return g.externalOrg==a.externalOrg})),a.datasource=i;var c=a.datasource.map(function(g){return g.userRole});c=c.filter(function(g,h,f){return f.indexOf(g)===h}),a.userRoles=[{userRole:"All"}];for(var d=0,p=c;d<p.length;d++){var l;a.userRoles.push({userRole:l=p[d]})}a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getInactiveAccountsByOrg",[])})},r.prototype.onChange=function(a){var n=a.value.userRole;this.selectedDatasource="All"==n?this.datasource:this.datasource.filter(function(t){return n==t.userRole})},r.prototype.handleSelect=function(a){var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),this.router.navigate(["/dashboard/user-selected-profile"],{state:{user:a}})},r.prototype.activateSelectedButton=function(){var a=this;console.log("activate selected button");for(var n=0,t=this.selectedRows;n<t.length;n++){var i=t[n];this.activateAccount({username:i.username,organization:this.loggedinUserOrganization,name:i.userFirstName,surname:i.userLastName,email:i.userEmail,usertype:i.userRole,externalOrg:i.externalOrg,isExternalUser:i.isExternalUser})}setTimeout(function(){a.datasource=[],a.selectedDatasource=[],a.getInactiveAccountsByOrg()},5e3)},r.prototype.activateAccount=function(a){var n=this;this.dashboardService.activateAccount(a).subscribe(function(t){console.log(t),alert("The selected user account has been activated and the new password is: "+t.response)},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("activateAccount",a)})},r.prototype.onCheckboxChange=function(){var a=this.selectedRows[this.selectedRows.length-1];this.selectedRows.length=0,this.selectedRows.push(a)},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"getInactiveAccountsByOrg"==a?t.getInactiveAccountsByOrg():"activateAccount"==a&&t.activateAccount(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-inactive-users"]],decls:24,vars:15,consts:[[1,"page-container"],[1,"page-routing","d-flex"],[3,"routerLink"],["routerLinkActive","active",3,"routerLink"],[1,"card"],[2,"text-align","right"],["pButton","","type","button","label","Activate Selected",3,"click"],[1,"row"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","32px","margin-left","15px"],[1,"icon-filters"],[1,"dropdownLabel"],["optionLabel","userRole",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","",2,"width","3rem"],["id","th12","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th13","pResizableColumn","","pSortableColumn","userFirstName"],["field","userFirstName"],["id","th14","pResizableColumn","","pSortableColumn","userLastName"],["field","userLastName"],["id","th15","pResizableColumn","","pSortableColumn","userEmail"],["field","userEmail"],["id","th16","pResizableColumn","","pSortableColumn","userRole"],["field","userRole"],["id","th17","pResizableColumn","","pSortableColumn","registeredSortable"],["field","registeredSortable"],[3,"ngModel","value","onChange","ngModelChange"],[3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"a",2),e._uU(3),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div"),e.TgZ(7,"div",4),e.TgZ(8,"div",5),e.TgZ(9,"button",6),e.NdJ("click",function(){return t.activateSelectedButton()}),e.qZA(),e.qZA(),e.TgZ(10,"div",7),e.TgZ(11,"div",8),e.TgZ(12,"h6",9),e._UZ(13,"span",10),e._uU(14,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(15,"div",8),e.TgZ(16,"h6",11),e._uU(17,"User role:"),e.qZA(),e.TgZ(18,"p-dropdown",12),e.NdJ("ngModelChange",function(o){return t.selectedUserRole=o})("onChange",function(o){return t.onChange(o)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"p-table",13,14),e.YNc(21,cv,4,3,"ng-template",15),e.YNc(22,dv,20,0,"ng-template",16),e.YNc(23,pv,15,8,"ng-template",17),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(12,gv)),e.xp6(1),e.Oqu("Active Users"),e.xp6(1),e.Q6J("routerLink",e.DdM(13,hv)),e.xp6(1),e.Oqu("Inactive Users"),e.xp6(13),e.Q6J("options",t.userRoles)("ngModel",t.selectedUserRole),e.xp6(1),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(14,fv)))},directives:[q.yS,q.Od,$.Hq,ne.Lt,T.JJ,T.On,N,D.jx,j,re,ae,ie,Ht.XZ],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:220px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}();function vv(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"div"),e.TgZ(2,"input",20),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(27).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function bv(r,a){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",21),e.TgZ(2,"th",22),e._uU(3,"Username "),e._UZ(4,"p-sortIcon",23),e.qZA(),e.TgZ(5,"th",24),e._uU(6,"First Name "),e._UZ(7,"p-sortIcon",25),e.qZA(),e.TgZ(8,"th",26),e._uU(9,"Last Name "),e._UZ(10,"p-sortIcon",27),e.qZA(),e.TgZ(11,"th",28),e._uU(12,"User e-mail "),e._UZ(13,"p-sortIcon",29),e.qZA(),e.TgZ(14,"th",30),e._uU(15,"User Role "),e._UZ(16,"p-sortIcon",31),e.qZA(),e.TgZ(17,"th",32),e._uU(18,"Registration Date "),e._UZ(19,"p-sortIcon",33),e.qZA(),e.qZA())}function yv(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"p-checkbox",34),e.NdJ("onChange",function(){return e.CHM(n),e.oxw().onCheckboxChange()})("ngModelChange",function(s){return e.CHM(n),e.oxw().selectedRows=s}),e.qZA(),e.qZA(),e.TgZ(3,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(4),e.qZA(),e.TgZ(5,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(6),e.qZA(),e.TgZ(7,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(8),e.qZA(),e.TgZ(9,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(10),e.qZA(),e.TgZ(11,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(12),e.qZA(),e.TgZ(13,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(14),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngModel",i.selectedRows)("value",t),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.userFirstName),e.xp6(2),e.Oqu(t.userLastName),e.xp6(2),e.Oqu(t.userEmail),e.xp6(2),e.Oqu(t.userRole),e.xp6(2),e.Oqu(t.registered)}}var _v=function(){return["/dashboard/org-selected-profile"]},gi=function(r){return{organization:r}},Tv=function(){return["/dashboard/org-selected-users"]},Cv=function(){return["/dashboard/org-selected-inactive-users"]},Zv=function(){return["userId","username","userFirstName","userLastName","userEmail","userRole","registered"]},kv=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.userRoles=[],this.selectedDatasource=[],this.userRolesArray=[],this.selectedRows=[]}return r.prototype.ngOnInit=function(){if(history.state.organization)console.log(history.state.organization),this.historyStateData=history.state.organization;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.orgName=this.historyStateData.orgName,this.isExternalOrg=this.historyStateData.isExternalOrg,this.getInactiveAccounts()},r.prototype.getInactiveAccounts=function(){var a=this;this.dashboardService.getInactiveAccounts().subscribe(function(n){console.log(n);for(var t=n.result,i=0,o=t=t.filter(a.isExternalOrg?function(p){return p.Record.externalOrg==a.orgName}:function(p){return p.Record.organization==a.orgName});i<o.length;i++){var l={username:(s=o[i]).Record.username,userFirstName:s.Record.name,userLastName:s.Record.surname,userEmail:s.Record.email,userRole:s.Record.type,registered:a.changeDateFormat(s.Record.dateTime),registeredSortable:s.Record.dateTime,organization:s.Record.organization,externalOrg:s.Record.externalOrg,isExternalUser:s.Record.isExternalUser};a.datasource.push(l)}var u=a.datasource.map(function(p){return p.userRole});u=u.filter(function(p,g,h){return h.indexOf(p)===g}),a.userRoles=[{userRole:"All"}];for(var c=0,d=u;c<d.length;c++){var s;a.userRoles.push({userRole:s=d[c]})}a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getInactiveAccounts",[])})},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/organizations-users"])},r.prototype.onChange=function(a){var n=a.value.userRole;this.selectedDatasource="All"==n?this.datasource:this.datasource.filter(function(t){return n==t.userRole})},r.prototype.handleSelect=function(a){var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),this.router.navigate(["/dashboard/net-user-selected-profile"],{state:{user:a,organization:history.state.organization}})},r.prototype.activateSelectedButton=function(){var a=this;console.log("activate selected button");for(var n=0,t=this.selectedRows;n<t.length;n++){var i=t[n];this.activateAccount({username:i.username,organization:i.organization,name:i.userFirstName,surname:i.userLastName,email:i.userEmail,usertype:i.userRole,externalOrg:i.externalOrg,isExternalUser:i.isExternalUser})}setTimeout(function(){a.datasource=[],a.selectedDatasource=[],a.getInactiveAccounts()},5e3)},r.prototype.activateAccount=function(a){var n=this;this.dashboardService.activateAccount(a).subscribe(function(t){console.log(t),alert("The selected user account has been activated and the new password is: "+t.response)},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("activateAccount",a)})},r.prototype.onCheckboxChange=function(){var a=this.selectedRows[this.selectedRows.length-1];this.selectedRows.length=0,this.selectedRows.push(a)},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"getActiveAccountsByOrg"==a?t.getInactiveAccounts():"activateAccount"==a&&t.activateAccount(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-org-selected-inactive-users"]],decls:31,vars:28,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[2,"text-align","right"],["pButton","","type","button","label","Activate Selected",3,"click"],[1,"row"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","32px","margin-left","15px"],[1,"icon-filters"],[1,"dropdownLabel"],["optionLabel","userRole",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","",2,"width","3rem"],["id","th12","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th13","pResizableColumn","","pSortableColumn","userFirstName"],["field","userFirstName"],["id","th14","pResizableColumn","","pSortableColumn","userLastName"],["field","userLastName"],["id","th15","pResizableColumn","","pSortableColumn","userEmail"],["field","userEmail"],["id","th16","pResizableColumn","","pSortableColumn","userRole"],["field","userRole"],["id","th17","pResizableColumn","","pSortableColumn","registeredSortable"],["field","registeredSortable"],[3,"ngModel","value","onChange","ngModelChange"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Organizations"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"h5"),e._uU(12),e.qZA(),e.TgZ(13,"div"),e.TgZ(14,"div",5),e.TgZ(15,"div",6),e.TgZ(16,"button",7),e.NdJ("click",function(){return t.activateSelectedButton()}),e.qZA(),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"div",9),e.TgZ(19,"h6",10),e._UZ(20,"span",11),e._uU(21,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(22,"div",9),e.TgZ(23,"h6",12),e._uU(24,"User role:"),e.qZA(),e.TgZ(25,"p-dropdown",13),e.NdJ("ngModelChange",function(o){return t.selectedUserRole=o})("onChange",function(o){return t.onChange(o)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"p-table",14,15),e.YNc(28,vv,4,3,"ng-template",16),e.YNc(29,bv,20,0,"ng-template",17),e.YNc(30,yv,15,8,"ng-template",18),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(18,_v))("state",e.VKq(19,gi,t.historyStateData)),e.xp6(1),e.Oqu("Profile"),e.xp6(1),e.Q6J("routerLink",e.DdM(21,Tv))("state",e.VKq(22,gi,t.historyStateData)),e.xp6(1),e.Oqu("Organization Active Users"),e.xp6(1),e.Q6J("routerLink",e.DdM(24,Cv))("state",e.VKq(25,gi,t.historyStateData)),e.xp6(1),e.Oqu("Organization Inactive Users"),e.xp6(2),e.Oqu(t.orgName),e.xp6(13),e.Q6J("options",t.userRoles)("ngModel",t.selectedUserRole),e.xp6(1),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(27,Zv)))},directives:[q.yS,q.Od,$.Hq,ne.Lt,T.JJ,T.On,N,D.jx,j,re,ae,ie,Ht.XZ],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:220px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}();function Sv(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(15).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Av(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",14),e._uU(2,"Name "),e._UZ(3,"p-sortIcon",15),e.qZA(),e.TgZ(4,"th",16),e._uU(5,"Description "),e._UZ(6,"p-sortIcon",17),e.qZA(),e.TgZ(7,"th",18),e._uU(8,"Provider "),e._UZ(9,"p-sortIcon",19),e.qZA(),e.TgZ(10,"th",20),e._uU(11,"DataSource ID "),e._UZ(12,"br"),e._uU(13," missing "),e._UZ(14,"p-sortIcon",21),e.qZA(),e.TgZ(15,"th",22),e._uU(16,"Endpoint "),e._UZ(17,"p-sortIcon",23),e.qZA(),e.TgZ(18,"th",24),e._uU(19,"Release Date "),e._UZ(20,"p-sortIcon",25),e.qZA(),e.qZA())}function wv(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr",26),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",27),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Oqu(t.dataName),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.dataProvider),e.xp6(1),e.Q6J("ngClass",i.getClassOfDataSourceIDMissing(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.dataSourceIDMissing),e.xp6(2),e.Oqu(t.dataLocation),e.xp6(2),e.Oqu(t.lastModified)}}var xv=function(){return["dataName","description","dataProvider","dataSourceIDMissing","dataLocation","lastModified"]},Ov=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.providers=[],this.selectedDatasource=[]}return r.prototype.ngOnInit=function(){this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.queryMetadataByOrganizationOwner()},r.prototype.onDataProviderChange=function(a){var n=this;if(this.selectedProviderValue=a.value.dataProvider,"All"==this.selectedProviderValue)this.selectedDatasource=this.datasource;else{var t=this.datasource;"All"!=this.selectedProviderValue&&null!=this.selectedProviderValue&&(t=t.filter(function(i){return n.selectedProviderValue==i.dataProvider})),this.selectedDatasource=t}},r.prototype.handleSelect=function(a){var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),this.router.navigate(a.usernameOfProvider==this.loggedinUserUsername?["/dashboard/my-datasets-details"]:["/dashboard/org-datasets-details"],{state:{data:a}})},r.prototype.queryMetadataByOrganizationOwner=function(){var a=this;this.dashboardService.queryMetadataByOrganizationOwner().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var l={dataId:(s=o[i]).Key,dataName:s.Record.datasetName,description:s.Record.datasetDescription,dataOwner:s.Record.orgOfOwner,dataProvider:s.Record.orgOfProvider,blockchain:s.Record.blockchain,dataLocation:s.Record.endpoint,lastModified:a.changeDateFormat(s.Record.releaseDateTime),lastModifiedSortable:s.Record.releaseDateTime,usernameOfProvider:s.Record.usernameOfProvider,dataSourceIDMissing:"No",hasAgent:s.Record.hasAgent,dataSourceID:s.Record.dataSourceMetadata.dataSourceID};"true"==l.hasAgent&&(null==l.dataSourceID||""==l.dataSourceID.trim())&&(l.dataSourceIDMissing="Yes"),a.datasource.push(l)}var u=a.datasource.map(function(p){return p.dataProvider});u=u.filter(function(p,g,h){return h.indexOf(p)===g}),a.providers=[{dataProvider:"All"}];for(var c=0,d=u;c<d.length;c++){var s;a.providers.push({dataProvider:s=d[c]})}a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryMetadataByOrganizationOwner")})},r.prototype.getClassOfDataSourceIDMissing=function(a,n){if("true"==a&&(null==n||""==n.trim()))return"dataSourceIDMissing"},r.prototype.refreshTokens=function(a){var n=this;this.dashboardService.refreshTokens().subscribe(function(t){console.log(t),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),"queryMetadataByOrganizationOwner"==a&&n.queryMetadataByOrganizationOwner()},function(t){console.log(t),n.logoutUser()})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-org-datasets"]],decls:19,vars:9,consts:[[1,"card"],[1,"row"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","32px","margin-left","15px"],[1,"icon-filters"],[1,"dropdownLabel"],["optionLabel","dataProvider",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","dataName"],["field","dataName"],["id","th12","pResizableColumn","","pSortableColumn","description"],["field","description"],["id","th13","pResizableColumn","","pSortableColumn","dataProvider"],["field","dataProvider"],["id","th14","pResizableColumn","","pSortableColumn","dataSourceIDMissing"],["field","dataSourceIDMissing"],["id","th15","pResizableColumn","","pSortableColumn","dataLocation"],["field","dataLocation"],["id","th16","pResizableColumn","","pSortableColumn","lastModifiedSortable"],["field","lastModifiedSortable"],[3,"click"],[3,"ngClass"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5"),e._uU(2,"Organizational Datasets"),e.qZA(),e.TgZ(3,"div",0),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e.TgZ(6,"h6",3),e._UZ(7,"span",4),e._uU(8,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(9,"div",2),e.TgZ(10,"h6",5),e._uU(11,"Provider:"),e.qZA(),e.TgZ(12,"p-dropdown",6),e.NdJ("ngModelChange",function(o){return t.selectedOwner=o})("onChange",function(o){return t.onDataProviderChange(o)}),e.qZA(),e.qZA(),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"p-table",7,8),e.YNc(16,Sv,4,3,"ng-template",9),e.YNc(17,Av,21,0,"ng-template",10),e.YNc(18,wv,13,7,"ng-template",11),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(12),e.Q6J("options",t.providers)("ngModel",t.selectedOwner),e.xp6(2),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(8,xv)))},directives:[ne.Lt,T.JJ,T.On,N,D.jx,j,re,ae,ie,I.mk],pipes:[ee.X$],styles:["tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.dataSourceIDMissing[_ngcontent-%COMP%]{background-color:#ee7b30;color:#fff}"]}),r}(),qv=function(){return["/dashboard/org-datasets-details"]},aa=function(r){return{data:r}},Dv=function(){return["/dashboard/org-datasets-content"]},Mv=function(){return["/dashboard/org-datasets-history"]},Rv=function(){return["/dashboard/org-datasets-datasource-history"]},Iv=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.agreementHash="",this.termsConditionsHash="",this.copyrightHash="",this.fileExists=!1}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.queryMetadataByName(this.historyStateData.dataName)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/org-datasets"])},r.prototype.queryMetadataByName=function(a){var n=this;this.dashboardService.queryMetadataByName(a).subscribe(function(t){console.log(t);var i=t.result;n.identifier=i.identifier,n.usernameOfProvider=i.usernameOfProvider,n.emailOfProvider=i.emailOfProvider,n.datasetName=i.datasetName,n.datasetDescription=i.datasetDescription,n.customAccessRights=i.customAccessRights,n.agreementURL=i.contractAgreementURL,n.agreementHash=i.contractAgreementHash,n.termsConditionsURL=i.termsConditionsURL,n.termsConditionsHash=i.termsConditionsHash,n.copyrightURL=i.copyrightsURL,n.copyrightHash=i.copyrightHash,n.version=i.version,n.industryDomain=i.industryDomain,n.datasetOwner=i.orgOfOwner,n.datasetProvider=i.orgOfProvider,n.datasetOwnerUsername=i.usernameOfOwner,n.dataVolume=i.dataVolume,n.dataVelocity=i.dataVelocity,n.distribution=i.distribution,n.themeCategory=i.themeCategory,n.comments=i.comments,n.accessRights=i.accessRights,n.endpoint=i.endpoint,n.blockchain=i.blockchain,n.language=i.language,n.hasAgent=i.hasAgent,n.dataSourceID=i.dataSourceMetadata.dataSourceID,n.keywordTag=i.keywordTag,n.spatialGeographicCoverage=i.spatialGeographicCoverage,n.temporalCoverageStart=n.changeDateFormat4(i.temporalCoverageStart),n.temporalCoverageEnd=n.changeDateFormat4(i.temporalCoverageEnd),n.fileExists=!!(n.agreementURL||n.termsConditionsURL||n.copyrightURL)},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryMetadataByName",a)})},r.prototype.changeDateFormat4=function(a){return a&&a.substr(8,2)+"/"+a.substr(5,2)+"/"+a.substr(0,4)},r.prototype.getClassOfHasAgent=function(a,n){if("true"==a&&(null==n||""==n.trim()))return"missing"},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryMetadataByName"==a&&t.queryMetadataByName(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-org-datasets-details"]],decls:258,vars:75,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"row"],[1,"col-md-4"],[1,"header"],[1,"col-md-4",3,"hidden"],[3,"ngClass"],[1,"row",3,"hidden"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Organizational Datasets"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div"),e.TgZ(14,"div",5),e.TgZ(15,"div",6),e.TgZ(16,"table"),e.TgZ(17,"tr"),e.TgZ(18,"td",7),e._uU(19,"Identifier"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.qZA(),e.TgZ(22,"tr"),e.TgZ(23,"td",7),e._uU(24,"Dataset Provider Username"),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.qZA(),e.TgZ(27,"tr"),e.TgZ(28,"td",7),e._uU(29,"Dataset Provider E-mail"),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.qZA(),e.qZA(),e.TgZ(32,"tr"),e.TgZ(33,"td",7),e._uU(34,"Dataset Name"),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.qZA(),e.qZA(),e.TgZ(37,"tr"),e.TgZ(38,"td",7),e._uU(39,"Dataset Description"),e.qZA(),e.TgZ(40,"td"),e._uU(41),e.qZA(),e.qZA(),e.TgZ(42,"tr"),e.TgZ(43,"td",7),e._uU(44,"Agreement URL"),e.qZA(),e.TgZ(45,"td"),e._uU(46),e.qZA(),e.qZA(),e.TgZ(47,"tr"),e.TgZ(48,"td",7),e._uU(49,"Agreement Hash (MD5)"),e.qZA(),e.TgZ(50,"td"),e._uU(51),e.qZA(),e.qZA(),e.TgZ(52,"tr"),e.TgZ(53,"td",7),e._uU(54,"Terms and Conditions URL"),e.qZA(),e.TgZ(55,"td"),e._uU(56),e.qZA(),e.qZA(),e.TgZ(57,"tr"),e.TgZ(58,"td",7),e._uU(59,"Terms and Conditions Hash (MD5)"),e.qZA(),e.TgZ(60,"td"),e._uU(61),e.qZA(),e.qZA(),e.TgZ(62,"tr"),e.TgZ(63,"td",7),e._uU(64,"Copyright URL"),e.qZA(),e.TgZ(65,"td"),e._uU(66),e.qZA(),e.qZA(),e.TgZ(67,"tr"),e.TgZ(68,"td",7),e._uU(69,"Copyright Hash (MD5)"),e.qZA(),e.TgZ(70,"td"),e._uU(71),e.qZA(),e.qZA(),e.TgZ(72,"tr"),e.TgZ(73,"td",7),e._uU(74,"Version"),e.qZA(),e.TgZ(75,"td"),e._uU(76),e.qZA(),e.qZA(),e.TgZ(77,"tr"),e.TgZ(78,"td",7),e._uU(79,"Industry Domain"),e.qZA(),e.TgZ(80,"td"),e._uU(81),e.qZA(),e.qZA(),e.TgZ(82,"tr"),e.TgZ(83,"td",7),e._uU(84,"Access Rights"),e.qZA(),e.TgZ(85,"td"),e._uU(86),e.qZA(),e.qZA(),e.TgZ(87,"tr"),e.TgZ(88,"td",7),e._uU(89,"Custom Access Rights"),e.qZA(),e.TgZ(90,"td"),e._uU(91),e.qZA(),e.qZA(),e.TgZ(92,"tr"),e.TgZ(93,"td",7),e._uU(94,"Blockchain"),e.qZA(),e.TgZ(95,"td"),e._uU(96),e.qZA(),e.qZA(),e.TgZ(97,"tr"),e.TgZ(98,"td",7),e._uU(99,"Keyword / Tag"),e.qZA(),e.TgZ(100,"td"),e._uU(101),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(102,"div",8),e.TgZ(103,"table"),e.TgZ(104,"tr"),e.TgZ(105,"td",7),e._uU(106,"Endpoint"),e.qZA(),e.TgZ(107,"td"),e._uU(108),e.qZA(),e.qZA(),e.TgZ(109,"tr"),e.TgZ(110,"td",7),e._uU(111,"Dataset Provider"),e.qZA(),e.TgZ(112,"td"),e._uU(113),e.qZA(),e.qZA(),e.TgZ(114,"tr"),e.TgZ(115,"td",7),e._uU(116,"Dataset Owner"),e.qZA(),e.TgZ(117,"td"),e._uU(118),e.qZA(),e.qZA(),e.TgZ(119,"tr"),e.TgZ(120,"td",7),e._uU(121,"Dataset Owner Username"),e.qZA(),e.TgZ(122,"td"),e._uU(123),e.qZA(),e.qZA(),e.TgZ(124,"tr"),e.TgZ(125,"td",7),e._uU(126,"Data Volume (KiB)"),e.qZA(),e.TgZ(127,"td"),e._uU(128),e.qZA(),e.qZA(),e.TgZ(129,"tr"),e.TgZ(130,"td",7),e._uU(131,"Data Velocity (KiB/sec)"),e.qZA(),e.TgZ(132,"td"),e._uU(133),e.qZA(),e.qZA(),e.TgZ(134,"tr"),e.TgZ(135,"td",7),e._uU(136,"Distribution"),e.qZA(),e.TgZ(137,"td"),e._uU(138),e.qZA(),e.qZA(),e.TgZ(139,"tr"),e.TgZ(140,"td",7),e._uU(141,"Language"),e.qZA(),e.TgZ(142,"td"),e._uU(143),e.qZA(),e.qZA(),e.TgZ(144,"tr"),e.TgZ(145,"td",7),e._uU(146,"Theme / Category"),e.qZA(),e.TgZ(147,"td"),e._uU(148),e.qZA(),e.qZA(),e.TgZ(149,"tr"),e.TgZ(150,"td",7),e._uU(151,"Comments"),e.qZA(),e.TgZ(152,"td"),e._uU(153),e.qZA(),e.qZA(),e.TgZ(154,"tr"),e.TgZ(155,"td",7),e._uU(156,"Spatial Geographic Coverage"),e.qZA(),e.TgZ(157,"td"),e._uU(158),e.qZA(),e.qZA(),e.TgZ(159,"tr"),e.TgZ(160,"td",7),e._uU(161,"Temporal Coverage Start"),e.qZA(),e.TgZ(162,"td"),e._uU(163),e.qZA(),e.qZA(),e.TgZ(164,"tr"),e.TgZ(165,"td",7),e._uU(166,"Temporal Coverage End"),e.qZA(),e.TgZ(167,"td"),e._uU(168),e.qZA(),e.qZA(),e.TgZ(169,"tr"),e.TgZ(170,"td",7),e._uU(171,"Has Agent"),e.qZA(),e.TgZ(172,"td",9),e._uU(173),e.qZA(),e.qZA(),e.TgZ(174,"tr"),e.TgZ(175,"td",7),e._uU(176,"Data Source ID"),e.qZA(),e.TgZ(177,"td"),e._uU(178),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(179,"div",10),e.TgZ(180,"div",6),e._UZ(181,"br"),e.TgZ(182,"table"),e.TgZ(183,"tr"),e.TgZ(184,"td",7),e._uU(185,"Endpoint"),e.qZA(),e.TgZ(186,"td"),e._uU(187),e.qZA(),e.qZA(),e.TgZ(188,"tr"),e.TgZ(189,"td",7),e._uU(190,"Dataset Provider"),e.qZA(),e.TgZ(191,"td"),e._uU(192),e.qZA(),e.qZA(),e.TgZ(193,"tr"),e.TgZ(194,"td",7),e._uU(195,"Dataset Owner"),e.qZA(),e.TgZ(196,"td"),e._uU(197),e.qZA(),e.qZA(),e.TgZ(198,"tr"),e.TgZ(199,"td",7),e._uU(200,"Dataset Owner Username"),e.qZA(),e.TgZ(201,"td"),e._uU(202),e.qZA(),e.qZA(),e.TgZ(203,"tr"),e.TgZ(204,"td",7),e._uU(205,"Data Volume (KiB)"),e.qZA(),e.TgZ(206,"td"),e._uU(207),e.qZA(),e.qZA(),e.TgZ(208,"tr"),e.TgZ(209,"td",7),e._uU(210,"Data Velocity (KiB/sec)"),e.qZA(),e.TgZ(211,"td"),e._uU(212),e.qZA(),e.qZA(),e.TgZ(213,"tr"),e.TgZ(214,"td",7),e._uU(215,"Distribution"),e.qZA(),e.TgZ(216,"td"),e._uU(217),e.qZA(),e.qZA(),e.TgZ(218,"tr"),e.TgZ(219,"td",7),e._uU(220,"Language"),e.qZA(),e.TgZ(221,"td"),e._uU(222),e.qZA(),e.qZA(),e.TgZ(223,"tr"),e.TgZ(224,"td",7),e._uU(225,"Theme / Category"),e.qZA(),e.TgZ(226,"td"),e._uU(227),e.qZA(),e.qZA(),e.TgZ(228,"tr"),e.TgZ(229,"td",7),e._uU(230,"Comments"),e.qZA(),e.TgZ(231,"td"),e._uU(232),e.qZA(),e.qZA(),e.TgZ(233,"tr"),e.TgZ(234,"td",7),e._uU(235,"Spatial Geographic Coverage"),e.qZA(),e.TgZ(236,"td"),e._uU(237),e.qZA(),e.qZA(),e.TgZ(238,"tr"),e.TgZ(239,"td",7),e._uU(240,"Temporal Coverage Start"),e.qZA(),e.TgZ(241,"td"),e._uU(242),e.qZA(),e.qZA(),e.TgZ(243,"tr"),e.TgZ(244,"td",7),e._uU(245,"Temporal Coverage End"),e.qZA(),e.TgZ(246,"td"),e._uU(247),e.qZA(),e.qZA(),e.TgZ(248,"tr"),e.TgZ(249,"td",7),e._uU(250,"Has Agent"),e.qZA(),e.TgZ(251,"td",9),e._uU(252),e.qZA(),e.qZA(),e.TgZ(253,"tr"),e.TgZ(254,"td",7),e._uU(255,"Data Source ID"),e.qZA(),e.TgZ(256,"td"),e._uU(257),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(63,qv))("state",e.VKq(64,aa,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(66,Dv))("state",e.VKq(67,aa,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(69,Mv))("state",e.VKq(70,aa,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(72,Rv))("state",e.VKq(73,aa,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(9),e.Oqu(t.identifier),e.xp6(5),e.Oqu(t.usernameOfProvider),e.xp6(5),e.Oqu(t.emailOfProvider),e.xp6(5),e.Oqu(t.datasetName),e.xp6(5),e.Oqu(t.datasetDescription),e.xp6(5),e.Oqu(t.agreementURL),e.xp6(5),e.Oqu(t.agreementHash),e.xp6(5),e.Oqu(t.termsConditionsURL),e.xp6(5),e.Oqu(t.termsConditionsHash),e.xp6(5),e.Oqu(t.copyrightURL),e.xp6(5),e.Oqu(t.copyrightHash),e.xp6(5),e.Oqu(t.version),e.xp6(5),e.Oqu(t.industryDomain),e.xp6(5),e.Oqu(t.accessRights),e.xp6(5),e.Oqu(t.customAccessRights),e.xp6(5),e.Oqu(t.blockchain),e.xp6(5),e.Oqu(t.keywordTag),e.xp6(1),e.Q6J("hidden",1==t.fileExists),e.xp6(6),e.Oqu(t.endpoint),e.xp6(5),e.Oqu(t.datasetProvider),e.xp6(5),e.Oqu(t.datasetOwner),e.xp6(5),e.Oqu(t.datasetOwnerUsername),e.xp6(5),e.Oqu(t.dataVolume),e.xp6(5),e.Oqu(t.dataVelocity),e.xp6(5),e.Oqu(t.distribution),e.xp6(5),e.Oqu(t.language),e.xp6(5),e.Oqu(t.themeCategory),e.xp6(5),e.Oqu(t.comments),e.xp6(5),e.Oqu(t.spatialGeographicCoverage),e.xp6(5),e.Oqu(t.temporalCoverageStart),e.xp6(5),e.Oqu(t.temporalCoverageEnd),e.xp6(4),e.Q6J("ngClass",t.getClassOfHasAgent(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.hasAgent),e.xp6(5),e.Oqu(t.dataSourceID),e.xp6(1),e.Q6J("hidden",0==t.fileExists),e.xp6(8),e.Oqu(t.endpoint),e.xp6(5),e.Oqu(t.datasetProvider),e.xp6(5),e.Oqu(t.datasetOwner),e.xp6(5),e.Oqu(t.datasetOwnerUsername),e.xp6(5),e.Oqu(t.dataVolume),e.xp6(5),e.Oqu(t.dataVelocity),e.xp6(5),e.Oqu(t.distribution),e.xp6(5),e.Oqu(t.language),e.xp6(5),e.Oqu(t.themeCategory),e.xp6(5),e.Oqu(t.comments),e.xp6(5),e.Oqu(t.spatialGeographicCoverage),e.xp6(5),e.Oqu(t.temporalCoverageStart),e.xp6(5),e.Oqu(t.temporalCoverageEnd),e.xp6(4),e.Q6J("ngClass",t.getClassOfHasAgent(t.hasAgent,t.dataSourceID)),e.xp6(1),e.Oqu(t.hasAgent),e.xp6(5),e.Oqu(t.dataSourceID))},directives:[q.yS,q.Od,I.mk],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.afterFile[_ngcontent-%COMP%]{margin-top:8px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.header[_ngcontent-%COMP%]{color:#023f88}.missing[_ngcontent-%COMP%]{color:#ee7b30;font-weight:bold}tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}"]}),r}(),Uv=function(){return["/dashboard/org-datasets-details"]},ia=function(r){return{data:r}},Pv=function(){return["/dashboard/org-datasets-content"]},Ev=function(){return["/dashboard/org-datasets-history"]},Bv=function(){return["/dashboard/org-datasets-datasource-history"]},Nv=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t}return r.prototype.ngOnInit=function(){if(history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.queryMetadataByName(this.historyStateData.dataName)},r.prototype.queryMetadataByName=function(a){var n=this;this.dashboardService.queryMetadataByName(a).subscribe(function(t){console.log(t);var o=t.result.dataSourceMetadata;console.log("dataSourceMetadata:"),console.log(o),n.dataSourceId=o.dataSourceID,n.dataSourceType=o.dataSourceType,n.dataModels=o.dataModels.value,n.service=o.service,n.servicePath=o.servicePath,n.attributes=o.attributes,n.mapping=o.mapping,n.isDataPortsCompatible=o.isDataPortsCompatible,n.dataProvided=o.dataProvided.value.split(",").join(", ")},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryMetadataByName",a)})},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/org-datasets"])},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryMetadataByName"==a&&t.queryMetadataByName(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-org-datasets-content"]],decls:61,vars:33,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"row"],[1,"datasetView"],[1,"header"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Organizational Datasets"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",5),e.TgZ(14,"div"),e.TgZ(15,"table",6),e.TgZ(16,"tr"),e.TgZ(17,"td",7),e._uU(18,"Data source ID"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"tr"),e.TgZ(22,"td",7),e._uU(23,"Type"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA(),e.qZA(),e.TgZ(26,"tr"),e.TgZ(27,"td",7),e._uU(28,"Data Models"),e.qZA(),e.TgZ(29,"td"),e._uU(30),e.qZA(),e.qZA(),e.TgZ(31,"tr"),e.TgZ(32,"td",7),e._uU(33,"Service"),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.qZA(),e.qZA(),e.TgZ(36,"tr"),e.TgZ(37,"td",7),e._uU(38,"Service Path"),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.qZA(),e.qZA(),e.TgZ(41,"tr"),e.TgZ(42,"td",7),e._uU(43,"Attributes"),e.qZA(),e.TgZ(44,"td"),e._uU(45),e.qZA(),e.qZA(),e.TgZ(46,"tr"),e.TgZ(47,"td",7),e._uU(48,"Data provided"),e.qZA(),e.TgZ(49,"td"),e._uU(50),e.qZA(),e.qZA(),e.TgZ(51,"tr"),e.TgZ(52,"td",7),e._uU(53,"Mapping"),e.qZA(),e.TgZ(54,"td"),e._uU(55),e.qZA(),e.qZA(),e.TgZ(56,"tr"),e.TgZ(57,"td",7),e._uU(58,"Is DataPorts compatible?"),e.qZA(),e.TgZ(59,"td"),e._uU(60),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(21,Uv))("state",e.VKq(22,ia,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(24,Pv))("state",e.VKq(25,ia,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(27,Ev))("state",e.VKq(28,ia,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(30,Bv))("state",e.VKq(31,ia,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(8),e.Oqu(t.dataSourceId),e.xp6(5),e.Oqu(t.dataSourceType),e.xp6(5),e.Oqu(t.dataModels),e.xp6(5),e.Oqu(t.service),e.xp6(5),e.Oqu(t.servicePath),e.xp6(5),e.Oqu(t.attributes),e.xp6(5),e.Oqu(t.dataProvided),e.xp6(5),e.Oqu(t.mapping),e.xp6(5),e.Oqu(t.isDataPortsCompatible))},directives:[q.yS,q.Od],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.header[_ngcontent-%COMP%]{color:#023f88;width:200px}.datasetView[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}.datasetView[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}"]}),r}();function Lv(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(16).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Fv(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",13),e._uU(2,"Change "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",15),e._uU(5,"Username "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.TgZ(7,"th",17),e._uU(8,"Organization "),e._UZ(9,"p-sortIcon",18),e.qZA(),e.TgZ(10,"th",19),e._uU(11,"Date/Time "),e._UZ(12,"p-sortIcon",20),e.qZA(),e.TgZ(13,"th",21),e._uU(14,"Comment "),e._UZ(15,"p-sortIcon",22),e.qZA(),e.qZA())}function zv(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td",23),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.changeType),e.xp6(2),e.Oqu(n.username),e.xp6(2),e.Oqu(n.organization),e.xp6(2),e.Oqu(n.date),e.xp6(2),e.Oqu(n.comment)}}var Hv=function(){return["/dashboard/org-datasets-details"]},ra=function(r){return{data:r}},Vv=function(){return["/dashboard/org-datasets-content"]},Jv=function(){return["/dashboard/org-datasets-history"]},Yv=function(){return["/dashboard/org-datasets-datasource-history"]},Qv=function(){return["changeType","username","organization","date","comment"]},Kv=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[]}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.getChangesHistory(this.historyStateData.dataId)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/org-datasets"])},r.prototype.getChangesHistory=function(a){var n=this;this.dashboardService.getChangesHistory().subscribe(function(t){console.log(t);var i=t.result;i=i.filter(function(c){return c.Record.dataset==a}),console.log(i);for(var o=0,s=i;o<s.length;o++){var l=s[o],u={changeId:l.Key,changeType:n.processChanges(l.Record.changes[0]),username:l.Record.username,organization:l.Record.organization,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp,comment:l.Record.comments};n.datasource.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("getChangesHistory",a)})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.processChanges=function(a){return a.split(",").join(", ")},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"getChangesHistory"==a&&t.getChangesHistory(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-org-datasets-history"]],decls:20,vars:31,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","changeType"],["field","changeType"],["id","th12","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th13","pResizableColumn","","pSortableColumn","organization"],["field","organization"],["id","th14","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],["id","th15","pResizableColumn","","pSortableColumn","comment"],["field","comment"],[2,"color","#023F88","font-weight","bold"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Organizational Datasets"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div"),e.TgZ(14,"div",5),e.TgZ(15,"p-table",6,7),e.YNc(17,Lv,4,3,"ng-template",8),e.YNc(18,Fv,16,0,"ng-template",9),e.YNc(19,zv,11,5,"ng-template",10),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(18,Hv))("state",e.VKq(19,ra,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(21,Vv))("state",e.VKq(22,ra,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(24,Jv))("state",e.VKq(25,ra,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(27,Yv))("state",e.VKq(28,ra,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(3),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(30,Qv)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}();function $v(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(22).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Gv(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",13),e._uU(2,"Change "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",15),e._uU(5,"Date/Time "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.qZA())}function Wv(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td",17),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.changeType),e.xp6(2),e.Oqu(n.date)}}var jv=function(){return["/dashboard/my-datasets-details"]},Zt=function(r){return{data:r}},Xv=function(){return["/dashboard/my-datasets-permissions"]},eb=function(){return["/dashboard/my-datasets-content"]},tb=function(){return["/dashboard/my-datasets-history"]},nb=function(){return["/dashboard/my-datasets-datasource-history"]},ab=function(){return["/dashboard/my-datasets-access-requests-history"]},ib=function(){return["/dashboard/my-datasets-revoked-access-history"]},rb=function(){return["changeType","date"]},ob=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[]}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.queryLoggerAllDatasourceMetadata(this.historyStateData.dataId)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/my-datasets"])},r.prototype.queryLoggerAllDatasourceMetadata=function(a){var n=this;this.dashboardService.queryLoggerAllDatasourceMetadata().subscribe(function(t){console.log(t);var i=t.result;i=i.filter(function(c){return c.Record.dataSourceMetadata==a}),console.log(i);for(var o=0,s=i;o<s.length;o++){var l=s[o],u={changeType:n.processChanges(l.Record.changes[0]),date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp};n.datasource.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryLoggerAllDatasourceMetadata",a)})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.processChanges=function(a){return a.split(",").join(", ")},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryLoggerAllDatasourceMetadata"==a&&t.queryLoggerAllDatasourceMetadata(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-my-datasets-datasource-history"]],decls:26,vars:49,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th1","pResizableColumn","","pSortableColumn","changeType"],["field","changeType"],["id","th2","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],[2,"color","#023F88","font-weight","bold"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Internal Datasets"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.TgZ(17,"a",4),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div"),e.TgZ(20,"div",5),e.TgZ(21,"p-table",6,7),e.YNc(23,$v,4,3,"ng-template",8),e.YNc(24,Gv,7,0,"ng-template",9),e.YNc(25,Wv,5,2,"ng-template",10),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(27,jv))("state",e.VKq(28,Zt,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(30,Xv))("state",e.VKq(31,Zt,t.historyStateData)),e.xp6(1),e.Oqu("Permissions"),e.xp6(1),e.Q6J("routerLink",e.DdM(33,eb))("state",e.VKq(34,Zt,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(36,tb))("state",e.VKq(37,Zt,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(39,nb))("state",e.VKq(40,Zt,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(42,ab))("state",e.VKq(43,Zt,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(45,ib))("state",e.VKq(46,Zt,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(3),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(48,rb)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}();function sb(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(20).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function lb(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",13),e._uU(2,"Change "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",15),e._uU(5,"Date/Time "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.qZA())}function ub(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td",17),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.changeType),e.xp6(2),e.Oqu(n.date)}}var cb=function(){return["/dashboard/provided-datasets-details"]},Qt=function(r){return{data:r}},db=function(){return["/dashboard/provided-datasets-content"]},pb=function(){return["/dashboard/provided-datasets-history"]},gb=function(){return["/dashboard/provided-datasets-datasource-history"]},fb=function(){return["/dashboard/provided-datasets-access-requests-history"]},vb=function(){return["/dashboard/provided-datasets-revoked-access-history"]},bb=function(){return["changeType","date"]},yb=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[]}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.selectedTab=this.historyStateData.selectedTab,this.queryLoggerAllDatasourceMetadata(this.historyStateData.dataName)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/provided-datasets"])},r.prototype.queryLoggerAllDatasourceMetadata=function(a){var n=this;this.dashboardService.queryLoggerAllDatasourceMetadata().subscribe(function(t){console.log(t);var i=t.result;i=i.filter(function(c){return c.Record.dataSourceMetadata==a}),console.log(i);for(var o=0,s=i;o<s.length;o++){var l=s[o],u={changeType:n.processChanges(l.Record.changes[0]),date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp};n.datasource.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryLoggerAllDatasourceMetadata",a)})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.processChanges=function(a){return a.split(",").join(", ")},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryLoggerAllDatasourceMetadata"==a&&t.queryLoggerAllDatasourceMetadata(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-provided-datasets-datasource-history"]],decls:24,vars:44,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","changeType"],["field","changeType"],["id","th12","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],[2,"color","#023F88","font-weight","bold"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div"),e.TgZ(18,"div",5),e.TgZ(19,"p-table",6,7),e.YNc(21,sb,4,3,"ng-template",8),e.YNc(22,lb,7,0,"ng-template",9),e.YNc(23,ub,5,2,"ng-template",10),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.hij("\xa0 External Datasets (",t.selectedTab,")"),e.xp6(3),e.Q6J("routerLink",e.DdM(25,cb))("state",e.VKq(26,Qt,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(28,db))("state",e.VKq(29,Qt,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(31,pb))("state",e.VKq(32,Qt,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(34,gb))("state",e.VKq(35,Qt,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(37,fb))("state",e.VKq(38,Qt,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(40,vb))("state",e.VKq(41,Qt,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(3),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(43,bb)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}();function _b(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(16).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Tb(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",13),e._uU(2,"Change "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",15),e._uU(5,"Date/Time "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.qZA())}function Cb(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td",17),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.changeType),e.xp6(2),e.Oqu(n.date)}}var Zb=function(){return["/dashboard/org-datasets-details"]},oa=function(r){return{data:r}},kb=function(){return["/dashboard/org-datasets-content"]},Sb=function(){return["/dashboard/org-datasets-history"]},Ab=function(){return["/dashboard/org-datasets-datasource-history"]},wb=function(){return["changeType","date"]},xb=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[]}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.queryLoggerAllDatasourceMetadata(this.historyStateData.dataId)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/org-datasets"])},r.prototype.queryLoggerAllDatasourceMetadata=function(a){var n=this;this.dashboardService.queryLoggerAllDatasourceMetadata().subscribe(function(t){console.log(t);var i=t.result;i=i.filter(function(c){return c.Record.dataSourceMetadata==a}),console.log(i);for(var o=0,s=i;o<s.length;o++){var l=s[o],u={changeType:n.processChanges(l.Record.changes[0]),date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp};n.datasource.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryLoggerAllDatasourceMetadata",a)})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.processChanges=function(a){return a.split(",").join(", ")},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryLoggerAllDatasourceMetadata"==a&&t.queryLoggerAllDatasourceMetadata(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-org-datasets-datasource-history"]],decls:20,vars:31,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","changeType"],["field","changeType"],["id","th12","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],[2,"color","#023F88","font-weight","bold"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Organizational Datasets"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div"),e.TgZ(14,"div",5),e.TgZ(15,"p-table",6,7),e.YNc(17,_b,4,3,"ng-template",8),e.YNc(18,Tb,7,0,"ng-template",9),e.YNc(19,Cb,5,2,"ng-template",10),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(18,Zb))("state",e.VKq(19,oa,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(21,kb))("state",e.VKq(22,oa,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(24,Sb))("state",e.VKq(25,oa,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(27,Ab))("state",e.VKq(28,oa,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(3),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(30,wb)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}();function Ob(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(24).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function qb(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",14),e._uU(2,"Username "),e._UZ(3,"p-sortIcon",15),e.qZA(),e.TgZ(4,"th",16),e._uU(5,"Organization "),e._UZ(6,"p-sortIcon",17),e.qZA(),e.TgZ(7,"th",18),e._uU(8,"Permission "),e._UZ(9,"p-sortIcon",19),e.qZA(),e.TgZ(10,"th",20),e._uU(11,"Custom "),e._UZ(12,"p-sortIcon",21),e.qZA(),e.TgZ(13,"th",22),e._uU(14,"Status "),e._UZ(15,"p-sortIcon",23),e.qZA(),e.TgZ(16,"th",24),e._uU(17,"Date/Time "),e._UZ(18,"p-sortIcon",25),e.qZA(),e.qZA())}function Db(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.usernameOfConsumer),e.xp6(2),e.Oqu(n.organization),e.xp6(2),e.Oqu(n.permission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.status),e.xp6(2),e.Oqu(n.date)}}function Mb(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(24).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Rb(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",26),e._uU(2,"Organization "),e._UZ(3,"p-sortIcon",27),e.qZA(),e.TgZ(4,"th",28),e._uU(5,"Userame "),e._UZ(6,"p-sortIcon",29),e.qZA(),e.TgZ(7,"th",30),e._uU(8,"Name "),e._UZ(9,"p-sortIcon",31),e.qZA(),e.TgZ(10,"th",32),e._uU(11,"Surname "),e._UZ(12,"p-sortIcon",33),e.qZA(),e.TgZ(13,"th",34),e._uU(14,"Role "),e._UZ(15,"p-sortIcon",35),e.qZA(),e.TgZ(16,"th",36),e._uU(17,"Permission "),e._UZ(18,"p-sortIcon",19),e.qZA(),e.TgZ(19,"th",37),e._uU(20,"Custom "),e._UZ(21,"p-sortIcon",21),e.qZA(),e.TgZ(22,"th",38),e._uU(23,"Status "),e._UZ(24,"p-sortIcon",23),e.qZA(),e.TgZ(25,"th",39),e._uU(26,"Date/Time "),e._UZ(27,"p-sortIcon",25),e.qZA(),e.qZA())}function Ib(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.organizationConsumer),e.xp6(2),e.Oqu(n.username),e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.surname),e.xp6(2),e.Oqu(n.role),e.xp6(2),e.Oqu(n.permission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.status),e.xp6(2),e.Oqu(n.date)}}function Ub(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(24).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Pb(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",40),e._uU(2,"Granted Permission "),e._UZ(3,"p-sortIcon",19),e.qZA(),e.TgZ(4,"th",41),e._uU(5,"Granted Custom "),e._UZ(6,"p-sortIcon",21),e.qZA(),e.TgZ(7,"th",42),e._uU(8,"Date/Time "),e._UZ(9,"p-sortIcon",25),e.qZA(),e.qZA())}function Eb(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.permission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.date)}}var Bb=function(){return["/dashboard/my-datasets-details"]},kt=function(r){return{data:r}},Nb=function(){return["/dashboard/my-datasets-permissions"]},Lb=function(){return["/dashboard/my-datasets-content"]},Fb=function(){return["/dashboard/my-datasets-history"]},zb=function(){return["/dashboard/my-datasets-datasource-history"]},Hb=function(){return["/dashboard/my-datasets-access-requests-history"]},Vb=function(){return["/dashboard/my-datasets-revoked-access-history"]},Jb=function(){return["usernameOfConsumer","organization","permission","customAccessRights","status","date"]},Yb=function(){return["organizationConsumer","username","name","surname","role","permission","customAccessRights","status","date"]},Qb=function(){return["permission","customAccessRights","date"]},Kb=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.datasource2=[],this.datasource3=[]}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.queryAccessRequestsProviderByDataset(this.historyStateData.dataId),this.queryAccessRequestsOrgProviderByDataset(this.historyStateData.dataId),this.queryLoggerAllAccessPublicProviderByDatasetName(this.historyStateData.dataId)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/my-datasets"])},r.prototype.queryAccessRequestsProviderByDataset=function(a){var n=this;this.dashboardService.queryAccessRequestsProviderByDataset(a).subscribe(function(t){console.log(t);for(var o=0,s=t.result;o<s.length;o++){var l=s[o],u={organization:l.Record.organization,usernameOfConsumer:l.Record.usernameOfConsumer,status:l.Record.status,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp,permission:l.Record.permission,customAccessRights:l.Record.customAccessRights};n.datasource.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryAccessRequestsProviderByDataset",a)})},r.prototype.queryAccessRequestsOrgProviderByDataset=function(a){var n=this;this.dashboardService.queryAccessRequestsOrgProviderByDataset(a).subscribe(function(t){console.log(t);for(var o=0,s=t.result;o<s.length;o++){var l=s[o],u={organizationConsumer:l.Record.organizationConsumer,status:l.Record.status,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp,username:l.Record.username,name:l.Record.name,surname:l.Record.surname,role:l.Record.role,permission:l.Record.permission,customAccessRights:l.Record.customAccessRights};n.datasource2.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryAccessRequestsOrgProviderByDataset",a)})},r.prototype.queryLoggerAllAccessPublicProviderByDatasetName=function(a){var n=this;this.dashboardService.queryLoggerAllAccessPublicProviderByDatasetName(a).subscribe(function(t){console.log(t);for(var i=t.result,o=0,s=i=i.filter(function(c){return c.Record.dataset==a});o<s.length;o++){var l=s[o],u={permission:l.Record.permission,customAccessRights:l.Record.customAccessRights,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp};n.datasource3.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryLoggerAllAccessPublicProviderByDatasetName",a)})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryAccessRequestsProviderByDataset"==a?t.queryAccessRequestsProviderByDataset(n):"queryAccessRequestsOrgProviderByDataset"==a?t.queryAccessRequestsOrgProviderByDataset(n):"queryLoggerAllAccessPublicProviderByDatasetName"==a&&t.queryLoggerAllAccessPublicProviderByDatasetName(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-my-datasets-access-requests-history"]],decls:49,vars:64,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"hidden"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","usernameOfConsumer"],["field","usernameOfConsumer"],["id","th12","pResizableColumn","","pSortableColumn","organization"],["field","organization"],["id","th13","pResizableColumn","","pSortableColumn","permission"],["field","permission"],["id","th14","pResizableColumn","","pSortableColumn","customAccessRights"],["field","customAccessRights"],["id","th15","pResizableColumn","","pSortableColumn","status"],["field","status"],["id","th16","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],["id","th21","pResizableColumn","","pSortableColumn","organizationConsumer"],["field","organizationConsumer"],["id","th22","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th23","pResizableColumn","","pSortableColumn","name"],["field","name"],["id","th24","pResizableColumn","","pSortableColumn","surname"],["field","surname"],["id","th25","pResizableColumn","","pSortableColumn","role"],["field","role"],["id","th26","pResizableColumn","","pSortableColumn","permission"],["id","th27","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th28","pResizableColumn","","pSortableColumn","status"],["id","th29","pResizableColumn","","pSortableColumn","dateSortable"],["id","th31","pResizableColumn","","pSortableColumn","permission"],["id","th32","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th33","pResizableColumn","","pSortableColumn","dateSortable"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Internal Datasets"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.TgZ(17,"a",4),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"h5"),e._uU(20,"Personal"),e.qZA(),e.TgZ(21,"div"),e.TgZ(22,"div",5),e.TgZ(23,"p-table",6,7),e.YNc(25,Ob,4,3,"ng-template",8),e.YNc(26,qb,19,0,"ng-template",9),e.YNc(27,Db,13,6,"ng-template",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",11),e._UZ(29,"br"),e.TgZ(30,"h5"),e._uU(31,"Organizational"),e.qZA(),e.TgZ(32,"div"),e.TgZ(33,"div",5),e.TgZ(34,"p-table",6,7),e.YNc(36,Mb,4,3,"ng-template",8),e.YNc(37,Rb,28,0,"ng-template",9),e.YNc(38,Ib,19,9,"ng-template",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"h5"),e._uU(41,"Public"),e.qZA(),e.TgZ(42,"div"),e.TgZ(43,"div",5),e.TgZ(44,"p-table",6,7),e.YNc(46,Ub,4,3,"ng-template",8),e.YNc(47,Pb,10,0,"ng-template",9),e.YNc(48,Eb,7,3,"ng-template",10),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(40,Bb))("state",e.VKq(41,kt,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(43,Nb))("state",e.VKq(44,kt,t.historyStateData)),e.xp6(1),e.Oqu("Permissions"),e.xp6(1),e.Q6J("routerLink",e.DdM(46,Lb))("state",e.VKq(47,kt,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(49,Fb))("state",e.VKq(50,kt,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(52,zb))("state",e.VKq(53,kt,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(55,Hb))("state",e.VKq(56,kt,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(58,Vb))("state",e.VKq(59,kt,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(5),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(61,Jb)),e.xp6(5),e.Q6J("hidden",t.externalOrg&&"true"==t.isExternalUser),e.xp6(6),e.Q6J("value",t.datasource2)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(62,Yb)),e.xp6(10),e.Q6J("value",t.datasource3)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(63,Qb)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}();function $b(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(24).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Gb(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",14),e._uU(2,"Username "),e._UZ(3,"p-sortIcon",15),e.qZA(),e.TgZ(4,"th",16),e._uU(5,"Organization "),e._UZ(6,"p-sortIcon",17),e.qZA(),e.TgZ(7,"th",18),e._uU(8,"Revoked Permission "),e._UZ(9,"p-sortIcon",19),e.qZA(),e.TgZ(10,"th",20),e._uU(11,"Revoked Custom "),e._UZ(12,"p-sortIcon",21),e.qZA(),e.TgZ(13,"th",22),e._uU(14,"Date/Time "),e._UZ(15,"p-sortIcon",23),e.qZA(),e.qZA())}function Wb(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.usernameOfConsumer),e.xp6(2),e.Oqu(n.organization),e.xp6(2),e.Oqu(n.revokedPermission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.date)}}function jb(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(24).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Xb(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",24),e._uU(2,"Organization "),e._UZ(3,"p-sortIcon",25),e.qZA(),e.TgZ(4,"th",26),e._uU(5,"Userame "),e._UZ(6,"p-sortIcon",27),e.qZA(),e.TgZ(7,"th",28),e._uU(8,"Name "),e._UZ(9,"p-sortIcon",29),e.qZA(),e.TgZ(10,"th",30),e._uU(11,"Surname "),e._UZ(12,"p-sortIcon",31),e.qZA(),e.TgZ(13,"th",32),e._uU(14,"Role "),e._UZ(15,"p-sortIcon",33),e.qZA(),e.TgZ(16,"th",34),e._uU(17,"Revoked Permission "),e._UZ(18,"p-sortIcon",19),e.qZA(),e.TgZ(19,"th",35),e._uU(20,"Revoked Custom "),e._UZ(21,"p-sortIcon",21),e.qZA(),e.TgZ(22,"th",36),e._uU(23,"Date/Time "),e._UZ(24,"p-sortIcon",23),e.qZA(),e.qZA())}function ey(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.organizationConsumer),e.xp6(2),e.Oqu(n.username),e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.surname),e.xp6(2),e.Oqu(n.role),e.xp6(2),e.Oqu(n.revokedPermission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.date)}}function ty(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(24).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function ny(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",37),e._uU(2,"Revoked Permission "),e._UZ(3,"p-sortIcon",19),e.qZA(),e.TgZ(4,"th",38),e._uU(5,"Revoked Custom "),e._UZ(6,"p-sortIcon",21),e.qZA(),e.TgZ(7,"th",39),e._uU(8,"Date/Time "),e._UZ(9,"p-sortIcon",23),e.qZA(),e.qZA())}function ay(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.revokedPermission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.date)}}var iy=function(){return["/dashboard/my-datasets-details"]},St=function(r){return{data:r}},ry=function(){return["/dashboard/my-datasets-permissions"]},oy=function(){return["/dashboard/my-datasets-content"]},sy=function(){return["/dashboard/my-datasets-history"]},ly=function(){return["/dashboard/my-datasets-datasource-history"]},uy=function(){return["/dashboard/my-datasets-access-requests-history"]},cy=function(){return["/dashboard/my-datasets-revoked-access-history"]},dy=function(){return["usernameOfConsumer","organization","revokedPermission","customAccessRights","date"]},py=function(){return["organizationConsumer","username","name","surname","role","revokedPermission","customAccessRights","date"]},gy=function(){return["revokedPermission","customAccessRights","date"]},hy=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.datasource2=[],this.datasource3=[]}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.queryRevokedAccessProviderByDataset(this.historyStateData.dataId),this.queryRevokedAccessOrgProviderByDataset(this.historyStateData.dataId),this.queryLoggerRevokedAccessPublicProviderByDatasetName(this.historyStateData.dataId)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/my-datasets"])},r.prototype.queryRevokedAccessProviderByDataset=function(a){var n=this;this.dashboardService.queryRevokedAccessProviderByDataset(a).subscribe(function(t){console.log(t);for(var o=0,s=t.result;o<s.length;o++){var l=s[o],u={organization:l.Record.organization,usernameOfConsumer:l.Record.usernameOfConsumer,status:l.Record.status,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp,revokedPermission:l.Record.revokedPermission,customAccessRights:l.Record.customAccessRights};n.datasource.push(u)}},function(t){console.log(t.status)})},r.prototype.queryRevokedAccessOrgProviderByDataset=function(a){var n=this;this.dashboardService.queryRevokedAccessOrgProviderByDataset(a).subscribe(function(t){console.log(t);for(var o=0,s=t.result;o<s.length;o++){var l=s[o],u={organizationConsumer:l.Record.organizationConsumer,status:l.Record.status,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp,revokedPermission:l.Record.revokedPermission,customAccessRights:l.Record.customAccessRights,username:l.Record.username,name:l.Record.name,surname:l.Record.surname,role:l.Record.role};n.datasource2.push(u)}},function(t){console.log(t.status)})},r.prototype.queryLoggerRevokedAccessPublicProviderByDatasetName=function(a){var n=this;this.dashboardService.queryLoggerRevokedAccessPublicProviderByDatasetName(a).subscribe(function(t){console.log(t);for(var i=t.result,o=0,s=i=i.filter(function(c){return c.Record.dataset==a});o<s.length;o++){var l=s[o],u={date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp,revokedPermission:l.Record.revokedPermission,customAccessRights:l.Record.customAccessRights};n.datasource3.push(u)}},function(t){console.log(t.status)})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryRevokedAccessProviderByDataset"==a?t.queryRevokedAccessProviderByDataset(n):"queryRevokedAccessOrgProviderByDataset"==a?t.queryRevokedAccessOrgProviderByDataset(n):"queryLoggerRevokedAccessPublicProviderByDatasetName"==a&&t.queryLoggerRevokedAccessPublicProviderByDatasetName(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-my-datasets-revoked-access-history"]],decls:49,vars:64,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"hidden"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","usernameOfConsumer"],["field","usernameOfConsumer"],["id","th12","pResizableColumn","","pSortableColumn","organization"],["field","organization"],["id","th13","pResizableColumn","","pSortableColumn","revokedPermission"],["field","revokedPermission"],["id","th14","pResizableColumn","","pSortableColumn","customAccessRights"],["field","customAccessRights"],["id","th15","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],["id","th21","pResizableColumn","","pSortableColumn","organizationConsumer"],["field","organizationConsumer"],["id","th22","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th23","pResizableColumn","","pSortableColumn","name"],["field","name"],["id","th24","pResizableColumn","","pSortableColumn","surname"],["field","surname"],["id","th25","pResizableColumn","","pSortableColumn","role"],["field","role"],["id","th26","pResizableColumn","","pSortableColumn","revokedPermission"],["id","th27","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th28","pResizableColumn","","pSortableColumn","dateSortable"],["id","th31","pResizableColumn","","pSortableColumn","revokedPermission"],["id","th32","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th33","pResizableColumn","","pSortableColumn","dateSortable"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 Internal Datasets"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.TgZ(17,"a",4),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"h5"),e._uU(20,"Personal"),e.qZA(),e.TgZ(21,"div"),e.TgZ(22,"div",5),e.TgZ(23,"p-table",6,7),e.YNc(25,$b,4,3,"ng-template",8),e.YNc(26,Gb,16,0,"ng-template",9),e.YNc(27,Wb,11,5,"ng-template",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",11),e._UZ(29,"br"),e.TgZ(30,"h5"),e._uU(31,"Organizational"),e.qZA(),e.TgZ(32,"div"),e.TgZ(33,"div",5),e.TgZ(34,"p-table",6,7),e.YNc(36,jb,4,3,"ng-template",8),e.YNc(37,Xb,25,0,"ng-template",9),e.YNc(38,ey,17,8,"ng-template",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"h5"),e._uU(41,"Public"),e.qZA(),e.TgZ(42,"div"),e.TgZ(43,"div",5),e.TgZ(44,"p-table",6,7),e.YNc(46,ty,4,3,"ng-template",8),e.YNc(47,ny,10,0,"ng-template",9),e.YNc(48,ay,7,3,"ng-template",10),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(40,iy))("state",e.VKq(41,St,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(43,ry))("state",e.VKq(44,St,t.historyStateData)),e.xp6(1),e.Oqu("Permissions"),e.xp6(1),e.Q6J("routerLink",e.DdM(46,oy))("state",e.VKq(47,St,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(49,sy))("state",e.VKq(50,St,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(52,ly))("state",e.VKq(53,St,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(55,uy))("state",e.VKq(56,St,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(58,cy))("state",e.VKq(59,St,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(5),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(61,dy)),e.xp6(5),e.Q6J("hidden",t.externalOrg&&"true"==t.isExternalUser),e.xp6(6),e.Q6J("value",t.datasource2)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(62,py)),e.xp6(10),e.Q6J("value",t.datasource3)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(63,gy)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}();function fy(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(22).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function my(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",14),e._uU(2,"Provider Username "),e._UZ(3,"p-sortIcon",15),e.qZA(),e.TgZ(4,"th",16),e._uU(5,"Permission "),e._UZ(6,"p-sortIcon",17),e.qZA(),e.TgZ(7,"th",18),e._uU(8,"Custom "),e._UZ(9,"p-sortIcon",19),e.qZA(),e.TgZ(10,"th",20),e._uU(11,"Status "),e._UZ(12,"p-sortIcon",21),e.qZA(),e.TgZ(13,"th",22),e._uU(14,"Date/Time "),e._UZ(15,"p-sortIcon",23),e.qZA(),e.qZA())}function vy(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.usernameOfProvider),e.xp6(2),e.Oqu(n.permission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.status),e.xp6(2),e.Oqu(n.date)}}function by(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(22).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function yy(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",24),e._uU(2,"Provider Username "),e._UZ(3,"p-sortIcon",15),e.qZA(),e.TgZ(4,"th",25),e._uU(5,"Organization "),e._UZ(6,"p-sortIcon",26),e.qZA(),e.TgZ(7,"th",27),e._uU(8,"Permission "),e._UZ(9,"p-sortIcon",17),e.qZA(),e.TgZ(10,"th",28),e._uU(11,"Custom "),e._UZ(12,"p-sortIcon",19),e.qZA(),e.TgZ(13,"th",29),e._uU(14,"Status "),e._UZ(15,"p-sortIcon",21),e.qZA(),e.TgZ(16,"th",30),e._uU(17,"Date/Time "),e._UZ(18,"p-sortIcon",23),e.qZA(),e.qZA())}function _y(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.usernameOfProvider),e.xp6(2),e.Oqu(n.organizationConsumer),e.xp6(2),e.Oqu(n.permission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.status),e.xp6(2),e.Oqu(n.date)}}function Ty(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(22).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Cy(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",31),e._uU(2,"Provider Username "),e._UZ(3,"p-sortIcon",15),e.qZA(),e.TgZ(4,"th",32),e._uU(5,"Granted Permission "),e._UZ(6,"p-sortIcon",17),e.qZA(),e.TgZ(7,"th",33),e._uU(8,"Granted Custom "),e._UZ(9,"p-sortIcon",19),e.qZA(),e.TgZ(10,"th",34),e._uU(11,"Date/Time "),e._UZ(12,"p-sortIcon",23),e.qZA(),e.qZA())}function Zy(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.usernameOfProvider),e.xp6(2),e.Oqu(n.permission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.date)}}var ky=function(){return["/dashboard/provided-datasets-details"]},Kt=function(r){return{data:r}},Sy=function(){return["/dashboard/provided-datasets-content"]},Ay=function(){return["/dashboard/provided-datasets-history"]},wy=function(){return["/dashboard/provided-datasets-datasource-history"]},Oy=function(){return["/dashboard/provided-datasets-access-requests-history"]},Dy=function(){return["/dashboard/provided-datasets-revoked-access-history"]},My=function(){return["usernameOfProvider","permission","customAccessRights","status","date"]},Ry=function(){return["usernameOfProvider","organizationConsumer","permission","customAccessRights","status","date"]},Iy=function(){return["usernameOfProvider","permission","customAccessRights","date"]},Uy=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.datasource2=[],this.datasource3=[]}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.selectedTab=this.historyStateData.selectedTab,this.queryAccessRequestsConsumerByDataset(this.historyStateData.dataName),this.queryAccessRequestsOrgConsumerByDataset(this.historyStateData.dataName),this.queryLoggerAllAccessPublicByDatasetName(this.historyStateData.dataName)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/provided-datasets"])},r.prototype.queryAccessRequestsConsumerByDataset=function(a){var n=this;this.dashboardService.queryAccessRequestsConsumerByDataset(a).subscribe(function(t){console.log(t);for(var o=0,s=t.result;o<s.length;o++){var l=s[o],u={organization:l.Record.organization,usernameOfConsumer:l.Record.usernameOfConsumer,usernameOfProvider:l.Record.usernameOfProvider,permission:l.Record.permission,customAccessRights:l.Record.customAccessRights,status:l.Record.status,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp};n.datasource.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryAccessRequestsConsumerByDataset",a)})},r.prototype.queryAccessRequestsOrgConsumerByDataset=function(a){var n=this;this.dashboardService.queryAccessRequestsOrgConsumerByDataset(a).subscribe(function(t){console.log(t);for(var o=0,s=t.result;o<s.length;o++){var l=s[o],u={organizationConsumer:l.Record.organizationConsumer,usernameOfProvider:l.Record.usernameOfProvider,permission:l.Record.permission,customAccessRights:l.Record.customAccessRights,status:l.Record.status,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp};n.datasource2.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryAccessRequestsOrgConsumerByDataset",a)})},r.prototype.queryLoggerAllAccessPublicByDatasetName=function(a){var n=this;this.dashboardService.queryLoggerAllAccessPublicByDatasetName(a).subscribe(function(t){console.log(t);for(var o=0,s=t.result;o<s.length;o++){var l=s[o],u={usernameOfProvider:l.Record.usernameOfProvider,permission:l.Record.permission,customAccessRights:l.Record.customAccessRights,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp};n.datasource3.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryLoggerAllAccessPublicByDatasetName",a)})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.processChanges=function(a){return a.split(",").join(", ")},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryAccessRequestsConsumerByDataset"==a?t.queryAccessRequestsConsumerByDataset(n):"queryAccessRequestsOrgConsumerByDataset"==a?t.queryAccessRequestsOrgConsumerByDataset(n):"queryLoggerAllAccessPublicByDatasetName"==a&&t.queryLoggerAllAccessPublicByDatasetName(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-provided-datasets-access-requests-history"]],decls:47,vars:59,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"hidden"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","usernameOfProvider"],["field","usernameOfProvider"],["id","th12","pResizableColumn","","pSortableColumn","permission"],["field","permission"],["id","th13","pResizableColumn","","pSortableColumn","customAccessRights"],["field","customAccessRights"],["id","th14","pResizableColumn","","pSortableColumn","status"],["field","status"],["id","th15","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],["id","th21","pResizableColumn","","pSortableColumn","usernameOfProvider"],["id","th22","pResizableColumn","","pSortableColumn","organizationConsumer"],["field","organizationConsumer"],["id","th23","pResizableColumn","","pSortableColumn","permission"],["id","th24","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th25","pResizableColumn","","pSortableColumn","status"],["id","th26","pResizableColumn","","pSortableColumn","dateSortable"],["id","th31","pResizableColumn","","pSortableColumn","usernameOfProvider"],["id","th32","pResizableColumn","","pSortableColumn","permission"],["id","th33","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th34","pResizableColumn","","pSortableColumn","dateSortable"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"h5"),e._uU(18,"Personal"),e.qZA(),e.TgZ(19,"div"),e.TgZ(20,"div",5),e.TgZ(21,"p-table",6,7),e.YNc(23,fy,4,3,"ng-template",8),e.YNc(24,my,16,0,"ng-template",9),e.YNc(25,vy,11,5,"ng-template",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",11),e._UZ(27,"br"),e.TgZ(28,"h5"),e._uU(29,"Organizational"),e.qZA(),e.TgZ(30,"div"),e.TgZ(31,"div",5),e.TgZ(32,"p-table",6,7),e.YNc(34,by,4,3,"ng-template",8),e.YNc(35,yy,19,0,"ng-template",9),e.YNc(36,_y,13,6,"ng-template",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"h5"),e._uU(39,"Public"),e.qZA(),e.TgZ(40,"div"),e.TgZ(41,"div",5),e.TgZ(42,"p-table",6,7),e.YNc(44,Ty,4,3,"ng-template",8),e.YNc(45,Cy,13,0,"ng-template",9),e.YNc(46,Zy,9,4,"ng-template",10),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.hij("\xa0 External Datasets (",t.selectedTab,")"),e.xp6(3),e.Q6J("routerLink",e.DdM(38,ky))("state",e.VKq(39,Kt,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(41,Sy))("state",e.VKq(42,Kt,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(44,Ay))("state",e.VKq(45,Kt,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(47,wy))("state",e.VKq(48,Kt,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(50,Oy))("state",e.VKq(51,Kt,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(53,Dy))("state",e.VKq(54,Kt,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(5),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(56,My)),e.xp6(5),e.Q6J("hidden",t.externalOrg&&"true"==t.isExternalUser),e.xp6(6),e.Q6J("value",t.datasource2)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(57,Ry)),e.xp6(10),e.Q6J("value",t.datasource3)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(58,Iy)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}();function Py(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(22).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Ey(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",14),e._uU(2,"Provider Username "),e._UZ(3,"p-sortIcon",15),e.qZA(),e.TgZ(4,"th",16),e._uU(5,"Revoked Permission "),e._UZ(6,"p-sortIcon",17),e.qZA(),e.TgZ(7,"th",18),e._uU(8,"Revoked Custom "),e._UZ(9,"p-sortIcon",19),e.qZA(),e.TgZ(10,"th",20),e._uU(11,"Date/Time "),e._UZ(12,"p-sortIcon",21),e.qZA(),e.qZA())}function By(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.usernameOfProvider),e.xp6(2),e.Oqu(n.revokedPermission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.date)}}function Ny(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(22).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Ly(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",22),e._uU(2,"Provider Username "),e._UZ(3,"p-sortIcon",15),e.qZA(),e.TgZ(4,"th",23),e._uU(5,"Organization "),e._UZ(6,"p-sortIcon",24),e.qZA(),e.TgZ(7,"th",25),e._uU(8,"Revoked Permission "),e._UZ(9,"p-sortIcon",17),e.qZA(),e.TgZ(10,"th",26),e._uU(11,"Revoked Custom "),e._UZ(12,"p-sortIcon",19),e.qZA(),e.TgZ(13,"th",27),e._uU(14,"Date/Time "),e._UZ(15,"p-sortIcon",21),e.qZA(),e.qZA())}function Fy(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.usernameOfProvider),e.xp6(2),e.Oqu(n.organizationConsumer),e.xp6(2),e.Oqu(n.revokedPermission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.date)}}function zy(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"div"),e.TgZ(2,"input",13),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(22).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function Hy(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",28),e._uU(2,"Provider Username "),e._UZ(3,"p-sortIcon",15),e.qZA(),e.TgZ(4,"th",29),e._uU(5,"Revoked Permission "),e._UZ(6,"p-sortIcon",17),e.qZA(),e.TgZ(7,"th",30),e._uU(8,"Revoked Custom "),e._UZ(9,"p-sortIcon",19),e.qZA(),e.TgZ(10,"th",31),e._uU(11,"Date/Time "),e._UZ(12,"p-sortIcon",21),e.qZA(),e.qZA())}function Vy(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.usernameOfProvider),e.xp6(2),e.Oqu(n.revokedPermission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.date)}}var Jy=function(){return["/dashboard/provided-datasets-details"]},$t=function(r){return{data:r}},Yy=function(){return["/dashboard/provided-datasets-content"]},Qy=function(){return["/dashboard/provided-datasets-history"]},Ky=function(){return["/dashboard/provided-datasets-datasource-history"]},Gy=function(){return["/dashboard/provided-datasets-access-requests-history"]},jy=function(){return["/dashboard/provided-datasets-revoked-access-history"]},lo=function(){return["usernameOfProvider","revokedPermission","customAccessRights","date"]},Xy=function(){return["usernameOfProvider","organizationConsumer","revokedPermission","customAccessRights","date"]},e_=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.datasource2=[],this.datasource3=[]}return r.prototype.ngOnInit=function(){if(this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),history.state.data)console.log(history.state.data),this.historyStateData=history.state.data;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.selectedTab=this.historyStateData.selectedTab,this.queryRevokedAccessConsumerByDataset(this.historyStateData.dataName),this.queryRevokedAccessOrgConsumerByDataset(this.historyStateData.dataName),this.queryLoggerAllRevokedAccessPublicByDatasetName(this.historyStateData.dataName)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/provided-datasets"])},r.prototype.queryRevokedAccessConsumerByDataset=function(a){var n=this;this.dashboardService.queryRevokedAccessConsumerByDataset(a).subscribe(function(t){console.log(t);for(var o=0,s=t.result;o<s.length;o++){var l=s[o],u={organization:l.Record.organization,usernameOfProvider:l.Record.usernameOfProvider,status:l.Record.status,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp,revokedPermission:l.Record.revokedPermission,customAccessRights:l.Record.customAccessRights};n.datasource.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryRevokedAccessConsumerByDataset",a)})},r.prototype.queryRevokedAccessOrgConsumerByDataset=function(a){var n=this;this.dashboardService.queryRevokedAccessOrgConsumerByDataset(a).subscribe(function(t){console.log(t);for(var o=0,s=t.result;o<s.length;o++){var l=s[o],u={usernameOfProvider:l.Record.usernameOfProvider,organizationConsumer:l.Record.organizationConsumer,status:l.Record.status,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp,revokedPermission:l.Record.revokedPermission,customAccessRights:l.Record.customAccessRights};n.datasource2.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryRevokedAccessOrgConsumerByDataset",a)})},r.prototype.queryLoggerAllRevokedAccessPublicByDatasetName=function(a){var n=this;this.dashboardService.queryLoggerAllRevokedAccessPublicByDatasetName(a).subscribe(function(t){console.log(t);for(var i=t.result,o=0,s=i=i.filter(function(c){return c.Record.dataset==a});o<s.length;o++){var l=s[o],u={usernameOfProvider:l.Record.usernameOfProvider,date:n.changeDateFormat(l.Record.timestamp),dateSortable:l.Record.timestamp,revokedPermission:l.Record.revokedPermission,customAccessRights:l.Record.customAccessRights};n.datasource3.push(u)}},function(t){console.log(t.status),(401==t.status||403==t.status)&&n.refreshTokens("queryLoggerAllRevokedAccessPublicByDatasetName",a)})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.processChanges=function(a){return a.split(",").join(", ")},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"queryRevokedAccessConsumerByDataset"==a?t.queryRevokedAccessConsumerByDataset(n):"queryRevokedAccessOrgConsumerByDataset"==a?t.queryRevokedAccessOrgConsumerByDataset(n):"queryLoggerAllRevokedAccessPublicByDatasetName"==a&&t.queryLoggerAllRevokedAccessPublicByDatasetName(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-provided-datasets-revoked-access-history"]],decls:47,vars:59,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"hidden"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","usernameOfProvider"],["field","usernameOfProvider"],["id","th12","pResizableColumn","","pSortableColumn","revokedPermission"],["field","revokedPermission"],["id","th13","pResizableColumn","","pSortableColumn","customAccessRights"],["field","customAccessRights"],["id","th14","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],["id","th21","pResizableColumn","","pSortableColumn","usernameOfProvider"],["id","th22","pResizableColumn","","pSortableColumn","organizationConsumer"],["field","organizationConsumer"],["id","th23","pResizableColumn","","pSortableColumn","revokedPermission"],["id","th24","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th25","pResizableColumn","","pSortableColumn","dateSortable"],["id","th31","pResizableColumn","","pSortableColumn","usernameOfProvider"],["id","th32","pResizableColumn","","pSortableColumn","revokedPermission"],["id","th33","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th34","pResizableColumn","","pSortableColumn","dateSortable"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.TgZ(11,"a",4),e._uU(12),e.qZA(),e.TgZ(13,"a",4),e._uU(14),e.qZA(),e.TgZ(15,"a",4),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"h5"),e._uU(18,"Personal"),e.qZA(),e.TgZ(19,"div"),e.TgZ(20,"div",5),e.TgZ(21,"p-table",6,7),e.YNc(23,Py,4,3,"ng-template",8),e.YNc(24,Ey,13,0,"ng-template",9),e.YNc(25,By,9,4,"ng-template",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",11),e._UZ(27,"br"),e.TgZ(28,"h5"),e._uU(29,"Organizational"),e.qZA(),e.TgZ(30,"div"),e.TgZ(31,"div",5),e.TgZ(32,"p-table",6,7),e.YNc(34,Ny,4,3,"ng-template",8),e.YNc(35,Ly,16,0,"ng-template",9),e.YNc(36,Fy,11,5,"ng-template",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"h5"),e._uU(39,"Public"),e.qZA(),e.TgZ(40,"div"),e.TgZ(41,"div",5),e.TgZ(42,"p-table",6,7),e.YNc(44,zy,4,3,"ng-template",8),e.YNc(45,Hy,13,0,"ng-template",9),e.YNc(46,Vy,9,4,"ng-template",10),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.hij("\xa0 External Datasets (",t.selectedTab,")"),e.xp6(3),e.Q6J("routerLink",e.DdM(38,Jy))("state",e.VKq(39,$t,t.historyStateData)),e.xp6(1),e.Oqu("Details"),e.xp6(1),e.Q6J("routerLink",e.DdM(41,Yy))("state",e.VKq(42,$t,t.historyStateData)),e.xp6(1),e.Oqu("Content"),e.xp6(1),e.Q6J("routerLink",e.DdM(44,Qy))("state",e.VKq(45,$t,t.historyStateData)),e.xp6(1),e.Oqu("Update History"),e.xp6(1),e.Q6J("routerLink",e.DdM(47,Ky))("state",e.VKq(48,$t,t.historyStateData)),e.xp6(1),e.Oqu("Data Source History"),e.xp6(1),e.Q6J("routerLink",e.DdM(50,Gy))("state",e.VKq(51,$t,t.historyStateData)),e.xp6(1),e.Oqu("Access Requests History"),e.xp6(1),e.Q6J("routerLink",e.DdM(53,jy))("state",e.VKq(54,$t,t.historyStateData)),e.xp6(1),e.Oqu("Revoked Access History"),e.xp6(5),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(56,lo)),e.xp6(5),e.Q6J("hidden",t.externalOrg&&"true"==t.isExternalUser),e.xp6(6),e.Q6J("value",t.datasource2)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(57,Xy)),e.xp6(10),e.Q6J("value",t.datasource3)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(58,lo)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}"]}),r}(),uo=function(){return{width:"190px"}},t_=function(){function r(a,n,t,i){this.formBuilder=a,this.dashboardService=n,this.authenticationService=t,this.router=i}return r.prototype.ngOnInit=function(){this.form=this.formBuilder.group({orgRole:["",T.kI.required],orgName:["",T.kI.required],orgVATNumber:["",T.kI.required],orgCountry:["",T.kI.required],orgCity:[""],orgAddress:[""],orgPostalCode:[""],orgPhoneNumber:[""],orgAdminFirstName:["",T.kI.required],orgAdminLastName:["",T.kI.required],orgAdminUsername:["",T.kI.required],orgAdminEmail:["",T.kI.required]}),this.orgRoleOptions=[{label:"-- Please select --"},{label:"Research"},{label:"Telecommunications"},{label:"Port Authority"},{label:"Trucking Company"},{label:"Shipping Agent"}],this.countryOptions=[{label:"-- Please select --"},{label:"Afghanistan"},{label:"Albania"},{label:"Algeria"},{label:"American Samoa"},{label:"Andorra"},{label:"Angola"},{label:"Anguilla"},{label:"Antarctica"},{label:"Antigua and Barbuda"},{label:"Argentina"},{label:"Armenia"},{label:"Aruba"},{label:"Australia"},{label:"Austria"},{label:"Azerbaijan"},{label:"Bahamas"},{label:"Bahrain"},{label:"Bangladesh"},{label:"Barbados"},{label:"Belarus"},{label:"Belgium"},{label:"Belize"},{label:"Benin"},{label:"Bermuda"},{label:"Bhutan"},{label:"Bolivia"},{label:"Bosnia and Herzegovina"},{label:"Botswana"},{label:"Brazil"},{label:"Brunei Darussalam"},{label:"Bulgaria"},{label:"Burkina Faso"},{label:"Burundi"},{label:"Cambodia"},{label:"Cameroon"},{label:"Canada"},{label:"Cape Verde"},{label:"Cayman Islands"},{label:"Central African Republic"},{label:"Chad"},{label:"Chile"},{label:"China"},{label:"Christmas Island"},{label:"Cocos (Keeling) Islands"},{label:"Colombia"},{label:"Comoros"},{label:"Democratic Republic of the Congo (Kinshasa)"},{label:"Congo, Republic of (Brazzaville)"},{label:"Cook Islands"},{label:"Costa Rica"},{label:"C\xf4te D'ivoire (Ivory Coast)"},{label:"Croatia"},{label:"Cuba"},{label:"Cyprus"},{label:"Czech Republic"},{label:"Denmark"},{label:"Djibouti"},{label:"Dominica"},{label:"Dominican Republic"},{label:"East Timor (Timor-Leste)"},{label:"Ecuador"},{label:"Egypt"},{label:"El Salvador"},{label:"Equatorial Guinea"},{label:"Eritrea"},{label:"Estonia"},{label:"Ethiopia"},{label:"Falkland Islands"},{label:"Faroe Islands"},{label:"Fiji"},{label:"Finland"},{label:"France"},{label:"French Guiana"},{label:"French Polynesia"},{label:"French Southern Territories"},{label:"Gabon"},{label:"The Gambia"},{label:"Georgia"},{label:"Germany"},{label:"Ghana"},{label:"Gibraltar"},{label:"Greece"},{label:"Greenland"},{label:"Grenada"},{label:"Guadeloupe"},{label:"Guam"},{label:"Guatemala"},{label:"Guinea"},{label:"Guinea-Bissau"},{label:"Guyana"},{label:"Haiti"},{label:"Holy See"},{label:"Honduras"},{label:"Hong Kong"},{label:"Hungary"},{label:"Iceland"},{label:"India"},{label:"Indonesia"},{label:"Iran (Islamic Republic of)"},{label:"Iraq"},{label:"Ireland"},{label:"Israel"},{label:"Italy"},{label:"Ivory Coast"},{label:"Jamaica"},{label:"Japan"},{label:"Jordan"},{label:"Kazakhstan"},{label:"Kenya"},{label:"Kiribati"},{label:"Korea, Democratic People's Rep. (North Korea)"},{label:"Korea, Republic of (South Korea)"},{label:"Kosovo"},{label:"Kuwait"},{label:"Kyrgyzstan"},{label:"Lao, People's Democratic Republic"},{label:"Latvia"},{label:"Lebanon"},{label:"Lesotho"},{label:"Liberia"},{label:"Libya"},{label:"Liechtenstein"},{label:"Lithuania"},{label:"Luxembourg"},{label:"Macau"},{label:"Madagascar"},{label:"Malawi"},{label:"Malaysia"},{label:"Maldives"},{label:"Mali"},{label:"Malta"},{label:"Marshall Islands"},{label:"Martinique"},{label:"Mauritania"},{label:"Mauritius"},{label:"Mayotte"},{label:"Mexico"},{label:"Micronesia, Federal States of"},{label:"Moldova, Republic of"},{label:"Monaco"},{label:"Mongolia"},{label:"Montenegro"},{label:"Montserrat"},{label:"Morocco"},{label:"Mozambique"},{label:"Myanmar, Burma"},{label:"Namibia"},{label:"Nauru"},{label:"Nepal"},{label:"Netherlands"},{label:"Netherlands Antilles"},{label:"New Caledonia"},{label:"New Zealand"},{label:"Nicaragua"},{label:"Niger"},{label:"Nigeria"},{label:"Niue"},{label:"North Macedonia"},{label:"Northern Mariana Islands"},{label:"Norway"},{label:"Oman"},{label:"Pakistan"},{label:"Palau"},{label:"Palestinian territories"},{label:"Panama"},{label:"Papua New Guinea"},{label:"Paraguay"},{label:"Peru"},{label:"Philippines"},{label:"Pitcairn Island"},{label:"Poland"},{label:"Portugal"},{label:"Puerto Rico"},{label:"Qatar"},{label:"Reunion Island"},{label:"Romania"},{label:"Russian Federation"},{label:"Rwanda"},{label:"Saint Kitts and Nevis"},{label:"Saint Lucia"},{label:"Saint Vincent and the Grenadines"},{label:"Samoa"},{label:"San Marino"},{label:"Sao Tome and Principe"},{label:"Saudi Arabia"},{label:"Senegal"},{label:"Serbia"},{label:"Seychelles"},{label:"Sierra Leone"},{label:"Singapore"},{label:"Slovakia (Slovak Republic)"},{label:"Slovenia"},{label:"Solomon Islands"},{label:"Somalia"},{label:"South Africa"},{label:"South Sudan"},{label:"Spain"},{label:"Sri Lanka"},{label:"Sudan"},{label:"Suriname"},{label:"Swaziland (Eswatini)"},{label:"Sweden"},{label:"Switzerland"},{label:"Syria, Syrian Arab Republic"},{label:"Taiwan (Republic of China)"},{label:"Tajikistan"},{label:"Tanzania; officially the United Republic of Tanzania"},{label:"Thailand"},{label:"Tibet"},{label:"Timor-Leste (East Timor)"},{label:"Togo"},{label:"Tokelau"},{label:"Tonga"},{label:"Trinidad and Tobago"},{label:"Tunisia"},{label:"Turkey"},{label:"Turkmenistan"},{label:"Turks and Caicos Islands"},{label:"Tuvalu"},{label:"Uganda"},{label:"Ukraine"},{label:"United Arab Emirates"},{label:"United Kingdom"},{label:"United States"},{label:"Uruguay"},{label:"Uzbekistan"},{label:"Vanuatu"},{label:"Vatican City State (Holy See)"},{label:"Venezuela"},{label:"Vietnam"},{label:"Virgin Islands (British)"},{label:"Virgin Islands (U.S.)"},{label:"Wallis and Futuna Islands"},{label:"Western Sahara"},{label:"Yemen"},{label:"Zambia"},{label:"Zimbabwe"}]},r.prototype.registerOrg=function(a){var n=this;this.dashboardService.registerOrg(a).subscribe(function(t){console.log(t),"Fail"!=t.response?(alert("The Organization Administrator password is: "+t.response),n.router.navigate(["/dashboard/external-organizations"])):alert(t.response)},function(t){console.log(t.status),400==t.status?alert("Data error. Check your data for invalid characters."):(401==t.status||403==t.status)&&n.refreshTokens("registerOrg",a)})},r.prototype.onSubmit=function(){var a=this.form.getRawValue(),n=a.orgName,t=n.replace(/[^a-z0-9]/gi,"");if(n.length>t.length)alert("Organization Name must contain only letters and/or numbers");else if(this.form.invalid||"-- Please select --"==a.orgRole.label||"-- Please select --"==a.orgCountry.label)alert("Please fill in all required fields");else{var i=localStorage.getItem("username"),o=localStorage.getItem("organization");console.log(i),console.log(o),this.registerOrg({title:"EXT",role:a.orgRole.label,vat_number:a.orgVATNumber,country:a.orgCountry.label,city:a.orgCity,postal_code:a.orgPostalCode,address:a.orgAddress,phone:a.orgPhoneNumber,newUsersusername:a.orgAdminUsername,name:a.orgAdminFirstName,surname:a.orgAdminLastName,email:a.orgAdminEmail,externalOrg:a.orgName,isExternalUser:"true",isExternalOrg:"true"})}},r.prototype.cancelButton=function(){this.router.navigate(["/dashboard/external-organizations"])},r.prototype.clearButton=function(){this.form.reset()},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"registerOrg"==a&&t.registerOrg(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-external-organization"]],decls:59,vars:10,consts:[[1,"title"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-md-3"],[1,"subtitle"],["formControlName","orgCountry","optionLabel","label",3,"options","filter"],["formControlName","orgRole","optionLabel","label",3,"options"],["type","text","formControlName","orgName"],["type","text","formControlName","orgVATNumber"],["type","text","formControlName","orgCity"],["type","text","formControlName","orgAddress"],["type","text","formControlName","orgPostalCode"],["type","text","formControlName","orgPhoneNumber"],["type","text","formControlName","orgAdminFirstName"],["type","text","formControlName","orgAdminLastName"],["type","text","formControlName","orgAdminUsername"],["type","text","formControlName","orgAdminEmail"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],["pButton","","type","button","label","Clear",3,"click"],["pButton","","type","button","label","Register",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5",0),e._uU(2,"Add External Organization"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"form",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"h5",4),e._uU(8,"Organization"),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"h6"),e._uU(11,"Organization Country *"),e.qZA(),e._UZ(12,"p-dropdown",5),e.TgZ(13,"h6"),e._uU(14,"Organization Role *"),e.qZA(),e._UZ(15,"p-dropdown",6),e.TgZ(16,"h6"),e._uU(17,"Organization Name *"),e.qZA(),e._UZ(18,"input",7),e.TgZ(19,"h6"),e._uU(20,"Organization VAT Number *"),e.qZA(),e._UZ(21,"input",8),e.TgZ(22,"h6"),e._uU(23,"Organization City"),e.qZA(),e._UZ(24,"input",9),e.TgZ(25,"h6"),e._uU(26,"Organization Address"),e.qZA(),e._UZ(27,"input",10),e.TgZ(28,"h6"),e._uU(29,"Organization Postal Code"),e.qZA(),e._UZ(30,"input",11),e.TgZ(31,"h6"),e._uU(32,"Organization Phone Number"),e.qZA(),e._UZ(33,"input",12),e.qZA(),e.TgZ(34,"div",3),e.TgZ(35,"h5",4),e._uU(36,"Organization Administrator"),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"h6"),e._uU(39,"Organization Administrator First Name *"),e.qZA(),e._UZ(40,"input",13),e.TgZ(41,"h6"),e._uU(42,"Organization Administrator Last Name *"),e.qZA(),e._UZ(43,"input",14),e.TgZ(44,"h6"),e._uU(45,"Username *"),e.qZA(),e._UZ(46,"input",15),e.TgZ(47,"h6"),e._uU(48,"Email *"),e.qZA(),e._UZ(49,"input",16),e.qZA(),e.qZA(),e._UZ(50,"br"),e._UZ(51,"br"),e.TgZ(52,"button",17),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e._UZ(53,"br"),e._UZ(54,"br"),e.TgZ(55,"button",18),e.NdJ("click",function(){return t.clearButton()}),e.qZA(),e._UZ(56,"br"),e._UZ(57,"br"),e.TgZ(58,"button",19),e.NdJ("click",function(){return t.onSubmit()}),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(8),e.Akn(e.DdM(8,uo)),e.Q6J("options",t.countryOptions)("filter",!0),e.xp6(3),e.Akn(e.DdM(9,uo)),e.Q6J("options",t.orgRoleOptions))},directives:[T._Y,T.JL,T.sg,ne.Lt,T.JJ,T.u,T.Fj,$.Hq],styles:["h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}();function n_(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"div"),e.TgZ(2,"input",17),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(19).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function a_(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",18),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",19),e._uU(4,"Organization/Company Name "),e._UZ(5,"p-sortIcon",20),e.qZA(),e.TgZ(6,"th",21),e._uU(7,"Organization Role "),e._UZ(8,"p-sortIcon",22),e.qZA(),e.TgZ(9,"th",23),e._uU(10,"Organization Admin Username "),e._UZ(11,"p-sortIcon",24),e.qZA(),e.TgZ(12,"th",25),e._uU(13,"Organization Admin e-mail "),e._UZ(14,"p-sortIcon",26),e.qZA(),e.TgZ(15,"th",27),e._uU(16,"Registration Date "),e._UZ(17,"p-sortIcon",28),e.qZA(),e.qZA())}function i_(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"p-tableCheckbox",29),e.qZA(),e.TgZ(3,"td",30),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(4),e.qZA(),e.TgZ(5,"td",30),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(6),e.qZA(),e.TgZ(7,"td",30),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(8),e.qZA(),e.TgZ(9,"td",30),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(10),e.qZA(),e.TgZ(11,"td",30),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(12),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Oqu(t.orgName),e.xp6(2),e.Oqu(t.orgRole),e.xp6(2),e.Oqu(t.orgAdminUsername),e.xp6(2),e.Oqu(t.orgAdminEmail),e.xp6(2),e.Oqu(t.registered)}}var r_=function(){return["orgId","orgAdminUsername","orgName","orgAdminEmail","orgRole","registered"]},o_=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.orgRoles=[],this.selectedDatasource=[]}return r.prototype.ngOnInit=function(){this.getOrganizations()},r.prototype.getOrganizations=function(){var a=this;this.dashboardService.getOrgsByManagerAdmin().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i];if(s.Record.isExternalOrg){var l={orgAdminUsername:"",orgAdminFirstName:"",orgAdminLastName:"",orgName:s.Key,orgAdminEmail:"",orgRole:s.Record.role,orgVATNumber:s.Record.vat_number,orgCountry:s.Record.country,registered:a.changeDateFormat(s.Record.dateTime),registeredSortable:s.Record.dateTime,orgCity:s.Record.city,orgAddress:s.Record.address,orgPostalCode:s.Record.Postal_code,orgPhoneNumber:s.Record.phone,isExternalOrg:s.Record.isExternalOrg};a.datasource.push(l)}}setTimeout(function(){a.dashboardService.getUsers().subscribe(function(u){console.log(u);for(var d=u.result.filter(function(Z){return"admin"==Z.Record.type}),p=0,g=a.datasource;p<g.length;p++)for(var h=g[p],f=0,m=d;f<m.length;f++){var v=m[f];if((h.orgName==v.Record.organization||h.orgName==v.Record.externalOrg)&&""==h.orgAdminUsername){h.orgAdminUsername=v.Record.username,h.orgAdminFirstName=v.Record.name,h.orgAdminLastName=v.Record.surname,h.orgAdminEmail=v.Record.email;break}}a.orgRoles=[{orgRole:"All"}];for(var b=a.datasource.map(function(Z){return Z.orgRole}),y=0,_=b=b.filter(function(Z,S,A){return A.indexOf(Z)===S});y<_.length;y++)a.orgRoles.push({orgRole:_[y]});a.selectedDatasource=a.datasource},function(u){console.log(u.status),(401==u.status||403==u.status)&&a.refreshTokens("getOrganizations")})},2e3)},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getOrganizations")})},r.prototype.onChange=function(a){var n=a.value.orgRole;this.selectedDatasource="All"==n?this.datasource:this.datasource.filter(function(t){return n==t.orgRole})},r.prototype.handleSelect=function(a){var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),this.router.navigate(["/dashboard/ext-org-selected-profile"],{state:{organization:a}})},r.prototype.addOrganizationButton=function(){this.router.navigate(["/dashboard/add-external-organization"])},r.prototype.deleteSelectedButton=function(){console.log("delete selected button")},r.prototype.refreshTokens=function(a){var n=this;this.dashboardService.refreshTokens().subscribe(function(t){console.log(t),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),"getOrganizations"==a&&n.getOrganizations()},function(t){console.log(t),n.logoutUser()})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-external-organizations"]],decls:23,vars:9,consts:[[1,"card"],[2,"text-align","right"],["pButton","","type","button","label","Add External Organization","icon","icon-add",3,"click"],["pButton","","type","button","label","Delete Selected","icon","icon-delete",3,"click"],[1,"row"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","30px","margin-left","15px"],[1,"icon-filters"],[1,"col-md-2"],[1,"dropdownLabel"],["optionLabel","orgRole",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","370px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","",2,"width","3rem"],["id","th12","pResizableColumn","","pSortableColumn","orgName"],["field","orgName"],["id","th13","pResizableColumn","","pSortableColumn","orgRole"],["field","orgRole"],["id","th14","pResizableColumn","","pSortableColumn","orgAdminUsername"],["field","orgAdminUsername"],["id","th15","pResizableColumn","","pSortableColumn","orgAdminEmail"],["field","orgAdminEmail"],["id","th16","pResizableColumn","","pSortableColumn","registeredSortable"],["field","registeredSortable"],[3,"value"],[3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"h5"),e._uU(2,"External Organizations"),e.qZA(),e.TgZ(3,"div",0),e.TgZ(4,"div",1),e.TgZ(5,"button",2),e.NdJ("click",function(){return t.addOrganizationButton()}),e.qZA(),e._UZ(6,"br"),e._UZ(7,"br"),e.TgZ(8,"button",3),e.NdJ("click",function(){return t.deleteSelectedButton()}),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"div",5),e.TgZ(11,"h6",6),e._UZ(12,"span",7),e._uU(13,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"h6",9),e._uU(16,"Organization role:"),e.qZA(),e.TgZ(17,"p-dropdown",10),e.NdJ("ngModelChange",function(o){return t.selectedOrgRole=o})("onChange",function(o){return t.onChange(o)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"p-table",11,12),e.YNc(20,n_,4,3,"ng-template",13),e.YNc(21,a_,18,0,"ng-template",14),e.YNc(22,i_,13,6,"ng-template",15),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(17),e.Q6J("options",t.orgRoles)("ngModel",t.selectedOrgRole),e.xp6(1),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(8,r_)))},directives:[$.Hq,ne.Lt,T.JJ,T.On,N,D.jx,j,re,mn,ae,ie,fn],pipes:[ee.X$],styles:["tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:200px;height:44px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}(),s_=function(){return["/dashboard/ext-org-selected-profile"]},hi=function(r){return{organization:r}},l_=function(){return["/dashboard/ext-org-selected-users"]},u_=function(){return["/dashboard/ext-org-selected-inactive-users"]},co=function(){return{width:"190px"}},c_=function(){function r(a,n){this.formBuilder=a,this.router=n}return r.prototype.ngOnInit=function(){if(this.form=this.formBuilder.group({orgRole:["",T.kI.required],orgName:["",T.kI.required],orgVATNumber:["",T.kI.required],orgCountry:["",T.kI.required],orgCity:[""],orgAddress:[""],orgPostalCode:[""],orgPhoneNumber:[""],orgAdminFirstName:["",T.kI.required],orgAdminLastName:["",T.kI.required],orgAdminUsername:["",T.kI.required],orgAdminEmail:["",T.kI.required]}),this.orgRoleOptions=[{label:"-- Please select --"},{label:"Research"},{label:"Telecommunications"},{label:"Port Authority"},{label:"Trucking Company"},{label:"Shipping Agent"}],this.countryOptions=[{label:"-- Please select --"},{label:"Afghanistan"},{label:"Albania"},{label:"Algeria"},{label:"American Samoa"},{label:"Andorra"},{label:"Angola"},{label:"Anguilla"},{label:"Antarctica"},{label:"Antigua and Barbuda"},{label:"Argentina"},{label:"Armenia"},{label:"Aruba"},{label:"Australia"},{label:"Austria"},{label:"Azerbaijan"},{label:"Bahamas"},{label:"Bahrain"},{label:"Bangladesh"},{label:"Barbados"},{label:"Belarus"},{label:"Belgium"},{label:"Belize"},{label:"Benin"},{label:"Bermuda"},{label:"Bhutan"},{label:"Bolivia"},{label:"Bosnia and Herzegovina"},{label:"Botswana"},{label:"Brazil"},{label:"Brunei Darussalam"},{label:"Bulgaria"},{label:"Burkina Faso"},{label:"Burundi"},{label:"Cambodia"},{label:"Cameroon"},{label:"Canada"},{label:"Cape Verde"},{label:"Cayman Islands"},{label:"Central African Republic"},{label:"Chad"},{label:"Chile"},{label:"China"},{label:"Christmas Island"},{label:"Cocos (Keeling) Islands"},{label:"Colombia"},{label:"Comoros"},{label:"Democratic Republic of the Congo (Kinshasa)"},{label:"Congo, Republic of (Brazzaville)"},{label:"Cook Islands"},{label:"Costa Rica"},{label:"C\xf4te D'ivoire (Ivory Coast)"},{label:"Croatia"},{label:"Cuba"},{label:"Cyprus"},{label:"Czech Republic"},{label:"Denmark"},{label:"Djibouti"},{label:"Dominica"},{label:"Dominican Republic"},{label:"East Timor (Timor-Leste)"},{label:"Ecuador"},{label:"Egypt"},{label:"El Salvador"},{label:"Equatorial Guinea"},{label:"Eritrea"},{label:"Estonia"},{label:"Ethiopia"},{label:"Falkland Islands"},{label:"Faroe Islands"},{label:"Fiji"},{label:"Finland"},{label:"France"},{label:"French Guiana"},{label:"French Polynesia"},{label:"French Southern Territories"},{label:"Gabon"},{label:"The Gambia"},{label:"Georgia"},{label:"Germany"},{label:"Ghana"},{label:"Gibraltar"},{label:"Greece"},{label:"Greenland"},{label:"Grenada"},{label:"Guadeloupe"},{label:"Guam"},{label:"Guatemala"},{label:"Guinea"},{label:"Guinea-Bissau"},{label:"Guyana"},{label:"Haiti"},{label:"Holy See"},{label:"Honduras"},{label:"Hong Kong"},{label:"Hungary"},{label:"Iceland"},{label:"India"},{label:"Indonesia"},{label:"Iran (Islamic Republic of)"},{label:"Iraq"},{label:"Ireland"},{label:"Israel"},{label:"Italy"},{label:"Ivory Coast"},{label:"Jamaica"},{label:"Japan"},{label:"Jordan"},{label:"Kazakhstan"},{label:"Kenya"},{label:"Kiribati"},{label:"Korea, Democratic People's Rep. (North Korea)"},{label:"Korea, Republic of (South Korea)"},{label:"Kosovo"},{label:"Kuwait"},{label:"Kyrgyzstan"},{label:"Lao, People's Democratic Republic"},{label:"Latvia"},{label:"Lebanon"},{label:"Lesotho"},{label:"Liberia"},{label:"Libya"},{label:"Liechtenstein"},{label:"Lithuania"},{label:"Luxembourg"},{label:"Macau"},{label:"Madagascar"},{label:"Malawi"},{label:"Malaysia"},{label:"Maldives"},{label:"Mali"},{label:"Malta"},{label:"Marshall Islands"},{label:"Martinique"},{label:"Mauritania"},{label:"Mauritius"},{label:"Mayotte"},{label:"Mexico"},{label:"Micronesia, Federal States of"},{label:"Moldova, Republic of"},{label:"Monaco"},{label:"Mongolia"},{label:"Montenegro"},{label:"Montserrat"},{label:"Morocco"},{label:"Mozambique"},{label:"Myanmar, Burma"},{label:"Namibia"},{label:"Nauru"},{label:"Nepal"},{label:"Netherlands"},{label:"Netherlands Antilles"},{label:"New Caledonia"},{label:"New Zealand"},{label:"Nicaragua"},{label:"Niger"},{label:"Nigeria"},{label:"Niue"},{label:"North Macedonia"},{label:"Northern Mariana Islands"},{label:"Norway"},{label:"Oman"},{label:"Pakistan"},{label:"Palau"},{label:"Palestinian territories"},{label:"Panama"},{label:"Papua New Guinea"},{label:"Paraguay"},{label:"Peru"},{label:"Philippines"},{label:"Pitcairn Island"},{label:"Poland"},{label:"Portugal"},{label:"Puerto Rico"},{label:"Qatar"},{label:"Reunion Island"},{label:"Romania"},{label:"Russian Federation"},{label:"Rwanda"},{label:"Saint Kitts and Nevis"},{label:"Saint Lucia"},{label:"Saint Vincent and the Grenadines"},{label:"Samoa"},{label:"San Marino"},{label:"Sao Tome and Principe"},{label:"Saudi Arabia"},{label:"Senegal"},{label:"Serbia"},{label:"Seychelles"},{label:"Sierra Leone"},{label:"Singapore"},{label:"Slovakia (Slovak Republic)"},{label:"Slovenia"},{label:"Solomon Islands"},{label:"Somalia"},{label:"South Africa"},{label:"South Sudan"},{label:"Spain"},{label:"Sri Lanka"},{label:"Sudan"},{label:"Suriname"},{label:"Swaziland (Eswatini)"},{label:"Sweden"},{label:"Switzerland"},{label:"Syria, Syrian Arab Republic"},{label:"Taiwan (Republic of China)"},{label:"Tajikistan"},{label:"Tanzania; officially the United Republic of Tanzania"},{label:"Thailand"},{label:"Tibet"},{label:"Timor-Leste (East Timor)"},{label:"Togo"},{label:"Tokelau"},{label:"Tonga"},{label:"Trinidad and Tobago"},{label:"Tunisia"},{label:"Turkey"},{label:"Turkmenistan"},{label:"Turks and Caicos Islands"},{label:"Tuvalu"},{label:"Uganda"},{label:"Ukraine"},{label:"United Arab Emirates"},{label:"United Kingdom"},{label:"United States"},{label:"Uruguay"},{label:"Uzbekistan"},{label:"Vanuatu"},{label:"Vatican City State (Holy See)"},{label:"Venezuela"},{label:"Vietnam"},{label:"Virgin Islands (British)"},{label:"Virgin Islands (U.S.)"},{label:"Wallis and Futuna Islands"},{label:"Western Sahara"},{label:"Yemen"},{label:"Zambia"},{label:"Zimbabwe"}],history.state.organization)console.log(history.state.organization),this.historyStateData=history.state.organization;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.orgRole=this.historyStateData.orgRole,this.orgName=this.historyStateData.orgName,this.orgVATNumber=this.historyStateData.orgVATNumber,this.orgCountry=this.historyStateData.orgCountry,this.orgAdminFirstName=this.historyStateData.orgAdminFirstName,this.orgAdminLastName=this.historyStateData.orgAdminLastName,this.orgAdminUsername=this.historyStateData.orgAdminUsername,this.orgAdminEmail=this.historyStateData.orgAdminEmail,this.orgCity=this.historyStateData.orgCity,this.orgAddress=this.historyStateData.orgAddress,this.orgPostalCode=this.historyStateData.orgPostalCode,this.orgPhoneNumber=this.historyStateData.orgPhoneNumber,this.setInitialValues(),this.editStatus=!1},r.prototype.saveChangesButton=function(){this.form.invalid?alert("Please fill in all required fields"):alert("Form submitted")},r.prototype.cancelButton=function(){console.log("cancelButton"),this.setInitialValues()},r.prototype.editButton=function(){this.editStatus=!0},r.prototype.setInitialValues=function(){var n={label:this.historyStateData.orgCountry};this.form.controls.orgRole.setValue({label:this.historyStateData.orgRole}),this.form.controls.orgName.setValue(this.historyStateData.orgName),this.form.controls.orgVATNumber.setValue(this.historyStateData.orgVATNumber),this.form.controls.orgCountry.setValue(n),this.form.controls.orgAdminFirstName.setValue(this.historyStateData.orgAdminFirstName),this.form.controls.orgAdminLastName.setValue(this.historyStateData.orgAdminLastName),this.form.controls.orgAdminUsername.setValue(this.historyStateData.orgAdminUsername),this.form.controls.orgAdminEmail.setValue(this.historyStateData.orgAdminEmail),this.form.controls.orgCity.setValue(this.historyStateData.orgCity),this.form.controls.orgAddress.setValue(this.historyStateData.orgAddress),this.form.controls.orgPostalCode.setValue(this.historyStateData.orgPostalCode),this.form.controls.orgPhoneNumber.setValue(this.historyStateData.orgPhoneNumber)},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/external-organizations"])},r.\u0275fac=function(n){return new(n||r)(e.Y36(T.qu),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-ext-org-selected-profile"]],decls:136,vars:42,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[3,"hidden"],[1,"row"],[1,"col-md-3"],[1,"caption"],[1,"header"],["novalidate","",3,"formGroup"],[1,"subtitle"],["formControlName","orgRole","optionLabel","label",3,"options"],["type","text","formControlName","orgName"],["type","text","formControlName","orgVATNumber"],["formControlName","orgCountry","optionLabel","label",3,"options","filter"],["type","text","formControlName","orgCity"],["type","text","formControlName","orgAddress"],["type","text","formControlName","orgPostalCode"],["type","text","formControlName","orgPhoneNumber"],["type","text","formControlName","orgAdminFirstName"],["type","text","formControlName","orgAdminLastName"],["type","text","formControlName","orgAdminUsername"],["type","text","formControlName","orgAdminEmail"],["pButton","","type","button","label","Cancel","icon","icon-revoke",3,"click"],["pButton","","type","button","label","Save Changes","icon","icon-save",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 External Organizations"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",5),e.TgZ(12,"div",6),e.TgZ(13,"div",7),e.TgZ(14,"table"),e.TgZ(15,"caption",8),e._uU(16,"Organization"),e.qZA(),e.TgZ(17,"tr"),e.TgZ(18,"td",9),e._uU(19,"Organization Role"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.qZA(),e.TgZ(22,"tr"),e.TgZ(23,"td",9),e._uU(24,"Organization Name"),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.qZA(),e.TgZ(27,"tr"),e.TgZ(28,"td",9),e._uU(29,"Organization VAT Number"),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.qZA(),e.qZA(),e.TgZ(32,"tr"),e.TgZ(33,"td",9),e._uU(34,"Organization Country"),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.qZA(),e.qZA(),e.TgZ(37,"tr"),e.TgZ(38,"td",9),e._uU(39,"Organization City"),e.qZA(),e.TgZ(40,"td"),e._uU(41),e.qZA(),e.qZA(),e.TgZ(42,"tr"),e.TgZ(43,"td",9),e._uU(44,"Organization Address"),e.qZA(),e.TgZ(45,"td"),e._uU(46),e.qZA(),e.qZA(),e.TgZ(47,"tr"),e.TgZ(48,"td",9),e._uU(49,"Organization Postal Code"),e.qZA(),e.TgZ(50,"td"),e._uU(51),e.qZA(),e.qZA(),e.TgZ(52,"tr"),e.TgZ(53,"td",9),e._uU(54,"Organization Phone Number"),e.qZA(),e.TgZ(55,"td"),e._uU(56),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"div",7),e.TgZ(58,"table"),e.TgZ(59,"caption",8),e._uU(60,"Organization Administrator"),e.qZA(),e.TgZ(61,"tr"),e.TgZ(62,"td",9),e._uU(63,"Organization Administrator First Name"),e.qZA(),e.TgZ(64,"td"),e._uU(65),e.qZA(),e.qZA(),e.TgZ(66,"tr"),e.TgZ(67,"td",9),e._uU(68,"Organization Administrator Last Name"),e.qZA(),e.TgZ(69,"td"),e._uU(70),e.qZA(),e.qZA(),e.TgZ(71,"tr"),e.TgZ(72,"td",9),e._uU(73,"Username"),e.qZA(),e.TgZ(74,"td"),e._uU(75),e.qZA(),e.qZA(),e.TgZ(76,"tr"),e.TgZ(77,"td",9),e._uU(78,"Email"),e.qZA(),e.TgZ(79,"td"),e._uU(80),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(81,"br"),e._UZ(82,"br"),e.qZA(),e.TgZ(83,"div",5),e.TgZ(84,"form",10),e.TgZ(85,"div",6),e.TgZ(86,"div",7),e.TgZ(87,"h5",11),e._uU(88,"Organization"),e.qZA(),e._UZ(89,"br"),e.TgZ(90,"h6"),e._uU(91,"Organization Role *"),e.qZA(),e._UZ(92,"p-dropdown",12),e.TgZ(93,"h6"),e._uU(94,"Organization Name *"),e.qZA(),e._UZ(95,"input",13),e.TgZ(96,"h6"),e._uU(97,"Organization VAT Number *"),e.qZA(),e._UZ(98,"input",14),e.TgZ(99,"h6"),e._uU(100,"Organization Country *"),e.qZA(),e._UZ(101,"p-dropdown",15),e.TgZ(102,"h6"),e._uU(103,"Organization City"),e.qZA(),e._UZ(104,"input",16),e.TgZ(105,"h6"),e._uU(106,"Organization Address"),e.qZA(),e._UZ(107,"input",17),e.TgZ(108,"h6"),e._uU(109,"Organization Postal Code"),e.qZA(),e._UZ(110,"input",18),e.TgZ(111,"h6"),e._uU(112,"Organization Phone Number"),e.qZA(),e._UZ(113,"input",19),e.qZA(),e.TgZ(114,"div",7),e.TgZ(115,"h5",11),e._uU(116,"Organization Administrator"),e.qZA(),e._UZ(117,"br"),e.TgZ(118,"h6"),e._uU(119,"Organization Administrator First Name *"),e.qZA(),e._UZ(120,"input",20),e.TgZ(121,"h6"),e._uU(122,"Organization Administrator Last Name *"),e.qZA(),e._UZ(123,"input",21),e.TgZ(124,"h6"),e._uU(125,"Username *"),e.qZA(),e._UZ(126,"input",22),e.TgZ(127,"h6"),e._uU(128,"Email *"),e.qZA(),e._UZ(129,"input",23),e.qZA(),e.qZA(),e._UZ(130,"br"),e._UZ(131,"br"),e.TgZ(132,"button",24),e.NdJ("click",function(){return t.cancelButton()}),e.qZA(),e._UZ(133,"br"),e._UZ(134,"br"),e.TgZ(135,"button",25),e.NdJ("click",function(){return t.saveChangesButton()}),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(31,s_))("state",e.VKq(32,hi,t.historyStateData)),e.xp6(1),e.Oqu("Profile"),e.xp6(1),e.Q6J("routerLink",e.DdM(34,l_))("state",e.VKq(35,hi,t.historyStateData)),e.xp6(1),e.Oqu("Organization Active Users"),e.xp6(1),e.Q6J("routerLink",e.DdM(37,u_))("state",e.VKq(38,hi,t.historyStateData)),e.xp6(1),e.Oqu("Organization Inactive Users"),e.xp6(1),e.Q6J("hidden",1==t.editStatus),e.xp6(10),e.Oqu(t.orgRole),e.xp6(5),e.Oqu(t.orgName),e.xp6(5),e.Oqu(t.orgVATNumber),e.xp6(5),e.Oqu(t.orgCountry),e.xp6(5),e.Oqu(t.orgCity),e.xp6(5),e.Oqu(t.orgAddress),e.xp6(5),e.Oqu(t.orgPostalCode),e.xp6(5),e.Oqu(t.orgPhoneNumber),e.xp6(9),e.Oqu(t.orgAdminFirstName),e.xp6(5),e.Oqu(t.orgAdminLastName),e.xp6(5),e.Oqu(t.orgAdminUsername),e.xp6(5),e.Oqu(t.orgAdminEmail),e.xp6(3),e.Q6J("hidden",0==t.editStatus),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(8),e.Akn(e.DdM(40,co)),e.Q6J("options",t.orgRoleOptions),e.xp6(9),e.Akn(e.DdM(41,co)),e.Q6J("options",t.countryOptions)("filter",!0))},directives:[q.yS,q.Od,T._Y,T.JL,T.sg,ne.Lt,T.JJ,T.u,T.Fj,$.Hq],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.title[_ngcontent-%COMP%]{color:#000;margin-top:3px}.subtitle[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}button[_ngcontent-%COMP%]{width:200px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}.header[_ngcontent-%COMP%]{color:#023f88}tr[_ngcontent-%COMP%]:nth-child(even){background:#CCC}tr[_ngcontent-%COMP%]:nth-child(odd){background:#FFF}table[_ngcontent-%COMP%]{caption-side:top}.caption[_ngcontent-%COMP%]{color:#023f88;font-size:1.25rem;font-weight:500}"]}),r}();function d_(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"div"),e.TgZ(2,"input",20),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(27).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function p_(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",21),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",22),e._uU(4,"Username "),e._UZ(5,"p-sortIcon",23),e.qZA(),e.TgZ(6,"th",24),e._uU(7,"First Name "),e._UZ(8,"p-sortIcon",25),e.qZA(),e.TgZ(9,"th",26),e._uU(10,"Last Name "),e._UZ(11,"p-sortIcon",27),e.qZA(),e.TgZ(12,"th",28),e._uU(13,"User e-mail "),e._UZ(14,"p-sortIcon",29),e.qZA(),e.TgZ(15,"th",30),e._uU(16,"User Role "),e._UZ(17,"p-sortIcon",31),e.qZA(),e.TgZ(18,"th",32),e._uU(19,"Registration Date "),e._UZ(20,"p-sortIcon",33),e.qZA(),e.qZA())}function g_(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"p-tableCheckbox",34),e.qZA(),e.TgZ(3,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(4),e.qZA(),e.TgZ(5,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(6),e.qZA(),e.TgZ(7,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(8),e.qZA(),e.TgZ(9,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(10),e.qZA(),e.TgZ(11,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(12),e.qZA(),e.TgZ(13,"td",0),e.NdJ("click",function(){var s=e.CHM(n).$implicit;return e.oxw().handleSelect(s)}),e._uU(14),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.userFirstName),e.xp6(2),e.Oqu(t.userLastName),e.xp6(2),e.Oqu(t.userEmail),e.xp6(2),e.Oqu(t.userRole),e.xp6(2),e.Oqu(t.registered)}}var h_=function(){return["/dashboard/ext-org-selected-profile"]},fi=function(r){return{organization:r}},f_=function(){return["/dashboard/ext-org-selected-users"]},m_=function(){return["/dashboard/ext-org-selected-inactive-users"]},v_=function(){return["userId","username","userFirstName","userLastName","userEmail","userRole","registered"]},b_=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.userRoles=[],this.selectedDatasource=[],this.userRolesArray=[],this.selectedRows=[],this.userData={}}return r.prototype.ngOnInit=function(){if(history.state.organization)console.log(history.state.organization),this.historyStateData=history.state.organization;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.orgName=this.historyStateData.orgName,this.isExternalOrg=this.historyStateData.isExternalOrg,this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.userData={username:this.loggedinUserUsername,organization:this.loggedinUserOrganization},this.getActiveAccounts()},r.prototype.getActiveAccounts=function(){var a=this;this.dashboardService.getActiveAccounts().subscribe(function(n){console.log(n);for(var t=n.result,i=0,o=t=t.filter(a.isExternalOrg?function(p){return p.Record.externalOrg==a.orgName}:function(p){return p.Record.organization==a.orgName});i<o.length;i++){var l={username:(s=o[i]).Record.username,userFirstName:s.Record.name,userLastName:s.Record.surname,userEmail:s.Record.email,userRole:s.Record.type,registered:a.changeDateFormat(s.Record.dateTime),registeredSortable:s.Record.dateTime};a.datasource.push(l)}var u=a.datasource.map(function(p){return p.userRole});u=u.filter(function(p,g,h){return h.indexOf(p)===g}),a.userRoles=[{userRole:"All"}];for(var c=0,d=u;c<d.length;c++){var s;a.userRoles.push({userRole:s=d[c]})}a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getActiveAccounts",[])})},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/external-organizations"])},r.prototype.onChange=function(a){var n=a.value.userRole;this.selectedDatasource="All"==n?this.datasource:this.datasource.filter(function(t){return n==t.userRole})},r.prototype.handleSelect=function(a){var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),this.router.navigate(["/dashboard/net-user-selected-profile"],{state:{user:a,organization:history.state.organization}})},r.prototype.deactivateSelectedButton=function(){var a=this;console.log("deactivate selected button"),console.log(this.selectedRows);for(var n=0,t=this.selectedRows;n<t.length;n++)this.deactivateAccount({username:t[n].username});setTimeout(function(){a.datasource=[],a.selectedDatasource=[],a.getActiveAccounts()},5e3)},r.prototype.deactivateAccount=function(a){var n=this;this.dashboardService.deactivateAccount(a).subscribe(function(t){console.log(t)},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("deactivateAccount",a)})},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"getActiveAccounts"==a?t.getActiveAccounts():"deactivateAccount"==a&&t.deactivateAccount(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-ext-org-selected-users"]],decls:31,vars:29,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[2,"text-align","right"],["pButton","","type","button","label","Deactivate Selected","icon","icon-delete",3,"click"],[1,"row"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","32px","margin-left","15px"],[1,"icon-filters"],[1,"dropdownLabel"],["optionLabel","userRole",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields","selection","selectionChange"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","",2,"width","3rem"],["id","th12","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th13","pResizableColumn","","pSortableColumn","userFirstName"],["field","userFirstName"],["id","th14","pResizableColumn","","pSortableColumn","userLastName"],["field","userLastName"],["id","th15","pResizableColumn","","pSortableColumn","userEmail"],["field","userEmail"],["id","th16","pResizableColumn","","pSortableColumn","userRole"],["field","userRole"],["id","th17","pResizableColumn","","pSortableColumn","registeredSortable"],["field","registeredSortable"],[3,"value"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 External Organizations"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"h5"),e._uU(12),e.qZA(),e.TgZ(13,"div"),e.TgZ(14,"div",5),e.TgZ(15,"div",6),e.TgZ(16,"button",7),e.NdJ("click",function(){return t.deactivateSelectedButton()}),e.qZA(),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"div",9),e.TgZ(19,"h6",10),e._UZ(20,"span",11),e._uU(21,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(22,"div",9),e.TgZ(23,"h6",12),e._uU(24,"User role:"),e.qZA(),e.TgZ(25,"p-dropdown",13),e.NdJ("ngModelChange",function(o){return t.selectedUserRole=o})("onChange",function(o){return t.onChange(o)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"p-table",14,15),e.NdJ("selectionChange",function(o){return t.selectedRows=o}),e.YNc(28,d_,4,3,"ng-template",16),e.YNc(29,p_,21,0,"ng-template",17),e.YNc(30,g_,15,7,"ng-template",18),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(19,h_))("state",e.VKq(20,fi,t.historyStateData)),e.xp6(1),e.Oqu("Profile"),e.xp6(1),e.Q6J("routerLink",e.DdM(22,f_))("state",e.VKq(23,fi,t.historyStateData)),e.xp6(1),e.Oqu("Organization Active Users"),e.xp6(1),e.Q6J("routerLink",e.DdM(25,m_))("state",e.VKq(26,fi,t.historyStateData)),e.xp6(1),e.Oqu("Organization Inactive Users"),e.xp6(2),e.Oqu(t.orgName),e.xp6(13),e.Q6J("options",t.userRoles)("ngModel",t.selectedUserRole),e.xp6(1),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(28,v_))("selection",t.selectedRows))},directives:[q.yS,q.Od,$.Hq,ne.Lt,T.JJ,T.On,N,D.jx,j,re,mn,ae,ie,fn],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:220px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}();function y_(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"div"),e.TgZ(2,"input",20),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(27).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function __(r,a){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",21),e.TgZ(2,"th",22),e._uU(3,"Username "),e._UZ(4,"p-sortIcon",23),e.qZA(),e.TgZ(5,"th",24),e._uU(6,"First Name "),e._UZ(7,"p-sortIcon",25),e.qZA(),e.TgZ(8,"th",26),e._uU(9,"Last Name "),e._UZ(10,"p-sortIcon",27),e.qZA(),e.TgZ(11,"th",28),e._uU(12,"User e-mail "),e._UZ(13,"p-sortIcon",29),e.qZA(),e.TgZ(14,"th",30),e._uU(15,"User Role "),e._UZ(16,"p-sortIcon",31),e.qZA(),e.TgZ(17,"th",32),e._uU(18,"Registration Date "),e._UZ(19,"p-sortIcon",33),e.qZA(),e.qZA())}function T_(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"p-checkbox",34),e.NdJ("onChange",function(){return e.CHM(n),e.oxw().onCheckboxChange()})("ngModelChange",function(s){return e.CHM(n),e.oxw().selectedRows=s}),e.qZA(),e.qZA(),e.TgZ(3,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(4),e.qZA(),e.TgZ(5,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(6),e.qZA(),e.TgZ(7,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(8),e.qZA(),e.TgZ(9,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(10),e.qZA(),e.TgZ(11,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(12),e.qZA(),e.TgZ(13,"td",0),e.NdJ("click",function(){var l=e.CHM(n).$implicit;return e.oxw().handleSelect(l)}),e._uU(14),e.qZA(),e.qZA()}if(2&r){var t=a.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngModel",i.selectedRows)("value",t),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.userFirstName),e.xp6(2),e.Oqu(t.userLastName),e.xp6(2),e.Oqu(t.userEmail),e.xp6(2),e.Oqu(t.userRole),e.xp6(2),e.Oqu(t.registered)}}var C_=function(){return["/dashboard/ext-org-selected-profile"]},mi=function(r){return{organization:r}},Z_=function(){return["/dashboard/ext-org-selected-users"]},k_=function(){return["/dashboard/ext-org-selected-inactive-users"]},S_=function(){return["userId","username","userFirstName","userLastName","userEmail","userRole","registered"]},A_=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.userRoles=[],this.selectedDatasource=[],this.userRolesArray=[],this.selectedRows=[]}return r.prototype.ngOnInit=function(){if(history.state.organization)console.log(history.state.organization),this.historyStateData=history.state.organization;else if(localStorage.getItem("historyStateData")){var a=localStorage.getItem("historyStateData");this.historyStateData=JSON.parse(a),console.log(this.historyStateData)}this.orgName=this.historyStateData.orgName,this.isExternalOrg=this.historyStateData.isExternalOrg,this.getInactiveAccounts()},r.prototype.getInactiveAccounts=function(){var a=this;this.dashboardService.getInactiveAccounts().subscribe(function(n){console.log(n);for(var t=n.result,i=0,o=t=t.filter(a.isExternalOrg?function(p){return p.Record.externalOrg==a.orgName}:function(p){return p.Record.organization==a.orgName});i<o.length;i++){var l={username:(s=o[i]).Record.username,userFirstName:s.Record.name,userLastName:s.Record.surname,userEmail:s.Record.email,userRole:s.Record.type,registered:a.changeDateFormat(s.Record.dateTime),registeredSortable:s.Record.dateTime,organization:s.Record.organization,externalOrg:s.Record.externalOrg,isExternalUser:s.Record.isExternalUser};a.datasource.push(l)}var u=a.datasource.map(function(p){return p.userRole});u=u.filter(function(p,g,h){return h.indexOf(p)===g}),a.userRoles=[{userRole:"All"}];for(var c=0,d=u;c<d.length;c++){var s;a.userRoles.push({userRole:s=d[c]})}a.selectedDatasource=a.datasource},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("getInactiveAccounts",[])})},r.prototype.backButtonClick=function(){this.router.navigate(["/dashboard/external-organizations"])},r.prototype.onChange=function(a){var n=a.value.userRole;this.selectedDatasource="All"==n?this.datasource:this.datasource.filter(function(t){return n==t.userRole})},r.prototype.handleSelect=function(a){var n=JSON.stringify(a);localStorage.setItem("historyStateData",n),this.router.navigate(["/dashboard/net-user-selected-profile"],{state:{user:a,organization:history.state.organization}})},r.prototype.activateSelectedButton=function(){var a=this;console.log("activate selected button");for(var n=0,t=this.selectedRows;n<t.length;n++){var i=t[n];this.activateAccount({username:i.username,organization:i.organization,name:i.userFirstName,surname:i.userLastName,email:i.userEmail,usertype:i.userRole,externalOrg:i.externalOrg,isExternalUser:i.isExternalUser})}setTimeout(function(){a.datasource=[],a.selectedDatasource=[],a.getInactiveAccounts()},5e3)},r.prototype.activateAccount=function(a){var n=this;this.dashboardService.activateAccount(a).subscribe(function(t){console.log(t),alert("The selected user account has been activated and the new password is: "+t.response)},function(t){console.log(t.status),400==t.status?alert("Data error"):(401==t.status||403==t.status)&&n.refreshTokens("activateAccount",a)})},r.prototype.onCheckboxChange=function(){var a=this.selectedRows[this.selectedRows.length-1];this.selectedRows.length=0,this.selectedRows.push(a)},r.prototype.refreshTokens=function(a,n){var t=this;this.dashboardService.refreshTokens().subscribe(function(i){console.log(i),localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),"getActiveAccountsByOrg"==a?t.getInactiveAccounts():"activateAccount"==a&&t.activateAccount(n)},function(i){console.log(i),t.logoutUser()})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-ext-org-selected-inactive-users"]],decls:31,vars:28,consts:[[3,"click"],[1,"icon-back"],[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink","state"],[1,"card"],[2,"text-align","right"],["pButton","","type","button","label","Activate Selected",3,"click"],[1,"row"],[1,"col-md-1"],[2,"color","#58bb9e","margin-top","32px","margin-left","15px"],[1,"icon-filters"],[1,"dropdownLabel"],["optionLabel","userRole",3,"options","ngModel","ngModelChange","onChange"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","",2,"width","3rem"],["id","th12","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th13","pResizableColumn","","pSortableColumn","userFirstName"],["field","userFirstName"],["id","th14","pResizableColumn","","pSortableColumn","userLastName"],["field","userLastName"],["id","th15","pResizableColumn","","pSortableColumn","userEmail"],["field","userEmail"],["id","th16","pResizableColumn","","pSortableColumn","userRole"],["field","userRole"],["id","th17","pResizableColumn","","pSortableColumn","registeredSortable"],["field","registeredSortable"],[3,"ngModel","value","onChange","ngModelChange"]],template:function(n,t){1&n&&(e.TgZ(0,"h6",0),e.NdJ("click",function(){return t.backButtonClick()}),e._UZ(1,"span",1),e._uU(2,"\xa0 External Organizations"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"a",4),e._uU(6),e.qZA(),e.TgZ(7,"a",4),e._uU(8),e.qZA(),e.TgZ(9,"a",4),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"h5"),e._uU(12),e.qZA(),e.TgZ(13,"div"),e.TgZ(14,"div",5),e.TgZ(15,"div",6),e.TgZ(16,"button",7),e.NdJ("click",function(){return t.activateSelectedButton()}),e.qZA(),e.qZA(),e.TgZ(17,"div",8),e.TgZ(18,"div",9),e.TgZ(19,"h6",10),e._UZ(20,"span",11),e._uU(21,"\xa0\xa0 Show "),e.qZA(),e.qZA(),e.TgZ(22,"div",9),e.TgZ(23,"h6",12),e._uU(24,"User role:"),e.qZA(),e.TgZ(25,"p-dropdown",13),e.NdJ("ngModelChange",function(o){return t.selectedUserRole=o})("onChange",function(o){return t.onChange(o)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"p-table",14,15),e.YNc(28,y_,4,3,"ng-template",16),e.YNc(29,__,20,0,"ng-template",17),e.YNc(30,T_,15,8,"ng-template",18),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(18,C_))("state",e.VKq(19,mi,t.historyStateData)),e.xp6(1),e.Oqu("Profile"),e.xp6(1),e.Q6J("routerLink",e.DdM(21,Z_))("state",e.VKq(22,mi,t.historyStateData)),e.xp6(1),e.Oqu("Organization Active Users"),e.xp6(1),e.Q6J("routerLink",e.DdM(24,k_))("state",e.VKq(25,mi,t.historyStateData)),e.xp6(1),e.Oqu("Organization Inactive Users"),e.xp6(2),e.Oqu(t.orgName),e.xp6(13),e.Q6J("options",t.userRoles)("ngModel",t.selectedUserRole),e.xp6(1),e.Q6J("value",t.selectedDatasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(27,S_)))},directives:[q.yS,q.Od,$.Hq,ne.Lt,T.JJ,T.On,N,D.jx,j,re,ae,ie,Ht.XZ],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}h6[_ngcontent-%COMP%]{color:#023f88;margin-top:3px}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:220px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}();function w_(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(13).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function x_(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",13),e._uU(2,"Dataset Name "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",15),e._uU(5,"Provider Username "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.TgZ(7,"th",17),e._uU(8,"Permission "),e._UZ(9,"p-sortIcon",18),e.qZA(),e.TgZ(10,"th",19),e._uU(11,"Custom "),e._UZ(12,"p-sortIcon",20),e.qZA(),e.TgZ(13,"th",21),e._uU(14,"Request Date/Time "),e._UZ(15,"p-sortIcon",22),e.qZA(),e.qZA())}function O_(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.dataset_name),e.xp6(2),e.Oqu(n.dataset_provider),e.xp6(2),e.Oqu(n.permission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.date)}}function q_(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(13).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function D_(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",23),e._uU(2,"Dataset Name "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",24),e._uU(5,"Provider Username "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.TgZ(7,"th",25),e._uU(8,"Permission "),e._UZ(9,"p-sortIcon",18),e.qZA(),e.TgZ(10,"th",26),e._uU(11,"Custom "),e._UZ(12,"p-sortIcon",20),e.qZA(),e.TgZ(13,"th",27),e._uU(14,"Requestor Username "),e._UZ(15,"p-sortIcon",28),e.qZA(),e.TgZ(16,"th",29),e._uU(17,"Requestor Name "),e._UZ(18,"p-sortIcon",30),e.qZA(),e.TgZ(19,"th",31),e._uU(20,"Requestor Surname "),e._UZ(21,"p-sortIcon",32),e.qZA(),e.TgZ(22,"th",33),e._uU(23,"Request Date/Time "),e._UZ(24,"p-sortIcon",22),e.qZA(),e.qZA())}function M_(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.dataset_name),e.xp6(2),e.Oqu(n.dataset_provider),e.xp6(2),e.Oqu(n.permission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.username),e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.surname),e.xp6(2),e.Oqu(n.date)}}var R_=function(){return["/dashboard/access-history-pending-access-requests"]},I_=function(){return["/dashboard/access-history-access-requests-history"]},U_=function(){return["/dashboard/access-history-revoked-access-history"]},P_=function(){return["dataset_name","dataset_provider","permission","customAccessRights","date"]},E_=function(){return["dataset_name","dataset_provider","permission","customAccessRights","username","name","surname","date"]},B_=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.datasource2=[]}return r.prototype.ngOnInit=function(){this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),this.queryAllAccessRequestsConsumer(),this.queryAllAccessRequestsByOrgConsumer()},r.prototype.queryAllAccessRequestsConsumer=function(){var a=this;this.dashboardService.queryAllAccessRequestsConsumer().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i],l={dataset_name:s.Record.dataset_name,dataset_provider:s.Record.dataset_provider,permission:s.Record.permission,date:a.changeDateFormat(s.Record.dateTime),dateSortable:s.Record.dateTime,customAccessRights:s.Record.customAccessRights};a.datasource.push(l)}},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryAllAccessRequestsConsumer")})},r.prototype.queryAllAccessRequestsByOrgConsumer=function(){var a=this;this.dashboardService.queryAllAccessRequestsByOrgConsumer().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i],l={dataset_name:s.Record.dataset_name,dataset_provider:s.Record.dataset_provider,permission:s.Record.permission,username:s.Record.username,name:s.Record.name,surname:s.Record.surname,date:a.changeDateFormat(s.Record.dateTime),dateSortable:s.Record.dateTime,customAccessRights:s.Record.customAccessRights};a.datasource2.push(l)}},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryAccessRequestsOrgProviderByDataset")})},r.prototype.changeDateFormat=function(a){if(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()}return a},r.prototype.refreshTokens=function(a){var n=this;this.dashboardService.refreshTokens().subscribe(function(t){console.log(t),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),"queryAllAccessRequestsConsumer"==a?n.queryAllAccessRequestsConsumer():"queryAllAccessRequestsByOrgConsumer"==a&&n.queryAllAccessRequestsByOrgConsumer()},function(t){console.log(t),n.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-access-history-pending-access-requests"]],decls:28,vars:24,consts:[[1,"page-container"],[1,"page-routing","d-flex"],["routerLinkActive","active",3,"routerLink"],[3,"routerLink"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"hidden"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","dataset_name"],["field","dataset_name"],["id","th12","pResizableColumn","","pSortableColumn","dataset_provider"],["field","organization"],["id","th13","pResizableColumn","","pSortableColumn","permission"],["field","permission"],["id","th14","pResizableColumn","","pSortableColumn","customAccessRights"],["field","customAccessRights"],["id","th15","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],["id","th21","pResizableColumn","","pSortableColumn","dataset_name"],["id","th22","pResizableColumn","","pSortableColumn","dataset_provider"],["id","th23","pResizableColumn","","pSortableColumn","permission"],["id","th24","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th25","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th26","pResizableColumn","","pSortableColumn","name"],["field","name"],["id","th27","pResizableColumn","","pSortableColumn","surname"],["field","surname"],["id","th28","pResizableColumn","","pSortableColumn","dateSortable"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"a",2),e._uU(3),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.qZA(),e.TgZ(6,"a",3),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"h5"),e._uU(9,"Personal"),e.qZA(),e.TgZ(10,"div"),e.TgZ(11,"div",4),e.TgZ(12,"p-table",5,6),e.YNc(14,w_,4,3,"ng-template",7),e.YNc(15,x_,16,0,"ng-template",8),e.YNc(16,O_,11,5,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",10),e._UZ(18,"br"),e.TgZ(19,"h5"),e._uU(20,"Organizational"),e.qZA(),e.TgZ(21,"div"),e.TgZ(22,"div",4),e.TgZ(23,"p-table",5,6),e.YNc(25,q_,4,3,"ng-template",7),e.YNc(26,D_,25,0,"ng-template",8),e.YNc(27,M_,17,8,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(19,R_)),e.xp6(1),e.hij(" ","Pending Access Requests",""),e.xp6(1),e.Q6J("routerLink",e.DdM(20,I_)),e.xp6(1),e.hij(" ","Access Requests History",""),e.xp6(1),e.Q6J("routerLink",e.DdM(21,U_)),e.xp6(1),e.hij(" ","Revoked Access History",""),e.xp6(5),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(22,P_)),e.xp6(5),e.Q6J("hidden",t.externalOrg&&"true"==t.isExternalUser),e.xp6(6),e.Q6J("value",t.datasource2)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(23,E_)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:220px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}();function N_(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(13).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function L_(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",13),e._uU(2,"Dataset Name "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",15),e._uU(5,"Provider Username "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.TgZ(7,"th",17),e._uU(8,"Permission "),e._UZ(9,"p-sortIcon",18),e.qZA(),e.TgZ(10,"th",19),e._uU(11,"Custom "),e._UZ(12,"p-sortIcon",20),e.qZA(),e.TgZ(13,"th",21),e._uU(14,"Status "),e._UZ(15,"p-sortIcon",22),e.qZA(),e.TgZ(16,"th",23),e._uU(17,"Request Date/Time "),e._UZ(18,"p-sortIcon",24),e.qZA(),e.qZA())}function F_(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.dataset),e.xp6(2),e.Oqu(n.usernameOfProvider),e.xp6(2),e.Oqu(n.permission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.status),e.xp6(2),e.Oqu(n.date)}}function z_(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(13).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function H_(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",25),e._uU(2,"Dataset Name "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",26),e._uU(5,"Provider Username "),e._UZ(6,"p-sortIcon",27),e.qZA(),e.TgZ(7,"th",28),e._uU(8,"Permission "),e._UZ(9,"p-sortIcon",18),e.qZA(),e.TgZ(10,"th",29),e._uU(11,"Custom "),e._UZ(12,"p-sortIcon",20),e.qZA(),e.TgZ(13,"th",30),e._uU(14,"Status "),e._UZ(15,"p-sortIcon",22),e.qZA(),e.TgZ(16,"th",31),e._uU(17,"Requestor Userame "),e._UZ(18,"p-sortIcon",32),e.qZA(),e.TgZ(19,"th",33),e._uU(20,"Requestor Name "),e._UZ(21,"p-sortIcon",34),e.qZA(),e.TgZ(22,"th",35),e._uU(23,"Requestor Surname "),e._UZ(24,"p-sortIcon",36),e.qZA(),e.TgZ(25,"th",37),e._uU(26,"Request Date/Time "),e._UZ(27,"p-sortIcon",24),e.qZA(),e.qZA())}function V_(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.dataset),e.xp6(2),e.Oqu(n.usernameOfProvider),e.xp6(2),e.Oqu(n.permission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.status),e.xp6(2),e.Oqu(n.username),e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.surname),e.xp6(2),e.Oqu(n.date)}}var J_=function(){return["/dashboard/access-history-pending-access-requests"]},Y_=function(){return["/dashboard/access-history-access-requests-history"]},Q_=function(){return["/dashboard/access-history-revoked-access-history"]},K_=function(){return["organization","usernameOfProvider","permission","customAccessRights","status","date"]},$_=function(){return["dataset","usernameOfProvider","permission","customAccessRights","status","username","name","surname","date"]},G_=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.datasource2=[]}return r.prototype.ngOnInit=function(){this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),this.queryAccessRequestsConsumer(),this.queryAccessRequestsOrgConsumer()},r.prototype.queryAccessRequestsConsumer=function(){var a=this;this.dashboardService.queryAccessRequestsConsumer().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i],l={dataset:s.Record.dataset,usernameOfProvider:s.Record.usernameOfProvider,status:s.Record.status,date:a.changeDateFormat(s.Record.timestamp),dateSortable:s.Record.timestamp,permission:s.Record.permission,customAccessRights:s.Record.customAccessRights};a.datasource.push(l)}},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryAccessRequestsConsumer")})},r.prototype.queryAccessRequestsOrgConsumer=function(){var a=this;this.dashboardService.queryAccessRequestsOrgConsumer().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i],l={dataset:s.Record.dataset,usernameOfProvider:s.Record.usernameOfProvider,status:s.Record.status,date:a.changeDateFormat(s.Record.timestamp),dateSortable:s.Record.timestamp,username:s.Record.username,name:s.Record.name,surname:s.Record.surname,permission:s.Record.permission,customAccessRights:s.Record.customAccessRights};a.datasource2.push(l)}},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryAccessRequestsOrgConsumer")})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.refreshTokens=function(a){var n=this;this.dashboardService.refreshTokens().subscribe(function(t){console.log(t),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),"queryAccessRequestsConsumer"==a?n.queryAccessRequestsConsumer():"queryAccessRequestsOrgConsumer"==a&&n.queryAccessRequestsOrgConsumer()},function(t){console.log(t),n.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-access-history-access-requests-history"]],decls:28,vars:24,consts:[[1,"page-container"],[1,"page-routing","d-flex"],[3,"routerLink"],["routerLinkActive","active",3,"routerLink"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"hidden"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","dataset"],["field","dataset"],["id","th12","pResizableColumn","","pSortableColumn","usernameOfProvider"],["field","usernameOfConsumer"],["id","th13","pResizableColumn","","pSortableColumn","permission"],["field","permission"],["id","th14","pResizableColumn","","pSortableColumn","customAccessRights"],["field","customAccessRights"],["id","th15","pResizableColumn","","pSortableColumn","status"],["field","status"],["id","th16","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],["id","th21","pResizableColumn","","pSortableColumn","dataset"],["id","th22","pResizableColumn","","pSortableColumn","usernameOfProvider"],["field","usernameOfProvider"],["id","th23","pResizableColumn","","pSortableColumn","permission"],["id","th24","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th25","pResizableColumn","","pSortableColumn","status"],["id","th26","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th27","pResizableColumn","","pSortableColumn","name"],["field","name"],["id","th28","pResizableColumn","","pSortableColumn","surname"],["field","surname"],["id","th29","pResizableColumn","","pSortableColumn","dateSortable"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"a",2),e._uU(3),e.qZA(),e.TgZ(4,"a",3),e._uU(5),e.qZA(),e.TgZ(6,"a",2),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"h5"),e._uU(9,"Personal"),e.qZA(),e.TgZ(10,"div"),e.TgZ(11,"div",4),e.TgZ(12,"p-table",5,6),e.YNc(14,N_,4,3,"ng-template",7),e.YNc(15,L_,19,0,"ng-template",8),e.YNc(16,F_,13,6,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",10),e._UZ(18,"br"),e.TgZ(19,"h5"),e._uU(20,"Organizational"),e.qZA(),e.TgZ(21,"div"),e.TgZ(22,"div",4),e.TgZ(23,"p-table",5,6),e.YNc(25,z_,4,3,"ng-template",7),e.YNc(26,H_,28,0,"ng-template",8),e.YNc(27,V_,19,9,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(19,J_)),e.xp6(1),e.hij(" ","Pending Access Requests",""),e.xp6(1),e.Q6J("routerLink",e.DdM(20,Y_)),e.xp6(1),e.hij(" ","Access Requests History",""),e.xp6(1),e.Q6J("routerLink",e.DdM(21,Q_)),e.xp6(1),e.hij(" ","Revoked Access History",""),e.xp6(5),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(22,K_)),e.xp6(5),e.Q6J("hidden",t.externalOrg&&"true"==t.isExternalUser),e.xp6(6),e.Q6J("value",t.datasource2)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(23,$_)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:220px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}();function W_(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(13).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function j_(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",13),e._uU(2,"Dataset Name "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",15),e._uU(5,"Provider Username "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.TgZ(7,"th",17),e._uU(8,"Permission "),e._UZ(9,"p-sortIcon",18),e.qZA(),e.TgZ(10,"th",19),e._uU(11,"Custom "),e._UZ(12,"p-sortIcon",20),e.qZA(),e.TgZ(13,"th",21),e._uU(14,"Date/Time "),e._UZ(15,"p-sortIcon",22),e.qZA(),e.qZA())}function X_(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.dataset),e.xp6(2),e.Oqu(n.usernameOfProvider),e.xp6(2),e.Oqu(n.revokedPermission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.date)}}function e1(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div"),e.TgZ(2,"input",12),e.NdJ("input",function(i){return e.CHM(n),e.oxw(),e.MAs(13).filterGlobal(i.target.value,"contains")}),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.qZA()}2&r&&(e.xp6(2),e.Q6J("placeholder",e.lcZ(3,1,"general.Search")))}function t1(r,a){1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"th",23),e._uU(2,"Dataset Name "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",24),e._uU(5,"Provider Username "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.TgZ(7,"th",25),e._uU(8,"Permission "),e._UZ(9,"p-sortIcon",18),e.qZA(),e.TgZ(10,"th",26),e._uU(11,"Custom "),e._UZ(12,"p-sortIcon",20),e.qZA(),e.TgZ(13,"th",27),e._uU(14,"Username "),e._UZ(15,"p-sortIcon",28),e.qZA(),e.TgZ(16,"th",29),e._uU(17,"Name "),e._UZ(18,"p-sortIcon",30),e.qZA(),e.TgZ(19,"th",31),e._uU(20,"Surname "),e._UZ(21,"p-sortIcon",32),e.qZA(),e.TgZ(22,"th",33),e._uU(23,"Date/Time "),e._UZ(24,"p-sortIcon",22),e.qZA(),e.qZA())}function n1(r,a){if(1&r&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.qZA()),2&r){var n=a.$implicit;e.xp6(2),e.Oqu(n.dataset),e.xp6(2),e.Oqu(n.usernameOfProvider),e.xp6(2),e.Oqu(n.revokedPermission),e.xp6(2),e.Oqu(n.customAccessRights),e.xp6(2),e.Oqu(n.username),e.xp6(2),e.Oqu(n.name),e.xp6(2),e.Oqu(n.surname),e.xp6(2),e.Oqu(n.date)}}var a1=function(){return["/dashboard/access-history-pending-access-requests"]},i1=function(){return["/dashboard/access-history-access-requests-history"]},r1=function(){return["/dashboard/access-history-revoked-access-history"]},o1=function(){return["dataset","usernameOfProvider","revokedPermission","customAccessRights","date"]},s1=function(){return["dataset","usernameOfProvider","revokedPermission","customAccessRights","username","name","surname","date"]},l1=function(){function r(a,n,t){this.dashboardService=a,this.authenticationService=n,this.router=t,this.datasource=[],this.datasource2=[]}return r.prototype.ngOnInit=function(){this.loggedinUserUsername=localStorage.getItem("username"),this.loggedinUserOrganization=localStorage.getItem("organization"),this.externalOrg=localStorage.getItem("externalOrg"),this.isExternalUser=localStorage.getItem("isExternalUser"),this.queryRevokedAccessConsumer(),this.queryRevokedAccessOrgConsumer()},r.prototype.queryRevokedAccessConsumer=function(){var a=this;this.dashboardService.queryRevokedAccessConsumer().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i],l={dataset:s.Record.dataset,usernameOfProvider:s.Record.usernameOfProvider,revokedPermission:s.Record.revokedPermission,date:a.changeDateFormat(s.Record.timestamp),dateSortable:s.Record.timestamp,customAccessRights:s.Record.customAccessRights};a.datasource.push(l)}},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryRevokedAccessConsumer")})},r.prototype.queryRevokedAccessOrgConsumer=function(){var a=this;this.dashboardService.queryRevokedAccessOrgConsumer().subscribe(function(n){console.log(n);for(var i=0,o=n.result;i<o.length;i++){var s=o[i],l={dataset:s.Record.dataset,usernameOfProvider:s.Record.usernameOfProvider,revokedPermission:s.Record.revokedPermission,username:s.Record.username,name:s.Record.name,surname:s.Record.surname,date:a.changeDateFormat(s.Record.timestamp),dateSortable:s.Record.timestamp,customAccessRights:s.Record.customAccessRights};a.datasource2.push(l)}},function(n){console.log(n.status),(401==n.status||403==n.status)&&a.refreshTokens("queryRevokedAccessOrgConsumer")})},r.prototype.changeDateFormat=function(a){var n=a.substr(0,16);return n=n.replace("T"," "),n+=" UTC",(n=new Date(n)).toString()},r.prototype.refreshTokens=function(a){var n=this;this.dashboardService.refreshTokens().subscribe(function(t){console.log(t),localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),"queryRevokedAccessConsumer"==a?n.queryRevokedAccessConsumer():"queryRevokedAccessOrgConsumer"==a&&n.queryRevokedAccessOrgConsumer()},function(t){console.log(t),n.logoutUser()})},r.prototype.logoutUser=function(){this.authenticationService.logout(),this.router.navigateByUrl("/userlogin")},r.\u0275fac=function(n){return new(n||r)(e.Y36(F.s),e.Y36(z.$),e.Y36(q.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-access-history-revoked-access-history"]],decls:28,vars:24,consts:[[1,"page-container"],[1,"page-routing","d-flex"],[3,"routerLink"],["routerLinkActive","active",3,"routerLink"],[1,"card"],[3,"value","paginator","rows","resizableColumns","responsive","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"hidden"],[2,"width","300px"],["type","text","pInputText","","size","20",1,"search","vertical-sub","no-outline",3,"placeholder","input"],["id","th11","pResizableColumn","","pSortableColumn","dataset"],["field","dataset"],["id","th12","pResizableColumn","","pSortableColumn","usernameOfProvider"],["field","usernameOfProvider"],["id","th13","pResizableColumn","","pSortableColumn","revokedPermission"],["field","revokedPermission"],["id","th14","pResizableColumn","","pSortableColumn","customAccessRights"],["field","customAccessRights"],["id","th15","pResizableColumn","","pSortableColumn","dateSortable"],["field","dateSortable"],["id","th21","pResizableColumn","","pSortableColumn","dataset"],["id","th22","pResizableColumn","","pSortableColumn","usernameOfProvider"],["id","th23","pResizableColumn","","pSortableColumn","revokedPermission"],["id","th24","pResizableColumn","","pSortableColumn","customAccessRights"],["id","th25","pResizableColumn","","pSortableColumn","username"],["field","username"],["id","th26","pResizableColumn","","pSortableColumn","name"],["field","name"],["id","th27","pResizableColumn","","pSortableColumn","surname"],["field","surname"],["id","th28","pResizableColumn","","pSortableColumn","dateSortable"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"a",2),e._uU(3),e.qZA(),e.TgZ(4,"a",2),e._uU(5),e.qZA(),e.TgZ(6,"a",3),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"h5"),e._uU(9,"Personal"),e.qZA(),e.TgZ(10,"div"),e.TgZ(11,"div",4),e.TgZ(12,"p-table",5,6),e.YNc(14,W_,4,3,"ng-template",7),e.YNc(15,j_,16,0,"ng-template",8),e.YNc(16,X_,11,5,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",10),e._UZ(18,"br"),e.TgZ(19,"h5"),e._uU(20,"Organizational"),e.qZA(),e.TgZ(21,"div"),e.TgZ(22,"div",4),e.TgZ(23,"p-table",5,6),e.YNc(25,e1,4,3,"ng-template",7),e.YNc(26,t1,25,0,"ng-template",8),e.YNc(27,n1,17,8,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(19,a1)),e.xp6(1),e.hij(" ","Pending Access Requests",""),e.xp6(1),e.Q6J("routerLink",e.DdM(20,i1)),e.xp6(1),e.hij(" ","Access Requests History",""),e.xp6(1),e.Q6J("routerLink",e.DdM(21,r1)),e.xp6(1),e.hij(" ","Revoked Access History",""),e.xp6(5),e.Q6J("value",t.datasource)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(22,o1)),e.xp6(5),e.Q6J("hidden",t.externalOrg&&"true"==t.isExternalUser),e.xp6(6),e.Q6J("value",t.datasource2)("paginator",!0)("rows",10)("resizableColumns",!0)("responsive",!0)("globalFilterFields",e.DdM(23,s1)))},directives:[q.yS,q.Od,N,D.jx,j,re,ae,ie],pipes:[ee.X$],styles:[".page-routing[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf}.page-routing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none!important;outline:none!important;border-bottom:3px solid transparent;padding:5px 15px;display:inline-block}.page-routing[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:3px solid #58bb9e}.page-container[_ngcontent-%COMP%]{padding:15px}.page-container[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding:15px}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#58bb9e;cursor:pointer}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1e1d33!important;color:#fff!important}.dropdownLabel[_ngcontent-%COMP%]{color:#005980}button[_ngcontent-%COMP%]{width:220px;height:35px;font-size:16px;background-color:#1e1d33!important;color:#fff!important;border-color:#1e1d33!important}"]}),r}();function po(r,a){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,t)}return n}function sa(r){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?po(Object(n),!0).forEach(function(t){(0,Ze.Z)(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var la=X(714),qe=X(4251),De=X(5217),ge=X(5477),he=X(4670),u1=X(2350),go="undefined"==typeof window?function(r){return r()}:window.requestAnimationFrame;function ho(r,a,n){var t=n||function(s){return Array.prototype.slice.call(s)},i=!1,o=[];return function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];o=t(l),i||(i=!0,go.call(window,function(){i=!1,r.apply(a,o)}))}}var vi=function(a){return"start"===a?"left":"end"===a?"right":"center"},Te=function(a,n,t){return"start"===a?n:"end"===a?t:(n+t)/2};function et(){}var r,p1=(r=0,function(){return r++});function G(r){return null==r}function ce(r){if(Array.isArray&&Array.isArray(r))return!0;var a=Object.prototype.toString.call(r);return"[object"===a.substr(0,7)&&"Array]"===a.substr(-6)}function te(r){return null!==r&&"[object Object]"===Object.prototype.toString.call(r)}var me=function(a){return("number"==typeof a||a instanceof Number)&&isFinite(+a)};function Me(r,a){return me(r)?r:a}function Y(r,a){return void 0===r?a:r}var bi=function(a,n){return"string"==typeof a&&a.endsWith("%")?parseFloat(a)/100*n:+a};function de(r,a,n){if(r&&"function"==typeof r.call)return r.apply(n,a)}function oe(r,a,n,t){var i,o,s;if(ce(r))if(o=r.length,t)for(i=o-1;i>=0;i--)a.call(n,r[i],i);else for(i=0;i<o;i++)a.call(n,r[i],i);else if(te(r))for(o=(s=Object.keys(r)).length,i=0;i<o;i++)a.call(n,r[s[i]],s[i])}function ua(r,a){var n,t,i,o;if(!r||!a||r.length!==a.length)return!1;for(n=0,t=r.length;n<t;++n)if((i=r[n]).datasetIndex!==(o=a[n]).datasetIndex||i.index!==o.index)return!1;return!0}function ca(r){if(ce(r))return r.map(ca);if(te(r)){for(var a=Object.create(null),n=Object.keys(r),t=n.length,i=0;i<t;++i)a[n[i]]=ca(r[n[i]]);return a}return r}function fo(r){return-1===["__proto__","prototype","constructor"].indexOf(r)}function h1(r,a,n,t){if(fo(r)){var i=a[r],o=n[r];te(i)&&te(o)?vn(i,o,t):a[r]=ca(o)}}function vn(r,a,n){var t=ce(a)?a:[a],i=t.length;if(!te(r))return r;for(var o=(n=n||{}).merger||h1,s=0;s<i;++s)if(te(a=t[s]))for(var l=Object.keys(a),u=0,c=l.length;u<c;++u)o(l[u],r,a,n);return r}function bn(r,a){return vn(r,a,{merger:f1})}function f1(r,a,n){if(fo(r)){var t=a[r],i=n[r];te(t)&&te(i)?bn(t,i):Object.prototype.hasOwnProperty.call(a,r)||(a[r]=ca(i))}}function mo(r,a){var n=r.indexOf(".",a);return-1===n?r.length:n}function ot(r,a){if(""===a)return r;for(var n=0,t=mo(a,n);r&&t>n;)r=r[a.substr(n,t-n)],t=mo(a,n=t+1);return r}function yi(r){return r.charAt(0).toUpperCase()+r.slice(1)}var Le=function(a){return void 0!==a},Gt=function(a){return"function"==typeof a},fe=Math.PI,le=2*fe,y1=le+fe,da=Number.POSITIVE_INFINITY,_1=fe/180,ve=fe/2,yn=fe/4,vo=2*fe/3,Re=Math.log10,st=Math.sign;function bo(r){var a=Math.pow(10,Math.floor(Re(r))),n=r/a;return(n<=1?1:n<=2?2:n<=5?5:10)*a}function Wt(r){return!isNaN(parseFloat(r))&&isFinite(r)}function pa(r,a,n){return Math.abs(r-a)<n}function yo(r,a,n){var t,i,o;for(t=0,i=r.length;t<i;t++)o=r[t][n],isNaN(o)||(a.min=Math.min(a.min,o),a.max=Math.max(a.max,o))}function Fe(r){return r*(fe/180)}function _i(r){return r*(180/fe)}function _o(r){if(me(r)){for(var a=1,n=0;Math.round(r*a)/a!==r;)a*=10,n++;return n}}function Ti(r,a){return Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2))}function k1(r,a){return(r-a+y1)%le-fe}function ze(r){return(r%le+le)%le}function ga(r,a,n,t){var i=ze(r),o=ze(a),s=ze(n),l=ze(o-i),u=ze(s-i),c=ze(i-o),d=ze(i-s);return i===o||i===s||t&&o===s||l>u&&c<d}function we(r,a,n){return Math.max(a,Math.min(n,r))}var ha=function(a){return 0===a||1===a},To=function(a,n,t){return-Math.pow(2,10*(a-=1))*Math.sin((a-n)*le/t)},Co=function(a,n,t){return Math.pow(2,-10*a)*Math.sin((a-n)*le/t)+1},_n={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return(a-=1)*a*a+1},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-((a-=1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return(a-=1)*a*a*a*a+1},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return 1-Math.cos(a*ve)},easeOutSine:function(a){return Math.sin(a*ve)},easeInOutSine:function(a){return-.5*(Math.cos(fe*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:1-Math.pow(2,-10*a)},easeInOutExpo:function(a){return ha(a)?a:a<.5?.5*Math.pow(2,10*(2*a-1)):.5*(2-Math.pow(2,-10*(2*a-1)))},easeInCirc:function(a){return a>=1?a:-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-(a-=1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){return ha(a)?a:To(a,.075,.3)},easeOutElastic:function(a){return ha(a)?a:Co(a,.075,.3)},easeInOutElastic:function(a){var n=.1125;return ha(a)?a:a<.5?.5*To(2*a,n,.45):.5+.5*Co(2*a-1,n,.45)},easeInBack:function(a){var n=1.70158;return a*a*((n+1)*a-n)},easeOutBack:function(a){var n=1.70158;return(a-=1)*a*((n+1)*a+n)+1},easeInOutBack:function(a){var n=1.70158;return(a/=.5)<1?a*a*((1+(n*=1.525))*a-n)*.5:.5*((a-=2)*a*((1+(n*=1.525))*a+n)+2)},easeInBounce:function(a){return 1-_n.easeOutBounce(1-a)},easeOutBounce:function(a){var n=7.5625,t=2.75;return a<1/t?n*a*a:a<2/t?n*(a-=1.5/t)*a+.75:a<2.5/t?n*(a-=2.25/t)*a+.9375:n*(a-=2.625/t)*a+.984375},easeInOutBounce:function(a){return a<.5?.5*_n.easeInBounce(2*a):.5*_n.easeOutBounce(2*a-1)+.5}},Ie={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ci="0123456789ABCDEF",A1=function(a){return Ci[15&a]},w1=function(a){return Ci[(240&a)>>4]+Ci[15&a]},fa=function(a){return(240&a)>>4==(15&a)};function Tn(r){return r+.5|0}var ma=function(a,n,t){return Math.max(Math.min(a,t),n)};function Cn(r){return ma(Tn(2.55*r),0,255)}function Zn(r){return ma(Tn(255*r),0,255)}function Zi(r){return ma(Tn(r/2.55)/100,0,1)}function Zo(r){return ma(Tn(100*r),0,100)}var D1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,I1=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ko(r,a,n){var t=a*Math.min(n,1-n),i=function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(s+r/30)%12;return n-t*Math.max(Math.min(l-3,9-l,1),-1)};return[i(0),i(8),i(4)]}function U1(r,a,n){var t=function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(o+r/60)%6;return n-n*a*Math.max(Math.min(s,4-s,1),0)};return[t(5),t(3),t(1)]}function P1(r,a,n){var i,t=ko(r,1,.5);for(a+n>1&&(a*=i=1/(a+n),n*=i),i=0;i<3;i++)t[i]*=1-a-n,t[i]+=a;return t}function ki(r){var u,c,d,n=r.r/255,t=r.g/255,i=r.b/255,o=Math.max(n,t,i),s=Math.min(n,t,i),l=(o+s)/2;return o!==s&&(d=o-s,c=l>.5?d/(2-o-s):d/(o+s),u=60*(u=o===n?(t-i)/d+(t<i?6:0):o===t?(i-n)/d+2:(n-t)/d+4)+.5),[0|u,c||0,l]}function Si(r,a,n,t){return(Array.isArray(a)?r(a[0],a[1],a[2]):r(a,n,t)).map(Zn)}function Ai(r,a,n){return Si(ko,r,a,n)}function So(r){return(r%360+360)%360}var va,Ao={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wo={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ba(r,a,n){if(r){var t=ki(r);t[a]=Math.max(0,Math.min(t[a]+t[a]*n,0===a?360:1)),t=Ai(t),r.r=t[0],r.g=t[1],r.b=t[2]}}function xo(r,a){return r&&Object.assign(a||{},r)}function Oo(r){var a={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(a={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(a.a=Zn(r[3]))):(a=xo(r,{r:0,g:0,b:0,a:1})).a=Zn(a.a),a}function V1(r){return"r"===r.charAt(0)?function(r){var t,i,o,a=D1.exec(r),n=255;if(a){if(a[7]!==t){var s=+a[7];n=255&(a[8]?Cn(s):255*s)}return t=+a[1],i=+a[3],o=+a[5],{r:t=255&(a[2]?Cn(t):t),g:i=255&(a[4]?Cn(i):i),b:o=255&(a[6]?Cn(o):o),a:n}}}(r):function(r){var t,a=I1.exec(r),n=255;if(a){a[5]!==t&&(n=a[6]?Cn(+a[5]):Zn(+a[5]));var i=So(+a[2]),o=+a[3]/100,s=+a[4]/100;return t="hwb"===a[1]?function(r,a,n){return Si(P1,r,a,n)}(i,o,s):"hsv"===a[1]?function(r,a,n){return Si(U1,r,a,n)}(i,o,s):Ai(i,o,s),{r:t[0],g:t[1],b:t[2],a:n}}}(r)}var J1=function(){function r(a){if((0,M.Z)(this,r),a instanceof r)return a;var t,n=typeof a;"object"===n?t=Oo(a):"string"===n&&(t=function(r){var n,a=r.length;return"#"===r[0]&&(4===a||5===a?n={r:255&17*Ie[r[1]],g:255&17*Ie[r[2]],b:255&17*Ie[r[3]],a:5===a?17*Ie[r[4]]:255}:(7===a||9===a)&&(n={r:Ie[r[1]]<<4|Ie[r[2]],g:Ie[r[3]]<<4|Ie[r[4]],b:Ie[r[5]]<<4|Ie[r[6]],a:9===a?Ie[r[7]]<<4|Ie[r[8]]:255})),n}(a)||function(r){va||(va=function(){var t,i,o,s,l,r={},a=Object.keys(wo),n=Object.keys(Ao);for(t=0;t<a.length;t++){for(s=l=a[t],i=0;i<n.length;i++)l=l.replace(o=n[i],Ao[o]);o=parseInt(wo[s],16),r[l]=[o>>16&255,o>>8&255,255&o]}return r}(),va.transparent=[0,0,0,0]);var a=va[r.toLowerCase()];return a&&{r:a[0],g:a[1],b:a[2],a:4===a.length?a[3]:255}}(a)||V1(a)),this._rgb=t,this._valid=!!t}return(0,R.Z)(r,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var n=xo(this._rgb);return n&&(n.a=Zi(n.a)),n},set:function(n){this._rgb=Oo(n)}},{key:"rgbString",value:function(){return this._valid?function(r){return r&&(r.a<255?"rgba(".concat(r.r,", ").concat(r.g,", ").concat(r.b,", ").concat(Zi(r.a),")"):"rgb(".concat(r.r,", ").concat(r.g,", ").concat(r.b,")"))}(this._rgb):this._rgb}},{key:"hexString",value:function(){return this._valid?function(r){var a=function(r){return fa(r.r)&&fa(r.g)&&fa(r.b)&&fa(r.a)}(r)?A1:w1;return r&&"#"+a(r.r)+a(r.g)+a(r.b)+(r.a<255?a(r.a):"")}(this._rgb):this._rgb}},{key:"hslString",value:function(){return this._valid?function(r){if(r){var a=ki(r),n=a[0],t=Zo(a[1]),i=Zo(a[2]);return r.a<255?"hsla(".concat(n,", ").concat(t,"%, ").concat(i,"%, ").concat(Zi(r.a),")"):"hsl(".concat(n,", ").concat(t,"%, ").concat(i,"%)")}}(this._rgb):this._rgb}},{key:"mix",value:function(n,t){var i=this;if(n){var l,o=i.rgb,s=n.rgb,u=t===l?.5:t,c=2*u-1,d=o.a-s.a,p=((c*d==-1?c:(c+d)/(1+c*d))+1)/2;o.r=255&p*o.r+(l=1-p)*s.r+.5,o.g=255&p*o.g+l*s.g+.5,o.b=255&p*o.b+l*s.b+.5,o.a=u*o.a+(1-u)*s.a,i.rgb=o}return i}},{key:"clone",value:function(){return new r(this.rgb)}},{key:"alpha",value:function(n){return this._rgb.a=Zn(n),this}},{key:"clearer",value:function(n){return this._rgb.a*=1-n,this}},{key:"greyscale",value:function(){var n=this._rgb,t=Tn(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=t,this}},{key:"opaquer",value:function(n){return this._rgb.a*=1+n,this}},{key:"negate",value:function(){var n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}},{key:"lighten",value:function(n){return ba(this._rgb,2,n),this}},{key:"darken",value:function(n){return ba(this._rgb,2,-n),this}},{key:"saturate",value:function(n){return ba(this._rgb,1,n),this}},{key:"desaturate",value:function(n){return ba(this._rgb,1,-n),this}},{key:"rotate",value:function(n){return function(r,a){var n=ki(r);n[0]=So(n[0]+a),n=Ai(n),r.r=n[0],r.g=n[1],r.b=n[2]}(this._rgb,n),this}}]),r}();function qo(r){return new J1(r)}var Do=function(a){return a instanceof CanvasGradient||a instanceof CanvasPattern};function Mo(r){return Do(r)?r:qo(r)}function wi(r){return Do(r)?r:qo(r).saturate(.5).darken(.1).hexString()}var At=Object.create(null),xi=Object.create(null);function kn(r,a){if(!a)return r;for(var n=a.split("."),t=0,i=n.length;t<i;++t){var o=n[t];r=r[o]||(r[o]=Object.create(null))}return r}function Oi(r,a,n){return"string"==typeof a?vn(kn(r,a),n):vn(kn(r,""),a)}var Y1=function(){function r(a){(0,M.Z)(this,r),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(n){return n.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(n,t){return wi(t.backgroundColor)},this.hoverBorderColor=function(n,t){return wi(t.borderColor)},this.hoverColor=function(n,t){return wi(t.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(a)}return(0,R.Z)(r,[{key:"set",value:function(n,t){return Oi(this,n,t)}},{key:"get",value:function(n){return kn(this,n)}},{key:"describe",value:function(n,t){return Oi(xi,n,t)}},{key:"override",value:function(n,t){return Oi(At,n,t)}},{key:"route",value:function(n,t,i,o){var s,l=kn(this,n),u=kn(this,i),c="_"+t;Object.defineProperties(l,((0,Ze.Z)(s={},c,{value:l[t],writable:!0}),(0,Ze.Z)(s,t,{enumerable:!0,get:function(){var p=this[c],g=u[o];return te(p)?Object.assign({},g,p):Y(p,g)},set:function(p){this[c]=p}}),s))}}]),r}(),K=new Y1({_scriptable:function(a){return!a.startsWith("on")},_indexable:function(a){return"events"!==a},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function ya(r,a,n,t,i){var o=a[i];return o||(o=a[i]=r.measureText(i).width,n.push(i)),o>t&&(t=o),t}function K1(r,a,n,t){var i=(t=t||{}).data=t.data||{},o=t.garbageCollect=t.garbageCollect||[];t.font!==a&&(i=t.data={},o=t.garbageCollect=[],t.font=a),r.save(),r.font=a;var u,c,d,p,g,s=0,l=n.length;for(u=0;u<l;u++)if(null!=(p=n[u])&&!0!==ce(p))s=ya(r,i,o,s,p);else if(ce(p))for(c=0,d=p.length;c<d;c++)null!=(g=p[c])&&!ce(g)&&(s=ya(r,i,o,s,g));r.restore();var h=o.length/2;if(h>n.length){for(u=0;u<h;u++)delete i[o[u]];o.splice(0,h)}return s}function wt(r,a,n){var t=r.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((a-i)*t)/t+i}function Ro(r,a){(a=a||r.getContext("2d")).save(),a.resetTransform(),a.clearRect(0,0,r.width,r.height),a.restore()}function _a(r,a,n,t){var i,o,s,l,u,c=a.pointStyle,d=a.rotation,p=a.radius,g=(d||0)*_1;if(c&&"object"==typeof c&&("[object HTMLImageElement]"===(i=c.toString())||"[object HTMLCanvasElement]"===i))return r.save(),r.translate(n,t),r.rotate(g),r.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void r.restore();if(!(isNaN(p)||p<=0)){switch(r.beginPath(),c){default:r.arc(n,t,p,0,le),r.closePath();break;case"triangle":r.moveTo(n+Math.sin(g)*p,t-Math.cos(g)*p),g+=vo,r.lineTo(n+Math.sin(g)*p,t-Math.cos(g)*p),g+=vo,r.lineTo(n+Math.sin(g)*p,t-Math.cos(g)*p),r.closePath();break;case"rectRounded":l=p-(u=.516*p),o=Math.cos(g+yn)*l,s=Math.sin(g+yn)*l,r.arc(n-o,t-s,u,g-fe,g-ve),r.arc(n+s,t-o,u,g-ve,g),r.arc(n+o,t+s,u,g,g+ve),r.arc(n-s,t+o,u,g+ve,g+fe),r.closePath();break;case"rect":if(!d){l=Math.SQRT1_2*p,r.rect(n-l,t-l,2*l,2*l);break}g+=yn;case"rectRot":o=Math.cos(g)*p,s=Math.sin(g)*p,r.moveTo(n-o,t-s),r.lineTo(n+s,t-o),r.lineTo(n+o,t+s),r.lineTo(n-s,t+o),r.closePath();break;case"crossRot":g+=yn;case"cross":o=Math.cos(g)*p,s=Math.sin(g)*p,r.moveTo(n-o,t-s),r.lineTo(n+o,t+s),r.moveTo(n+s,t-o),r.lineTo(n-s,t+o);break;case"star":o=Math.cos(g)*p,s=Math.sin(g)*p,r.moveTo(n-o,t-s),r.lineTo(n+o,t+s),r.moveTo(n+s,t-o),r.lineTo(n-s,t+o),g+=yn,o=Math.cos(g)*p,s=Math.sin(g)*p,r.moveTo(n-o,t-s),r.lineTo(n+o,t+s),r.moveTo(n+s,t-o),r.lineTo(n-s,t+o);break;case"line":o=Math.cos(g)*p,s=Math.sin(g)*p,r.moveTo(n-o,t-s),r.lineTo(n+o,t+s);break;case"dash":r.moveTo(n,t),r.lineTo(n+Math.cos(g)*p,t+Math.sin(g)*p)}r.fill(),a.borderWidth>0&&r.stroke()}}function jt(r,a,n){return n=n||.5,r&&r.x>a.left-n&&r.x<a.right+n&&r.y>a.top-n&&r.y<a.bottom+n}function Sn(r,a){r.save(),r.beginPath(),r.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),r.clip()}function An(r){r.restore()}function $1(r,a,n,t,i){if(!a)return r.lineTo(n.x,n.y);if("middle"===i){var o=(a.x+n.x)/2;r.lineTo(o,a.y),r.lineTo(o,n.y)}else"after"===i!=!!t?r.lineTo(a.x,n.y):r.lineTo(n.x,a.y);r.lineTo(n.x,n.y)}function G1(r,a,n,t){if(!a)return r.lineTo(n.x,n.y);r.bezierCurveTo(t?a.cp1x:a.cp2x,t?a.cp1y:a.cp2y,t?n.cp2x:n.cp1x,t?n.cp2y:n.cp1y,n.x,n.y)}function xt(r,a,n,t,i){var u,c,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=ce(a)?a:[a],l=o.strokeWidth>0&&""!==o.strokeColor;for(r.save(),o.translation&&r.translate(o.translation[0],o.translation[1]),G(o.rotation)||r.rotate(o.rotation),r.font=i.string,o.color&&(r.fillStyle=o.color),o.textAlign&&(r.textAlign=o.textAlign),o.textBaseline&&(r.textBaseline=o.textBaseline),u=0;u<s.length;++u){if(c=s[u],l&&(o.strokeColor&&(r.strokeStyle=o.strokeColor),G(o.strokeWidth)||(r.lineWidth=o.strokeWidth),r.strokeText(c,n,t,o.maxWidth)),r.fillText(c,n,t,o.maxWidth),o.strikethrough||o.underline){var d=r.measureText(c),p=n-d.actualBoundingBoxLeft,g=n+d.actualBoundingBoxRight,h=t-d.actualBoundingBoxAscent,f=t+d.actualBoundingBoxDescent,m=o.strikethrough?(h+f)/2:f;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=o.decorationWidth||2,r.moveTo(p,m),r.lineTo(g,m),r.stroke()}t+=i.lineHeight}r.restore()}function Ta(r,a){var n=a.x,t=a.y,i=a.w,o=a.h,s=a.radius;r.arc(n+s.topLeft,t+s.topLeft,s.topLeft,-ve,fe,!0),r.lineTo(n,t+o-s.bottomLeft),r.arc(n+s.bottomLeft,t+o-s.bottomLeft,s.bottomLeft,fe,ve,!0),r.lineTo(n+i-s.bottomRight,t+o),r.arc(n+i-s.bottomRight,t+o-s.bottomRight,s.bottomRight,ve,0,!0),r.lineTo(n+i,t+s.topRight),r.arc(n+i-s.topRight,t+s.topRight,s.topRight,0,-ve,!0),r.lineTo(n+s.topLeft,t)}var W1=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),j1=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function X1(r,a){var n=(""+r).match(W1);if(!n||"normal"===n[1])return 1.2*a;switch(r=+n[2],n[3]){case"px":return r;case"%":r/=100}return a*r}var eT=function(a){return+a||0};function qi(r,a){var l,n={},t=te(a),i=t?Object.keys(a):a,o=te(r)?t?function(c){return Y(r[c],r[a[c]])}:function(c){return r[c]}:function(){return r},s=(0,V.Z)(i);try{for(s.s();!(l=s.n()).done;){var u=l.value;n[u]=eT(o(u))}}catch(c){s.e(c)}finally{s.f()}return n}function Io(r){return qi(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Di(r){return qi(r,["topLeft","topRight","bottomLeft","bottomRight"])}function ke(r){var a=Io(r);return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function ye(r,a){var n=Y((r=r||{}).size,(a=a||K.font).size);"string"==typeof n&&(n=parseInt(n,10));var t=Y(r.style,a.style);t&&!(""+t).match(j1)&&(console.warn('Invalid font style specified: "'+t+'"'),t="");var i={family:Y(r.family,a.family),lineHeight:X1(Y(r.lineHeight,a.lineHeight),n),size:n,style:t,weight:Y(r.weight,a.weight),string:""};return i.string=function(r){return!r||G(r.size)||G(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}(i),i}function wn(r,a,n,t){var o,s,l,i=!0;for(o=0,s=r.length;o<s;++o)if(void 0!==(l=r[o])&&(void 0!==a&&"function"==typeof l&&(l=l(a),i=!1),void 0!==n&&ce(l)&&(l=l[n%l.length],i=!1),void 0!==l))return t&&!i&&(t.cacheable=!1),l}function Ca(r,a,n){n=n||function(s){return r[s]<a};for(var o,t=r.length-1,i=0;t-i>1;)n(o=i+t>>1)?i=o:t=o;return{lo:i,hi:t}}var Ot=function(a,n,t){return Ca(a,t,function(i){return a[i][n]<t})},nT=function(a,n,t){return Ca(a,t,function(i){return a[i][n]>=t})},Uo=["push","pop","shift","splice","unshift"];function Po(r,a){var n=r._chartjs;if(n){var t=n.listeners,i=t.indexOf(a);-1!==i&&t.splice(i,1),!(t.length>0)&&(Uo.forEach(function(o){delete r[o]}),delete r._chartjs)}}function Eo(r){var n,t,a=new Set;for(n=0,t=r.length;n<t;++n)a.add(r[n]);if(a.size===t)return r;var i=[];return a.forEach(function(o){i.push(o)}),i}function Mi(r){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return r[0]};Le(i)||(i=Ho("_fallback",r));var s=((0,Ze.Z)(a={},Symbol.toStringTag,"Object"),(0,Ze.Z)(a,"_cacheable",!0),(0,Ze.Z)(a,"_scopes",r),(0,Ze.Z)(a,"_rootScopes",t),(0,Ze.Z)(a,"_fallback",i),(0,Ze.Z)(a,"_getTarget",o),(0,Ze.Z)(a,"override",function(u){return Mi([u].concat((0,W.Z)(r)),n,t,i)}),a);return new Proxy(s,{deleteProperty:function(u,c){return delete u[c],delete u._keys,delete r[0][c],!0},get:function(u,c){return Lo(u,c,function(){return pT(c,n,r,u)})},getOwnPropertyDescriptor:function(u,c){return Reflect.getOwnPropertyDescriptor(u._scopes[0],c)},getPrototypeOf:function(){return Reflect.getPrototypeOf(r[0])},has:function(u,c){return Vo(u).includes(c)},ownKeys:function(u){return Vo(u)},set:function(u,c,d){return(u._storage||(u._storage=o()))[c]=d,delete u[c],delete u._keys,!0}})}function Xt(r,a,n,t){var i={_cacheable:!1,_proxy:r,_context:a,_subProxy:n,_stack:new Set,_descriptors:Bo(r,t),setContext:function(s){return Xt(r,s,n,t)},override:function(s){return Xt(r.override(s),a,n,t)}};return new Proxy(i,{deleteProperty:function(s,l){return delete s[l],delete r[l],!0},get:function(s,l,u){return Lo(s,l,function(){return function(r,a,n){var i=r._context,o=r._subProxy,s=r._descriptors,l=r._proxy[a];return Gt(l)&&s.isScriptable(a)&&(l=function(r,a,n,t){var i=n._proxy,o=n._context,s=n._subProxy,l=n._stack;if(l.has(r))throw new Error("Recursion detected: "+(0,W.Z)(l).join("->")+"->"+r);return l.add(r),a=a(o,s||t),l.delete(r),te(a)&&(a=Ri(i._scopes,i,r,a)),a}(a,l,r,n)),ce(l)&&l.length&&(l=function(r,a,n,t){var i=n._proxy,o=n._context,s=n._subProxy,l=n._descriptors;if(Le(o.index)&&t(r))a=a[o.index%a.length];else if(te(a[0])){var u=a,c=i._scopes.filter(function(f){return f!==u});a=[];var p,d=(0,V.Z)(u);try{for(d.s();!(p=d.n()).done;){var h=Ri(c,i,r,p.value);a.push(Xt(h,o,s&&s[r],l))}}catch(f){d.e(f)}finally{d.f()}}return a}(a,l,r,s.isIndexable)),No(a,l)&&(l=Xt(l,i,o&&o[a],s)),l}(s,l,u)})},getOwnPropertyDescriptor:function(s,l){return s._descriptors.allKeys?Reflect.has(r,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,l)},getPrototypeOf:function(){return Reflect.getPrototypeOf(r)},has:function(s,l){return Reflect.has(r,l)},ownKeys:function(){return Reflect.ownKeys(r)},set:function(s,l,u){return r[l]=u,delete s[l],!0}})}function Bo(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=r._scriptable,t=void 0===n?a.scriptable:n,i=r._indexable,o=void 0===i?a.indexable:i,s=r._allKeys,l=void 0===s?a.allKeys:s;return{allKeys:l,scriptable:t,indexable:o,isScriptable:Gt(t)?t:function(){return t},isIndexable:Gt(o)?o:function(){return o}}}var rT=function(a,n){return a?a+yi(n):n},No=function(a,n){return te(n)&&"adapters"!==a};function Lo(r,a,n){var t=r[a];return Le(t)||(t=n(),Le(t)&&(r[a]=t)),t}function Fo(r,a,n){return Gt(r)?r(a,n):r}var uT=function(a,n){return!0===a?n:"string"==typeof a?ot(n,a):void 0};function cT(r,a,n,t){var o,i=(0,V.Z)(a);try{for(i.s();!(o=i.n()).done;){var l=uT(n,o.value);if(l){r.add(l);var u=Fo(l._fallback,n,l);if(Le(u)&&u!==n&&u!==t)return u}else if(!1===l&&Le(t)&&n!==t)return null}}catch(c){i.e(c)}finally{i.f()}return!1}function Ri(r,a,n,t){var i=a._rootScopes,o=Fo(a._fallback,n,t),s=[].concat((0,W.Z)(r),(0,W.Z)(i)),l=new Set;l.add(t);var u=zo(l,s,n,o||n);return!(null===u||Le(o)&&o!==n&&(u=zo(l,s,o,u),null===u))&&Mi((0,W.Z)(l),[""],i,o,function(){return function(r,a,n){var t=r._getTarget();a in t||(t[a]={});var i=t[a];return ce(i)&&te(n)?n:i}(a,n,t)})}function zo(r,a,n,t){for(;n;)n=cT(r,a,n,t);return n}function pT(r,a,n,t){var i,s,o=(0,V.Z)(a);try{for(o.s();!(s=o.n()).done;)if(i=Ho(rT(s.value,r),n),Le(i))return No(r,i)?Ri(n,t,r,i):i}catch(u){o.e(u)}finally{o.f()}}function Ho(r,a){var t,n=(0,V.Z)(a);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i){var o=i[r];if(Le(o))return o}}}catch(s){n.e(s)}finally{n.f()}}function Vo(r){var a=r._keys;return a||(a=r._keys=function(r){var t,a=new Set,n=(0,V.Z)(r);try{for(n.s();!(t=n.n()).done;){var s,o=(0,V.Z)(Object.keys(t.value).filter(function(u){return!u.startsWith("_")}));try{for(o.s();!(s=o.n()).done;)a.add(s.value)}catch(u){o.e(u)}finally{o.f()}}}catch(u){n.e(u)}finally{n.f()}return(0,W.Z)(a)}(r._scopes)),a}var hT=Number.EPSILON||1e-14,en=function(a,n){return n<a.length&&!a[n].skip&&a[n]},Jo=function(a){return"x"===a?"y":"x"};function fT(r,a,n,t){var i=r.skip?a:r,o=a,s=n.skip?a:n,l=Ti(o,i),u=Ti(s,o),c=l/(l+u),d=u/(l+u),p=t*(c=isNaN(c)?0:c),g=t*(d=isNaN(d)?0:d);return{previous:{x:o.x-p*(s.x-i.x),y:o.y-p*(s.y-i.y)},next:{x:o.x+g*(s.x-i.x),y:o.y+g*(s.y-i.y)}}}function mT(r,a,n){for(var i,o,s,l,u,t=r.length,c=en(r,0),d=0;d<t-1;++d)if(u=c,c=en(r,d+1),u&&c){if(pa(a[d],0,hT)){n[d]=n[d+1]=0;continue}i=n[d]/a[d],o=n[d+1]/a[d],!((l=Math.pow(i,2)+Math.pow(o,2))<=9)&&(s=3/Math.sqrt(l),n[d]=i*s*a[d],n[d+1]=o*s*a[d])}}function vT(r,a){for(var o,s,l,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",t=Jo(n),i=r.length,u=en(r,0),c=0;c<i;++c)if(s=l,l=u,u=en(r,c+1),l){var d=l[n],p=l[t];s&&(o=(d-s[n])/3,l["cp1".concat(n)]=d-o,l["cp1".concat(t)]=p-o*a[c]),u&&(o=(u[n]-d)/3,l["cp2".concat(n)]=d+o,l["cp2".concat(t)]=p+o*a[c])}}function Za(r,a,n){return Math.max(Math.min(r,n),a)}function qt(r){var a=r.parentNode;return a&&"[object ShadowRoot]"===a.toString()&&(a=a.host),a}function ka(r,a,n){var t;return"string"==typeof r?(t=parseInt(r,10),-1!==r.indexOf("%")&&(t=t/100*a.parentNode[n])):t=r,t}var Sa=function(a){return window.getComputedStyle(a,null)},CT=["top","right","bottom","left"];function Dt(r,a,n){var t={};n=n?"-"+n:"";for(var i=0;i<4;i++){var o=CT[i];t[o]=parseFloat(r[a+"-"+o+n])||0}return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Yo(r,a){var n=a.canvas,t=a.currentDevicePixelRatio,i=Sa(n),o="border-box"===i.boxSizing,s=Dt(i,"padding"),l=Dt(i,"border","width"),u=function(r,a){var u,c,n=r.native||r,t=n.touches,i=t&&t.length?t[0]:n,o=i.offsetX,s=i.offsetY,l=!1;if(function(a,n,t){return(a>0||n>0)&&(!t||!t.shadowRoot)}(o,s,n.target))u=o,c=s;else{var d=a.getBoundingClientRect();u=i.clientX-d.left,c=i.clientY-d.top,l=!0}return{x:u,y:c,box:l}}(r,n),d=u.y,p=u.box,h=s.top+(p&&l.top),f=a.width,m=a.height;return o&&(f-=s.width+l.width,m-=s.height+l.height),{x:Math.round((u.x-(s.left+(p&&l.left)))/f*n.width/t),y:Math.round((d-h)/m*n.height/t)}}var Ii=function(a){return Math.round(10*a)/10};function Qo(r,a,n){var t=a||1,i=Math.floor(r.height*t),o=Math.floor(r.width*t);r.height=i/t,r.width=o/t;var s=r.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height="".concat(r.height,"px"),s.style.width="".concat(r.width,"px")),(r.currentDevicePixelRatio!==t||s.height!==i||s.width!==o)&&(r.currentDevicePixelRatio=t,s.height=i,s.width=o,r.ctx.setTransform(t,0,0,t,0,0),!0)}var wT=function(){var r=!1;try{var a={get passive(){return r=!0,!1}};window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch(n){}return r}();function Ko(r,a){var n=function(r,a){return Sa(r).getPropertyValue(a)}(r,a),t=n&&n.match(/^(\d+)(\.\d+)?px$/);return t?+t[1]:void 0}function Mt(r,a,n,t){return{x:r.x+n*(a.x-r.x),y:r.y+n*(a.y-r.y)}}function xT(r,a,n,t){return{x:r.x+n*(a.x-r.x),y:"middle"===t?n<.5?r.y:a.y:"after"===t?n<1?r.y:a.y:n>0?a.y:r.y}}function OT(r,a,n,t){var i={x:r.cp2x,y:r.cp2y},o={x:a.cp1x,y:a.cp1y},s=Mt(r,i,n),l=Mt(i,o,n),u=Mt(o,a,n),c=Mt(s,l,n),d=Mt(l,u,n);return Mt(c,d,n)}var $o=new Map;function xn(r,a,n){return function(r,a){a=a||{};var n=r+JSON.stringify(a),t=$o.get(n);return t||(t=new Intl.NumberFormat(r,a),$o.set(n,t)),t}(a,n).format(r)}function On(r,a,n){return r?function(a,n){return{x:function(i){return a+a+n-i},setWidth:function(i){n=i},textAlign:function(i){return"center"===i?i:"right"===i?"left":"right"},xPlus:function(i,o){return i-o},leftForLtr:function(i,o){return i-o}}}(a,n):{x:function(n){return n},setWidth:function(n){},textAlign:function(n){return n},xPlus:function(n,t){return n+t},leftForLtr:function(n,t){return n}}}function Go(r,a){var n,t;("ltr"===a||"rtl"===a)&&(t=[(n=r.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",a,"important"),r.prevTextDirection=t)}function Wo(r,a){void 0!==a&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",a[0],a[1]))}function jo(r){return"angle"===r?{between:ga,compare:k1,normalize:ze}:{between:function(n,t,i){return n>=Math.min(t,i)&&n<=Math.max(i,t)},compare:function(n,t){return n-t},normalize:function(n){return n}}}function Xo(r){var a=r.start,n=r.end,t=r.count;return{start:a%t,end:n%t,loop:r.loop&&(n-a+1)%t==0,style:r.style}}function es(r,a,n){if(!n)return[r];for(var _,C,Z,t=n.property,i=n.start,o=n.end,s=a.length,l=jo(t),u=l.compare,c=l.between,d=l.normalize,p=function(r,a,n){var h,f,t=n.property,i=n.start,o=n.end,s=jo(t),l=s.between,u=s.normalize,c=a.length,d=r.start,p=r.end,g=r.loop;if(g){for(d+=c,p+=c,h=0,f=c;h<f&&l(u(a[d%c][t]),i,o);++h)d--,p--;d%=c,p%=c}return p<d&&(p+=c),{start:d,end:p,loop:g,style:r.style}}(r,a,n),g=p.start,h=p.end,f=p.loop,m=p.style,v=[],b=!1,y=null,O=g,U=g;O<=h;++O)!(C=a[O%s]).skip&&(_=d(C[t]))!==Z&&(b=c(_,i,o),null===y&&(b||c(i,Z,_)&&0!==u(i,Z))&&(y=0===u(_,i)?O:U),null!==y&&(!b||0===u(o,_)||c(o,Z,_))&&(v.push(Xo({start:y,end:O,loop:f,count:s,style:m})),y=null),U=O,Z=_);return null!==y&&v.push(Xo({start:y,end:h,loop:f,count:s,style:m})),v}function ts(r,a){for(var n=[],t=r.segments,i=0;i<t.length;i++){var o=es(t[i],r.points,a);o.length&&n.push.apply(n,(0,W.Z)(o))}return n}function BT(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function NT(r,a){return a&&JSON.stringify(r)!==JSON.stringify(a)}var LT=function(){function r(){(0,M.Z)(this,r),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return(0,R.Z)(r,[{key:"_notify",value:function(n,t,i,o){var l=t.duration;t.listeners[o].forEach(function(u){return u({chart:n,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)})})}},{key:"_refresh",value:function(){var n=this;n._request||(n._running=!0,n._request=go.call(window,function(){n._update(),n._request=null,n._running&&n._refresh()}))}},{key:"_update",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=this,i=0;t._charts.forEach(function(o,s){if(o.running&&o.items.length){for(var d,l=o.items,u=l.length-1,c=!1;u>=0;--u)(d=l[u])._active?(d._total>o.duration&&(o.duration=d._total),d.tick(n),c=!0):(l[u]=l[l.length-1],l.pop());c&&(s.draw(),t._notify(s,o,n,"progress")),l.length||(o.running=!1,t._notify(s,o,n,"complete"),o.initial=!1),i+=l.length}}),t._lastDate=n,0===i&&(t._running=!1)}},{key:"_getAnims",value:function(n){var t=this._charts,i=t.get(n);return i||t.set(n,i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}}),i}},{key:"listen",value:function(n,t,i){this._getAnims(n).listeners[t].push(i)}},{key:"add",value:function(n,t){var i;!t||!t.length||(i=this._getAnims(n).items).push.apply(i,(0,W.Z)(t))}},{key:"has",value:function(n){return this._getAnims(n).items.length>0}},{key:"start",value:function(n){var t=this._charts.get(n);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(function(i,o){return Math.max(i,o._duration)},0),this._refresh())}},{key:"running",value:function(n){if(!this._running)return!1;var t=this._charts.get(n);return!(!t||!t.running||!t.items.length)}},{key:"stop",value:function(n){var t=this._charts.get(n);if(t&&t.items.length){for(var i=t.items,o=i.length-1;o>=0;--o)i[o].cancel();t.items=[],this._notify(n,t,Date.now(),"complete")}}},{key:"remove",value:function(n){return this._charts.delete(n)}}]),r}(),tt=new LT,as="transparent",FT={boolean:function(a,n,t){return t>.5?n:a},color:function(a,n,t){var i=Mo(a||as),o=i.valid&&Mo(n||as);return o&&o.valid?o.mix(i,t).hexString():n},number:function(a,n,t){return a+(n-a)*t}},zT=function(){function r(a,n,t,i){(0,M.Z)(this,r);var o=n[t];i=wn([a.to,i,o,a.from]);var s=wn([a.from,o,i]);this._active=!0,this._fn=a.fn||FT[a.type||typeof s],this._easing=_n[a.easing]||_n.linear,this._start=Math.floor(Date.now()+(a.delay||0)),this._duration=this._total=Math.floor(a.duration),this._loop=!!a.loop,this._target=n,this._prop=t,this._from=s,this._to=i,this._promises=void 0}return(0,R.Z)(r,[{key:"active",value:function(){return this._active}},{key:"update",value:function(n,t,i){var o=this;if(o._active){o._notify(!1);var s=o._target[o._prop],l=i-o._start,u=o._duration-l;o._start=i,o._duration=Math.floor(Math.max(u,n.duration)),o._total+=l,o._loop=!!n.loop,o._to=wn([n.to,t,s,n.from]),o._from=wn([n.from,s,t])}}},{key:"cancel",value:function(){var n=this;n._active&&(n.tick(Date.now()),n._active=!1,n._notify(!1))}},{key:"tick",value:function(n){var d,t=this,i=n-t._start,o=t._duration,s=t._prop,l=t._from,u=t._loop,c=t._to;if(t._active=l!==c&&(u||i<o),!t._active)return t._target[s]=c,void t._notify(!0);i<0?t._target[s]=l:(d=i/o%2,d=u&&d>1?2-d:d,d=t._easing(Math.min(1,Math.max(0,d))),t._target[s]=t._fn(l,c,d))}},{key:"wait",value:function(){var n=this._promises||(this._promises=[]);return new Promise(function(t,i){n.push({res:t,rej:i})})}},{key:"_notify",value:function(n){for(var t=n?"res":"rej",i=this._promises||[],o=0;o<i.length;o++)i[o][t]()}}]),r}();K.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var JT=Object.keys(K.animation);K.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(a){return"onProgress"!==a&&"onComplete"!==a&&"fn"!==a}}),K.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),K.describe("animations",{_fallback:"animation"}),K.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(a){return 0|a}}}}});var is=function(){function r(a,n){(0,M.Z)(this,r),this._chart=a,this._properties=new Map,this.configure(n)}return(0,R.Z)(r,[{key:"configure",value:function(n){if(te(n)){var t=this._properties;Object.getOwnPropertyNames(n).forEach(function(i){var o=n[i];if(te(o)){var u,s={},l=(0,V.Z)(JT);try{for(l.s();!(u=l.n()).done;){var c=u.value;s[c]=o[c]}}catch(d){l.e(d)}finally{l.f()}(ce(o.properties)&&o.properties||[i]).forEach(function(d){(d===i||!t.has(d))&&t.set(d,s)})}})}}},{key:"_animateOptions",value:function(n,t){var i=t.options,o=function(r,a){if(a){var n=r.options;return n?(n.$shared&&(r.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n):void(r.options=a)}}(n,i);if(!o)return[];var s=this._createAnimations(o,i);return i.$shared&&function(r,a){for(var n=[],t=Object.keys(a),i=0;i<t.length;i++){var o=r[t[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}(n.options.$animations,i).then(function(){n.options=i},function(){}),s}},{key:"_createAnimations",value:function(n,t){var c,i=this._properties,o=[],s=n.$animations||(n.$animations={}),l=Object.keys(t),u=Date.now();for(c=l.length-1;c>=0;--c){var d=l[c];if("$"!==d.charAt(0)){if("options"===d){o.push.apply(o,(0,W.Z)(this._animateOptions(n,t)));continue}var p=t[d],g=s[d],h=i.get(d);if(g){if(h&&g.active()){g.update(h,p,u);continue}g.cancel()}if(!h||!h.duration){n[d]=p;continue}s[d]=g=new zT(h,n,d,p),o.push(g)}}return o}},{key:"update",value:function(n,t){if(0!==this._properties.size){var i=this._createAnimations(n,t);return i.length?(tt.add(this._chart,i),!0):void 0}Object.assign(n,t)}}]),r}();function rs(r,a){var n=r&&r.options||{},t=n.reverse,i=void 0===n.min?a:0,o=void 0===n.max?a:0;return{start:t?o:i,end:t?i:o}}function os(r,a){var i,o,n=[],t=r._getSortedDatasetMetas(a);for(i=0,o=t.length;i<o;++i)n.push(t[i].index);return n}function ss(r,a,n,t){var s,l,u,c,i=r.keys,o="single"===t.mode;if(null!==a){for(s=0,l=i.length;s<l;++s){if((u=+i[s])===n){if(t.all)continue;break}me(c=r.values[u])&&(o||0===a||st(a)===st(c))&&(a+=c)}return a}}function ls(r,a){var n=r&&r.options.stacked;return n||void 0===n&&void 0!==a.stack}function XT(r,a,n){var t=r[a]||(r[a]={});return t[n]||(t[n]={})}function us(r,a,n){var i,t=(0,V.Z)(a.getMatchingVisibleMetas("bar").reverse());try{for(t.s();!(i=t.n()).done;){var o=i.value,s=r[o.index];if(n&&s>0||!n&&s<0)return o.index}}catch(l){t.e(l)}finally{t.f()}return null}function cs(r,a){for(var g,n=r.chart,t=r._cachedMeta,i=n._stacks||(n._stacks={}),o=t.iScale,s=t.vScale,l=t.index,u=o.axis,c=s.axis,d=function(r,a,n){return"".concat(r.id,".").concat(a.id,".").concat(n.stack||n.type)}(o,s,t),p=a.length,h=0;h<p;++h){var f=a[h],m=f[u],v=f[c];(g=(f._stacks||(f._stacks={}))[c]=XT(i,d,m))[l]=v,g._top=us(g,s,!0),g._bottom=us(g,s,!1)}}function Ui(r,a){var n=r.scales;return Object.keys(n).filter(function(t){return n[t].axis===a}).shift()}function qn(r,a){var n=r.vScale&&r.vScale.axis;if(n){var i,t=(0,V.Z)(a=a||r._parsed);try{for(t.s();!(i=t.n()).done;){var s=i.value._stacks;if(!s||void 0===s[n]||void 0===s[n][r.index])return;delete s[n][r.index]}}catch(l){t.e(l)}finally{t.f()}}}var Pi=function(a){return"reset"===a||"none"===a},ds=function(a,n){return n?a:Object.assign({},a)},Ke=function(){function r(a,n){(0,M.Z)(this,r),this.chart=a,this._ctx=a.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}return(0,R.Z)(r,[{key:"initialize",value:function(){var n=this,t=n._cachedMeta;n.configure(),n.linkScales(),t._stacked=ls(t.vScale,t),n.addElements()}},{key:"updateIndex",value:function(n){this.index!==n&&qn(this._cachedMeta),this.index=n}},{key:"linkScales",value:function(){var n=this,t=n.chart,i=n._cachedMeta,o=n.getDataset(),s=function(f,m,v,b){return"x"===f?m:"r"===f?b:v},l=i.xAxisID=Y(o.xAxisID,Ui(t,"x")),u=i.yAxisID=Y(o.yAxisID,Ui(t,"y")),c=i.rAxisID=Y(o.rAxisID,Ui(t,"r")),d=i.indexAxis,p=i.iAxisID=s(d,l,u,c),g=i.vAxisID=s(d,u,l,c);i.xScale=n.getScaleForId(l),i.yScale=n.getScaleForId(u),i.rScale=n.getScaleForId(c),i.iScale=n.getScaleForId(p),i.vScale=n.getScaleForId(g)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(n){return this.chart.scales[n]}},{key:"_getOtherScale",value:function(n){var t=this._cachedMeta;return n===t.iScale?t.vScale:t.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var n=this._cachedMeta;this._data&&Po(this._data,this),n._stacked&&qn(n)}},{key:"_dataCheck",value:function(){var n=this,t=n.getDataset(),i=t.data||(t.data=[]),o=n._data;if(te(i))n._data=function(r){var t,i,o,a=Object.keys(r),n=new Array(a.length);for(t=0,i=a.length;t<i;++t)n[t]={x:o=a[t],y:r[o]};return n}(i);else if(o!==i){if(o){Po(o,n);var s=n._cachedMeta;qn(s),s._parsed=[]}i&&Object.isExtensible(i)&&function(r,a){r._chartjs?r._chartjs.listeners.push(a):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),Uo.forEach(function(n){var t="_onData"+yi(n),i=r[n];Object.defineProperty(r,n,{configurable:!0,enumerable:!1,value:function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.apply(this,l);return r._chartjs.listeners.forEach(function(d){"function"==typeof d[t]&&d[t].apply(d,l)}),c}})}))}(i,n),n._syncList=[],n._data=i}}},{key:"addElements",value:function(){var n=this,t=n._cachedMeta;n._dataCheck(),n.datasetElementType&&(t.dataset=new n.datasetElementType)}},{key:"buildOrUpdateElements",value:function(n){var t=this,i=t._cachedMeta,o=t.getDataset(),s=!1;t._dataCheck();var l=i._stacked;i._stacked=ls(i.vScale,i),i.stack!==o.stack&&(s=!0,qn(i),i.stack=o.stack),t._resyncElements(n),(s||l!==i._stacked)&&cs(t,i._parsed)}},{key:"configure",value:function(){var n=this,t=n.chart.config,i=t.datasetScopeKeys(n._type),o=t.getOptionScopes(n.getDataset(),i,!0);n.options=t.createResolver(o,n.getContext()),n._parsing=n.options.parsing}},{key:"parse",value:function(n,t){var g,h,f,i=this,o=i._cachedMeta,s=i._data,u=o._stacked,c=o.iScale.axis,d=0===n&&t===s.length||o._sorted,p=n>0&&o._parsed[n-1];if(!1===i._parsing)o._parsed=s,o._sorted=!0,f=s;else{for(f=ce(s[n])?i.parseArrayData(o,s,n,t):te(s[n])?i.parseObjectData(o,s,n,t):i.parsePrimitiveData(o,s,n,t),g=0;g<t;++g)o._parsed[g+n]=h=f[g],d&&((null===h[c]||p&&h[c]<p[c])&&(d=!1),p=h);o._sorted=d}u&&cs(i,f)}},{key:"parsePrimitiveData",value:function(n,t,i,o){var h,f,m,s=n.iScale,l=n.vScale,u=s.axis,c=l.axis,d=s.getLabels(),p=s===l,g=new Array(o);for(h=0,f=o;h<f;++h){var v;m=h+i,g[h]=((0,Ze.Z)(v={},u,p||s.parse(d[m],m)),(0,Ze.Z)(v,c,l.parse(t[m],m)),v)}return g}},{key:"parseArrayData",value:function(n,t,i,o){var c,d,p,g,s=n.xScale,l=n.yScale,u=new Array(o);for(c=0,d=o;c<d;++c)u[c]={x:s.parse((g=t[p=c+i])[0],p),y:l.parse(g[1],p)};return u}},{key:"parseObjectData",value:function(n,t,i,o){var f,m,v,b,s=n.xScale,l=n.yScale,u=this._parsing,c=u.xAxisKey,d=void 0===c?"x":c,p=u.yAxisKey,g=void 0===p?"y":p,h=new Array(o);for(f=0,m=o;f<m;++f)h[f]={x:s.parse(ot(b=t[v=f+i],d),v),y:l.parse(ot(b,g),v)};return h}},{key:"getParsed",value:function(n){return this._cachedMeta._parsed[n]}},{key:"getDataElement",value:function(n){return this._cachedMeta.data[n]}},{key:"applyStack",value:function(n,t,i){var s=this._cachedMeta,l=t[n.axis];return ss({keys:os(this.chart,!0),values:t._stacks[n.axis]},l,s.index,{mode:i})}},{key:"updateRangeFromParsed",value:function(n,t,i,o){var s=i[t.axis],l=null===s?NaN:s,u=o&&i._stacks[t.axis];o&&u&&(o.values=u,n.min=Math.min(n.min,l),n.max=Math.max(n.max,l),l=ss(o,s,this._cachedMeta.index,{all:!0})),n.min=Math.min(n.min,l),n.max=Math.max(n.max,l)}},{key:"getMinMax",value:function(n,t){var m,b,y,i=this,o=i._cachedMeta,s=o._parsed,l=o._sorted&&n===o.iScale,u=s.length,c=i._getOtherScale(n),d=t&&o._stacked&&{keys:os(i.chart,!0),values:null},p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},g=function(r){var a=r.getUserBounds();return{min:a.minDefined?a.min:Number.NEGATIVE_INFINITY,max:a.maxDefined?a.max:Number.POSITIVE_INFINITY}}(c),h=g.min,f=g.max;function _(){return y=(b=s[m])[c.axis],!me(b[n.axis])||h>y||f<y}for(m=0;m<u&&(_()||(i.updateRangeFromParsed(p,n,b,d),!l));++m);if(l)for(m=u-1;m>=0;--m)if(!_()){i.updateRangeFromParsed(p,n,b,d);break}return p}},{key:"getAllParsedValues",value:function(n){var o,s,l,t=this._cachedMeta._parsed,i=[];for(o=0,s=t.length;o<s;++o)me(l=t[o][n.axis])&&i.push(l);return i}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(n){var i=this._cachedMeta,o=i.iScale,s=i.vScale,l=this.getParsed(n);return{label:o?""+o.getLabelForValue(l[o.axis]):"",value:s?""+s.getLabelForValue(l[s.axis]):""}}},{key:"_update",value:function(n){var t=this,i=t._cachedMeta;t.configure(),t._cachedDataOpts={},t.update(n||"default"),i._clip=function(r){var a,n,t,i;return te(r)?(a=r.top,n=r.right,t=r.bottom,i=r.left):a=n=t=i=r,{top:a,right:n,bottom:t,left:i}}(Y(t.options.clip,function(r,a,n){if(!1===n)return!1;var t=rs(r,n),i=rs(a,n);return{top:i.end,right:t.end,bottom:i.start,left:t.start}}(i.xScale,i.yScale,t.getMaxOverflow())))}},{key:"update",value:function(n){}},{key:"draw",value:function(){var p,n=this,t=n._ctx,o=n._cachedMeta,s=o.data||[],l=n.chart.chartArea,u=[],c=n._drawStart||0,d=n._drawCount||s.length-c;for(o.dataset&&o.dataset.draw(t,l,c,d),p=c;p<c+d;++p){var g=s[p];g.active?u.push(g):g.draw(t,l)}for(p=0;p<u.length;++p)u[p].draw(t,l)}},{key:"getStyle",value:function(n,t){var i=t?"active":"default";return void 0===n&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(n||0,i)}},{key:"getContext",value:function(n,t,i){var l,o=this,s=o.getDataset();if(n>=0&&n<o._cachedMeta.data.length){var u=o._cachedMeta.data[n];l=u.$context||(u.$context=function(r,a,n){return Object.assign(Object.create(r),{active:!1,dataIndex:a,parsed:void 0,raw:void 0,element:n,index:a,mode:"default",type:"data"})}(o.getContext(),n,u)),l.parsed=o.getParsed(n),l.raw=s.data[n],l.index=l.dataIndex=n}else l=o.$context||(o.$context=function(r,a){return Object.assign(Object.create(r),{active:!1,dataset:void 0,datasetIndex:a,index:a,mode:"default",type:"dataset"})}(o.chart.getContext(),o.index)),l.dataset=s,l.index=l.datasetIndex=o.index;return l.active=!!t,l.mode=i,l}},{key:"resolveDatasetElementOptions",value:function(n){return this._resolveElementOptions(this.datasetElementType.id,n)}},{key:"resolveDataElementOptions",value:function(n,t){return this._resolveElementOptions(this.dataElementType.id,t,n)}},{key:"_resolveElementOptions",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2?arguments[2]:void 0,o=this,s="active"===t,l=o._cachedDataOpts,u=n+"-"+t,c=l[u],d=o.enableOptionSharing&&Le(i);if(c)return ds(c,d);var p=o.chart.config,g=p.datasetElementScopeKeys(o._type,n),h=s?["".concat(n,"Hover"),"hover",n,""]:[n,""],f=p.getOptionScopes(o.getDataset(),g),m=Object.keys(K.elements[n]),v=function(){return o.getContext(i,s)},b=p.resolveNamedOptions(f,m,v,h);return b.$shared&&(b.$shared=d,l[u]=Object.freeze(ds(b,d))),b}},{key:"_resolveAnimations",value:function(n,t,i){var d,o=this,s=o.chart,l=o._cachedDataOpts,u="animation-".concat(t),c=l[u];if(c)return c;if(!1!==s.options.animation){var p=o.chart.config,g=p.datasetAnimationScopeKeys(o._type,t),h=p.getOptionScopes(o.getDataset(),g);d=p.createResolver(h,o.getContext(n,i,t))}var f=new is(s,d&&d.animations);return d&&d._cacheable&&(l[u]=Object.freeze(f)),f}},{key:"getSharedOptions",value:function(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}},{key:"includeOptions",value:function(n,t){return!t||Pi(n)||this.chart._animationsDisabled}},{key:"updateElement",value:function(n,t,i,o){Pi(o)?Object.assign(n,i):this._resolveAnimations(t,o).update(n,i)}},{key:"updateSharedOptions",value:function(n,t,i){n&&!Pi(t)&&this._resolveAnimations(void 0,t).update(n,i)}},{key:"_setStyle",value:function(n,t,i,o){n.active=o;var s=this.getStyle(t,o);this._resolveAnimations(t,i,o).update(n,{options:!o&&this.getSharedOptions(s)||s})}},{key:"removeHoverStyle",value:function(n,t,i){this._setStyle(n,i,"active",!1)}},{key:"setHoverStyle",value:function(n,t,i){this._setStyle(n,i,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}},{key:"_resyncElements",value:function(n){var l,t=this,i=t._data,o=t._cachedMeta.data,s=(0,V.Z)(t._syncList);try{for(s.s();!(l=s.n()).done;){var u=(0,u1.Z)(l.value,3);t[u[0]](u[1],u[2])}}catch(m){s.e(m)}finally{s.f()}t._syncList=[];var g=o.length,h=i.length,f=Math.min(h,g);f&&t.parse(0,f),h>g?t._insertElements(g,h-g,n):h<g&&t._removeElements(h,g-h)}},{key:"_insertElements",value:function(n,t){var c,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this,s=o._cachedMeta,l=s.data,u=n+t,d=function(g){for(g.length+=t,c=g.length-1;c>=u;c--)g[c]=g[c-t]};for(d(l),c=n;c<u;++c)l[c]=new o.dataElementType;o._parsing&&d(s._parsed),o.parse(n,t),i&&o.updateElements(l,n,t,"reset")}},{key:"updateElements",value:function(n,t,i,o){}},{key:"_removeElements",value:function(n,t){var o=this._cachedMeta;if(this._parsing){var s=o._parsed.splice(n,t);o._stacked&&qn(o,s)}o.data.splice(n,t)}},{key:"_onDataPush",value:function(){var n=arguments.length;this._syncList.push(["_insertElements",this.getDataset().data.length-n,n])}},{key:"_onDataPop",value:function(){this._syncList.push(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._syncList.push(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(n,t){this._syncList.push(["_removeElements",n,t]),this._syncList.push(["_insertElements",n,arguments.length-2])}},{key:"_onDataUnshift",value:function(){this._syncList.push(["_insertElements",0,arguments.length])}}]),r}();function aC(r){var t,i,o,s,a=function(r){if(!r._cache.$bar){for(var a=r.getMatchingVisibleMetas("bar"),n=[],t=0,i=a.length;t<i;t++)n=n.concat(a[t].controller.getAllParsedValues(r));r._cache.$bar=Eo(n.sort(function(o,s){return o-s}))}return r._cache.$bar}(r),n=r._length,l=function(){32767===o||-32768===o||(Le(s)&&(n=Math.min(n,Math.abs(o-s)||n)),s=o)};for(t=0,i=a.length;t<i;++t)o=r.getPixelForValue(a[t]),l();for(s=void 0,t=0,i=r.ticks.length;t<i;++t)o=r.getPixelForTick(t),l();return n}function ps(r,a,n,t){return ce(r)?function(r,a,n,t){var i=n.parse(r[0],t),o=n.parse(r[1],t),s=Math.min(i,o),l=Math.max(i,o),u=s,c=l;Math.abs(s)>Math.abs(l)&&(u=l,c=s),a[n.axis]=c,a._custom={barStart:u,barEnd:c,start:i,end:o,min:s,max:l}}(r,a,n,t):a[n.axis]=n.parse(r,t),a}function gs(r,a,n,t){var c,d,p,g,i=r.iScale,o=r.vScale,s=i.getLabels(),l=i===o,u=[];for(c=n,d=n+t;c<d;++c)g=a[c],(p={})[i.axis]=l||i.parse(s[c],c),u.push(ps(g,p,o,c));return u}function Ei(r){return r&&void 0!==r.barStart&&void 0!==r.barEnd}Ke.defaults={},Ke.prototype.datasetElementType=null,Ke.prototype.dataElementType=null;var Aa=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(){return(0,M.Z)(this,n),a.apply(this,arguments)}return(0,R.Z)(n,[{key:"parsePrimitiveData",value:function(i,o,s,l){return gs(i,o,s,l)}},{key:"parseArrayData",value:function(i,o,s,l){return gs(i,o,s,l)}},{key:"parseObjectData",value:function(i,o,s,l){var y,_,C,Z,u=i.iScale,c=i.vScale,d=this._parsing,p=d.xAxisKey,g=void 0===p?"x":p,h=d.yAxisKey,f=void 0===h?"y":h,m="x"===u.axis?g:f,v="x"===c.axis?g:f,b=[];for(y=s,_=s+l;y<_;++y)(C={})[u.axis]=u.parse(ot(Z=o[y],m),y),b.push(ps(ot(Z,v),C,c,y));return b}},{key:"updateRangeFromParsed",value:function(i,o,s,l){(0,qe.Z)((0,De.Z)(n.prototype),"updateRangeFromParsed",this).call(this,i,o,s,l);var u=s._custom;u&&o===this._cachedMeta.vScale&&(i.min=Math.min(i.min,u.min),i.max=Math.max(i.max,u.max))}},{key:"getLabelAndValue",value:function(i){var s=this._cachedMeta,l=s.iScale,u=s.vScale,c=this.getParsed(i),d=c._custom,p=Ei(d)?"["+d.start+", "+d.end+"]":""+u.getLabelForValue(c[u.axis]);return{label:""+l.getLabelForValue(c[l.axis]),value:p}}},{key:"initialize",value:function(){var i=this;i.enableOptionSharing=!0,(0,qe.Z)((0,De.Z)(n.prototype),"initialize",this).call(this),i._cachedMeta.stack=i.getDataset().stack}},{key:"update",value:function(i){var s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,i)}},{key:"updateElements",value:function(i,o,s,l){var u=this,c="reset"===l,d=u._cachedMeta.vScale,p=d.getBasePixel(),g=d.isHorizontal(),h=u._getRuler(),f=u.resolveDataElementOptions(o,l),m=u.getSharedOptions(f),v=u.includeOptions(l,m);u.updateSharedOptions(m,l,f);for(var b=o;b<o+s;b++){var y=u.getParsed(b),_=c||G(y[d.axis])?{base:p,head:p}:u._calculateBarValuePixels(b),C=u._calculateBarIndexPixels(b,h),Z=(y._stacks||{})[d.axis],S={horizontal:g,base:_.base,enableBorderRadius:!Z||Ei(y._custom)||u.index===Z._top||u.index===Z._bottom,x:g?_.head:C.center,y:g?C.center:_.head,height:g?C.size:void 0,width:g?void 0:C.size};v&&(S.options=m||u.resolveDataElementOptions(b,l)),u.updateElement(i[b],b,S,l)}}},{key:"_getStacks",value:function(i,o){var h,f,u=this._cachedMeta.iScale,c=u.getMatchingVisibleMetas(this._type),d=u.options.stacked,p=c.length,g=[];for(h=0;h<p;++h){if(f=c[h],void 0!==o){var m=f.controller.getParsed(o)[f.controller._cachedMeta.vScale.axis];if(G(m)||isNaN(m))continue}if((!1===d||-1===g.indexOf(f.stack)||void 0===d&&void 0===f.stack)&&g.push(f.stack),f.index===i)break}return g.length||g.push(void 0),g}},{key:"_getStackCount",value:function(i){return this._getStacks(void 0,i).length}},{key:"_getStackIndex",value:function(i,o,s){var l=this._getStacks(i,s),u=void 0!==o?l.indexOf(o):-1;return-1===u?l.length-1:u}},{key:"_getRuler",value:function(){var c,d,i=this,o=i.options,s=i._cachedMeta,l=s.iScale,u=[];for(c=0,d=s.data.length;c<d;++c)u.push(l.getPixelForValue(i.getParsed(c)[l.axis],c));var p=o.barThickness;return{min:p||aC(l),pixels:u,start:l._startPixel,end:l._endPixel,stackCount:i._getStackCount(),scale:l,grouped:o.grouped,ratio:p?1:o.categoryPercentage*o.barPercentage}}},{key:"_calculateBarValuePixels",value:function(i){var y,_,o=this,s=o._cachedMeta,l=s.vScale,u=s._stacked,c=o.options,d=c.base,p=c.minBarLength,g=o.getParsed(i),h=g._custom,f=Ei(h),m=g[l.axis],v=0,b=u?o.applyStack(l,g,u):m;b!==m&&(v=b-m,b=m),f&&(b=h.barEnd-h.barStart,0!==(m=h.barStart)&&st(m)!==st(h.barEnd)&&(v=0),v+=m);var C=G(d)||f?v:d,Z=l.getPixelForValue(C);_=(y=this.chart.getDataVisibility(i)?l.getPixelForValue(v+b):Z)-Z,void 0!==p&&Math.abs(_)<p&&(_=_<0?-p:p,0===m&&(Z-=_/2),y=Z+_);var S=d||0;if(Z===l.getPixelForValue(S)){var A=l.getLineWidthForValue(S)/2;_>0?(Z+=A,_-=A):_<0&&(Z-=A,_+=A)}return{size:_,base:Z,head:y,center:y+_/2}}},{key:"_calculateBarIndexPixels",value:function(i,o){var p,g,s=this,l=o.scale,u=s.options,c=u.skipNull,d=Y(u.maxBarThickness,1/0);if(o.grouped){var h=c?s._getStackCount(i):o.stackCount,f="flex"===u.barThickness?function(r,a,n,t){var i=a.pixels,o=i[r],s=r>0?i[r-1]:null,l=r<i.length-1?i[r+1]:null,u=n.categoryPercentage;null===s&&(s=o-(null===l?a.end-a.start:l-o)),null===l&&(l=o+o-s);var c=o-(o-Math.min(s,l))/2*u;return{chunk:Math.abs(l-s)/2*u/t,ratio:n.barPercentage,start:c}}(i,o,u,h):function(r,a,n,t){var o,s,i=n.barThickness;return G(i)?(o=a.min*n.categoryPercentage,s=n.barPercentage):(o=i*t,s=1),{chunk:o/t,ratio:s,start:a.pixels[r]-o/2}}(i,o,u,h),m=s._getStackIndex(s.index,s._cachedMeta.stack,c?i:void 0);p=f.start+f.chunk*m+f.chunk/2,g=Math.min(d,f.chunk*f.ratio)}else p=l.getPixelForValue(s.getParsed(i)[l.axis],i),g=Math.min(d,o.min*o.ratio);return{base:p-g/2,head:p+g/2,center:p,size:g}}},{key:"draw",value:function(){var i=this,o=i.chart,s=i._cachedMeta,l=s.vScale,u=s.data,c=u.length,d=0;for(Sn(o.ctx,o.chartArea);d<c;++d)null!==i.getParsed(d)[l.axis]&&u[d].draw(i._ctx);An(o.ctx)}}]),n}(Ke);Aa.id="bar",Aa.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Aa.overrides={interaction:{mode:"index"},scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};var wa=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(){return(0,M.Z)(this,n),a.apply(this,arguments)}return(0,R.Z)(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,(0,qe.Z)((0,De.Z)(n.prototype),"initialize",this).call(this)}},{key:"parseObjectData",value:function(i,o,s,l){var v,b,y,u=i.xScale,c=i.yScale,d=this._parsing,p=d.xAxisKey,g=void 0===p?"x":p,h=d.yAxisKey,f=void 0===h?"y":h,m=[];for(v=s,b=s+l;v<b;++v)m.push({x:u.parse(ot(y=o[v],g),v),y:c.parse(ot(y,f),v),_custom:y&&y.r&&+y.r});return m}},{key:"getMaxOverflow",value:function(){for(var i=this._cachedMeta,o=i.data,s=i._parsed,l=0,u=o.length-1;u>=0;--u)l=Math.max(l,o[u].size()/2,s[u]._custom);return l>0&&l}},{key:"getLabelAndValue",value:function(i){var s=this._cachedMeta,l=s.xScale,u=s.yScale,c=this.getParsed(i),d=l.getLabelForValue(c.x),p=u.getLabelForValue(c.y),g=c._custom;return{label:s.label,value:"("+d+", "+p+(g?", "+g:"")+")"}}},{key:"update",value:function(i){var s=this._cachedMeta.data;this.updateElements(s,0,s.length,i)}},{key:"updateElements",value:function(i,o,s,l){for(var u=this,c="reset"===l,d=u._cachedMeta,p=d.iScale,g=d.vScale,h=u.resolveDataElementOptions(o,l),f=u.getSharedOptions(h),m=u.includeOptions(l,f),v=p.axis,b=g.axis,y=o;y<o+s;y++){var _=i[y],C=!c&&u.getParsed(y),Z={},S=Z[v]=c?p.getPixelForDecimal(.5):p.getPixelForValue(C[v]),A=Z[b]=c?g.getBasePixel():g.getPixelForValue(C[b]);Z.skip=isNaN(S)||isNaN(A),m&&(Z.options=u.resolveDataElementOptions(y,l),c&&(Z.options.radius=0)),u.updateElement(_,y,Z,l)}u.updateSharedOptions(f,l,h)}},{key:"resolveDataElementOptions",value:function(i,o){var s=this.getParsed(i),l=(0,qe.Z)((0,De.Z)(n.prototype),"resolveDataElementOptions",this).call(this,i,o);l.$shared&&(l=Object.assign({},l,{$shared:!1}));var u=l.radius;return"active"!==o&&(l.radius=0),l.radius+=Y(s&&s._custom,u),l}}]),n}(Ke);wa.id="bubble",wa.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},wa.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:function(){return""}}}}};var Dn=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t,i){var o;return(0,M.Z)(this,n),(o=a.call(this,t,i)).enableOptionSharing=!0,o.innerRadius=void 0,o.outerRadius=void 0,o.offsetX=void 0,o.offsetY=void 0,o}return(0,R.Z)(n,[{key:"linkScales",value:function(){}},{key:"parse",value:function(i,o){var u,c,s=this.getDataset().data,l=this._cachedMeta;for(u=i,c=i+o;u<c;++u)l._parsed[u]=+s[u]}},{key:"_getRotation",value:function(){return Fe(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return Fe(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var i=le,o=-le,s=this,l=0;l<s.chart.data.datasets.length;++l)if(s.chart.isDatasetVisible(l)){var u=s.chart.getDatasetMeta(l).controller,c=u._getRotation(),d=u._getCircumference();i=Math.min(i,c),o=Math.max(o,c+d)}return{rotation:i,circumference:o-i}}},{key:"update",value:function(i){var o=this,l=o.chart.chartArea,u=o._cachedMeta,c=u.data,d=o.getMaxBorderWidth()+o.getMaxOffset(c),p=Math.max((Math.min(l.width,l.height)-d)/2,0),g=Math.min(function(a,n){return"string"==typeof a&&a.endsWith("%")?parseFloat(a)/100:a/n}(o.options.cutout,p),1),h=o._getRingWeight(o.index),f=o._getRotationExtents(),b=function(r,a,n){var t=1,i=1,o=0,s=0;if(a<le){var l=r,u=l+a,c=Math.cos(l),d=Math.sin(l),p=Math.cos(u),g=Math.sin(u),h=function(C,Z,S){return ga(C,l,u,!0)?1:Math.max(Z,Z*n,S,S*n)},f=function(C,Z,S){return ga(C,l,u,!0)?-1:Math.min(Z,Z*n,S,S*n)},m=h(0,c,p),v=h(ve,d,g),b=f(fe,c,p),y=f(fe+ve,d,g);t=(m-b)/2,i=(v-y)/2,o=-(m+b)/2,s=-(v+y)/2}return{ratioX:t,ratioY:i,offsetX:o,offsetY:s}}(f.rotation,f.circumference,g),C=b.offsetX,Z=b.offsetY,x=Math.max(Math.min((l.width-d)/b.ratioX,(l.height-d)/b.ratioY)/2,0),w=bi(o.options.radius,x),U=(w-Math.max(w*g,0))/o._getVisibleDatasetWeightTotal();o.offsetX=C*w,o.offsetY=Z*w,u.total=o.calculateTotal(),o.outerRadius=w-U*o._getRingWeightOffset(o.index),o.innerRadius=Math.max(o.outerRadius-U*h,0),o.updateElements(c,0,c.length,i)}},{key:"_circumference",value:function(i,o){var s=this,l=s.options,u=s._cachedMeta,c=s._getCircumference();return o&&l.animation.animateRotate||!this.chart.getDataVisibility(i)||null===u._parsed[i]?0:s.calculateCircumference(u._parsed[i]*c/le)}},{key:"updateElements",value:function(i,o,s,l){var A,u=this,c="reset"===l,d=u.chart,p=d.chartArea,f=(p.left+p.right)/2,m=(p.top+p.bottom)/2,v=c&&d.options.animation.animateScale,b=v?0:u.innerRadius,y=v?0:u.outerRadius,_=u.resolveDataElementOptions(o,l),C=u.getSharedOptions(_),Z=u.includeOptions(l,C),S=u._getRotation();for(A=0;A<o;++A)S+=u._circumference(A,c);for(A=o;A<o+s;++A){var x=u._circumference(A,c),w=i[A],O={x:f+u.offsetX,y:m+u.offsetY,startAngle:S,endAngle:S+x,circumference:x,outerRadius:y,innerRadius:b};Z&&(O.options=C||u.resolveDataElementOptions(A,l)),S+=x,u.updateElement(w,A,O,l)}u.updateSharedOptions(C,l,_)}},{key:"calculateTotal",value:function(){var l,i=this._cachedMeta,o=i.data,s=0;for(l=0;l<o.length;l++){var u=i._parsed[l];null!==u&&!isNaN(u)&&this.chart.getDataVisibility(l)&&(s+=Math.abs(u))}return s}},{key:"calculateCircumference",value:function(i){var o=this._cachedMeta.total;return o>0&&!isNaN(i)?le*(Math.abs(i)/o):0}},{key:"getLabelAndValue",value:function(i){var l=this.chart,u=l.data.labels||[],c=xn(this._cachedMeta._parsed[i],l.options.locale);return{label:u[i]||"",value:c}}},{key:"getMaxBorderWidth",value:function(i){var u,c,d,p,g,s=0,l=this.chart;if(!i)for(u=0,c=l.data.datasets.length;u<c;++u)if(l.isDatasetVisible(u)){i=(d=l.getDatasetMeta(u)).data,(p=d.controller)!==this&&p.configure();break}if(!i)return 0;for(u=0,c=i.length;u<c;++u)"inner"!==(g=p.resolveDataElementOptions(u)).borderAlign&&(s=Math.max(s,g.borderWidth||0,g.hoverBorderWidth||0));return s}},{key:"getMaxOffset",value:function(i){for(var o=0,s=0,l=i.length;s<l;++s){var u=this.resolveDataElementOptions(s);o=Math.max(o,u.offset||0,u.hoverOffset||0)}return o}},{key:"_getRingWeightOffset",value:function(i){for(var o=0,s=0;s<i;++s)this.chart.isDatasetVisible(s)&&(o+=this._getRingWeight(s));return o}},{key:"_getRingWeight",value:function(i){return Math.max(Y(this.chart.data.datasets[i].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),n}(Ke);Dn.id="doughnut",Dn.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",indexAxis:"r"},Dn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(a){var n=a.data;return n.labels.length&&n.datasets.length?n.labels.map(function(t,i){var s=a.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,hidden:!a.getDataVisibility(i),index:i}}):[]}},onClick:function(a,n,t){t.chart.toggleDataVisibility(n.index),t.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(a){var n=a.label,t=": "+a.formattedValue;return ce(n)?(n=n.slice())[0]+=t:n+=t,n}}}}};var Mn=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(){return(0,M.Z)(this,n),a.apply(this,arguments)}return(0,R.Z)(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,(0,qe.Z)((0,De.Z)(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(i){var o=this,s=o._cachedMeta,l=s.dataset,u=s.data,c=void 0===u?[]:u,d=s._dataset,p=o.chart._animationsDisabled,g=function(r,a,n){var t=a.length,i=0,o=t;if(r._sorted){var s=r.iScale,l=r._parsed,u=s.axis,c=s.getUserBounds(),d=c.min,p=c.max,h=c.maxDefined;c.minDefined&&(i=we(Math.min(Ot(l,s.axis,d).lo,n?t:Ot(a,u,s.getPixelForValue(d)).lo),0,t-1)),o=h?we(Math.max(Ot(l,s.axis,p).hi+1,n?0:Ot(a,u,s.getPixelForValue(p)).hi+1),i,t)-i:t-i}return{start:i,count:o}}(s,c,p),h=g.start,f=g.count;o._drawStart=h,o._drawCount=f,function(r){var a=r.xScale,n=r.yScale,t=r._scaleRanges,i={xmin:a.min,xmax:a.max,ymin:n.min,ymax:n.max};if(!t)return r._scaleRanges=i,!0;var o=t.xmin!==a.min||t.xmax!==a.max||t.ymin!==n.min||t.ymax!==n.max;return Object.assign(t,i),o}(s)&&(h=0,f=c.length),l._decimated=!!d._decimated,l.points=c;var m=o.resolveDatasetElementOptions(i);o.options.showLine||(m.borderWidth=0),m.segment=o.options.segment,o.updateElement(l,void 0,{animated:!p,options:m},i),o.updateElements(c,h,f,i)}},{key:"updateElements",value:function(i,o,s,l){for(var u=this,c="reset"===l,d=u._cachedMeta,p=d.iScale,g=d.vScale,h=d._stacked,f=u.resolveDataElementOptions(o,l),m=u.getSharedOptions(f),v=u.includeOptions(l,m),b=p.axis,y=g.axis,_=u.options.spanGaps,C=Wt(_)?_:Number.POSITIVE_INFINITY,Z=u.chart._animationsDisabled||c||"none"===l,S=o>0&&u.getParsed(o-1),A=o;A<o+s;++A){var x=i[A],w=u.getParsed(A),O=Z?x:{},U=G(w[y]),P=O[b]=p.getPixelForValue(w[b],A),L=O[y]=c||U?g.getBasePixel():g.getPixelForValue(h?u.applyStack(g,w,h):w[y],A);O.skip=isNaN(P)||isNaN(L)||U,O.stop=A>0&&w[b]-S[b]>C,O.parsed=w,v&&(O.options=m||u.resolveDataElementOptions(A,l)),Z||u.updateElement(x,A,O,l),S=w}u.updateSharedOptions(m,l,f)}},{key:"getMaxOverflow",value:function(){var i=this,o=i._cachedMeta,s=o.dataset,l=s.options&&s.options.borderWidth||0,u=o.data||[];if(!u.length)return l;var c=u[0].size(i.resolveDataElementOptions(0)),d=u[u.length-1].size(i.resolveDataElementOptions(u.length-1));return Math.max(l,c,d)/2}},{key:"draw",value:function(){var i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),(0,qe.Z)((0,De.Z)(n.prototype),"draw",this).call(this)}}]),n}(Ke);Mn.id="line",Mn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Mn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};var xa=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t,i){var o;return(0,M.Z)(this,n),(o=a.call(this,t,i)).innerRadius=void 0,o.outerRadius=void 0,o}return(0,R.Z)(n,[{key:"getLabelAndValue",value:function(i){var l=this.chart,u=l.data.labels||[],c=xn(this._cachedMeta._parsed[i].r,l.options.locale);return{label:u[i]||"",value:c}}},{key:"update",value:function(i){var o=this._cachedMeta.data;this._updateRadius(),this.updateElements(o,0,o.length,i)}},{key:"_updateRadius",value:function(){var i=this,o=i.chart,s=o.chartArea,l=o.options,u=Math.min(s.right-s.left,s.bottom-s.top),c=Math.max(u/2,0),p=(c-Math.max(l.cutoutPercentage?c/100*l.cutoutPercentage:1,0))/o.getVisibleDatasetCount();i.outerRadius=c-p*i.index,i.innerRadius=i.outerRadius-p}},{key:"updateElements",value:function(i,o,s,l){var _,u=this,c="reset"===l,d=u.chart,p=u.getDataset(),h=d.options.animation,f=u._cachedMeta.rScale,m=f.xCenter,v=f.yCenter,b=f.getIndexAngle(0)-.5*fe,y=b,C=360/u.countVisibleElements();for(_=0;_<o;++_)y+=u._computeAngle(_,l,C);for(_=o;_<o+s;_++){var Z=i[_],S=y,A=y+u._computeAngle(_,l,C),x=d.getDataVisibility(_)?f.getDistanceFromCenterForValue(p.data[_]):0;y=A,c&&(h.animateScale&&(x=0),h.animateRotate&&(S=A=b));var w={x:m,y:v,innerRadius:0,outerRadius:x,startAngle:S,endAngle:A,options:u.resolveDataElementOptions(_,l)};u.updateElement(Z,_,w,l)}}},{key:"countVisibleElements",value:function(){var i=this,o=this.getDataset(),l=0;return this._cachedMeta.data.forEach(function(u,c){!isNaN(o.data[c])&&i.chart.getDataVisibility(c)&&l++}),l}},{key:"_computeAngle",value:function(i,o,s){return this.chart.getDataVisibility(i)?Fe(this.resolveDataElementOptions(i,o).angle||s):0}}]),n}(Ke);xa.id="polarArea",xa.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},xa.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(a){var n=a.data;return n.labels.length&&n.datasets.length?n.labels.map(function(t,i){var s=a.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,hidden:!a.getDataVisibility(i),index:i}}):[]}},onClick:function(a,n,t){t.chart.toggleDataVisibility(n.index),t.chart.update()}},tooltip:{callbacks:{title:function(){return""},label:function(a){return a.chart.data.labels[a.dataIndex]+": "+a.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};var Bi=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(){return(0,M.Z)(this,n),a.apply(this,arguments)}return(0,R.Z)(n)}(Dn);Bi.id="pie",Bi.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};var Oa=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(){return(0,M.Z)(this,n),a.apply(this,arguments)}return(0,R.Z)(n,[{key:"getLabelAndValue",value:function(i){var s=this._cachedMeta.vScale,l=this.getParsed(i);return{label:s.getLabels()[i],value:""+s.getLabelForValue(l[s.axis])}}},{key:"update",value:function(i){var o=this,s=o._cachedMeta,l=s.dataset,u=s.data||[],c=s.iScale.getLabels();if(l.points=u,"resize"!==i){var d=o.resolveDatasetElementOptions(i);o.options.showLine||(d.borderWidth=0),o.updateElement(l,void 0,{_loop:!0,_fullLoop:c.length===u.length,options:d},i)}o.updateElements(u,0,u.length,i)}},{key:"updateElements",value:function(i,o,s,l){for(var u=this,c=u.getDataset(),d=u._cachedMeta.rScale,p="reset"===l,g=o;g<o+s;g++){var h=i[g],f=u.resolveDataElementOptions(g,l),m=d.getPointPositionForValue(g,c.data[g]),v=p?d.xCenter:m.x,b=p?d.yCenter:m.y,y={x:v,y:b,angle:m.angle,skip:isNaN(v)||isNaN(b),options:f};u.updateElement(h,g,y,l)}}}]),n}(Ke);Oa.id="radar",Oa.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Oa.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};var qa=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(){return(0,M.Z)(this,n),a.apply(this,arguments)}return(0,R.Z)(n)}(Mn);qa.id="scatter",qa.defaults={showLine:!1,fill:!1},qa.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:function(){return""},label:function(a){return"("+a.label+", "+a.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var cC=Object.freeze({__proto__:null,BarController:Aa,BubbleController:wa,DoughnutController:Dn,LineController:Mn,PolarAreaController:xa,PieController:Bi,RadarController:Oa,ScatterController:qa});function Rt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Ni=function(){function r(a){(0,M.Z)(this,r),this.options=a||{}}return(0,R.Z)(r,[{key:"formats",value:function(){return Rt()}},{key:"parse",value:function(n,t){return Rt()}},{key:"format",value:function(n,t){return Rt()}},{key:"add",value:function(n,t,i){return Rt()}},{key:"diff",value:function(n,t,i){return Rt()}},{key:"startOf",value:function(n,t,i){return Rt()}},{key:"endOf",value:function(n,t){return Rt()}}]),r}();Ni.override=function(r){Object.assign(Ni.prototype,r)};var dC={_date:Ni};function Rn(r,a){return"native"in r?{x:r.x,y:r.y}:Yo(r,a)}function gC(r,a,n,t){var i=r.controller,o=r.data,l=i._cachedMeta.iScale;if(l&&a===l.axis&&r._sorted&&o.length){var u=l._reversePixels?nT:Ot;if(!t)return u(o,a,n);if(i._sharedOptions){var c=o[0],d="function"==typeof c.getRange&&c.getRange(a);if(d){var p=u(o,a,n-d),g=u(o,a,n+d);return{lo:p.lo,hi:g.hi}}}}return{lo:0,hi:o.length-1}}function hs(r,a,n,t,i){for(var o=r.getSortedVisibleDatasetMetas(),s=n[a],l=0,u=o.length;l<u;++l)for(var c=o[l],d=c.index,p=c.data,g=gC(o[l],a,s,i),f=g.hi,m=g.lo;m<=f;++m){var v=p[m];v.skip||t(v,d,m)}}function Li(r,a,n,t){var i=[];return jt(a,r.chartArea,r._minPadding)?(hs(r,n,a,function(l,u,c){l.inRange(a.x,a.y,t)&&i.push({element:l,datasetIndex:u,index:c})},!0),i):i}function Fi(r,a,n,t,i){var o=function(r){var a=-1!==r.indexOf("x"),n=-1!==r.indexOf("y");return function(t,i){var o=a?Math.abs(t.x-i.x):0,s=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}(n),s=Number.POSITIVE_INFINITY,l=[];return jt(a,r.chartArea,r._minPadding)?(hs(r,n,a,function(d,p,g){if(!t||d.inRange(a.x,a.y,i)){var h=d.getCenterPoint(i);if(jt(h,r.chartArea,r._minPadding)){var f=o(a,h);f<s?(l=[{element:d,datasetIndex:p,index:g}],s=f):f===s&&l.push({element:d,datasetIndex:p,index:g})}}}),l):l}function fs(r,a,n,t){var i=Rn(a,r),o=[],s=n.axis,l="x"===s?"inXRange":"inYRange",u=!1;return function(r,a){for(var t,i,o,n=r.getSortedVisibleDatasetMetas(),s=0,l=n.length;s<l;++s){var u=n[s];t=u.index;for(var c=0,d=(i=u.data).length;c<d;++c)(o=i[c]).skip||a(o,t,c)}}(r,function(c,d,p){c[l](i[s],t)&&o.push({element:c,datasetIndex:d,index:p}),c.inRange(i.x,i.y,t)&&(u=!0)}),n.intersect&&!u?[]:o}var fC={modes:{index:function(a,n,t,i){var o=Rn(n,a),s=t.axis||"x",l=t.intersect?Li(a,o,s,i):Fi(a,o,s,!1,i),u=[];return l.length?(a.getSortedVisibleDatasetMetas().forEach(function(c){var d=l[0].index,p=c.data[d];p&&!p.skip&&u.push({element:p,datasetIndex:c.index,index:d})}),u):[]},dataset:function(a,n,t,i){var o=Rn(n,a),s=t.axis||"xy",l=t.intersect?Li(a,o,s,i):Fi(a,o,s,!1,i);if(l.length>0){var u=l[0].datasetIndex,c=a.getDatasetMeta(u).data;l=[];for(var d=0;d<c.length;++d)l.push({element:c[d],datasetIndex:u,index:d})}return l},point:function(a,n,t,i){return Li(a,Rn(n,a),t.axis||"xy",i)},nearest:function(a,n,t,i){return Fi(a,Rn(n,a),t.axis||"xy",t.intersect,i)},x:function(a,n,t,i){return t.axis="x",fs(a,n,t,i)},y:function(a,n,t,i){return t.axis="y",fs(a,n,t,i)}}},mC=["left","top","right","bottom"];function In(r,a){return r.filter(function(n){return n.pos===a})}function ms(r,a){return r.filter(function(n){return-1===mC.indexOf(n.pos)&&n.box.axis===a})}function Un(r,a){return r.sort(function(n,t){var i=a?t:n,o=a?n:t;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function vs(r,a,n,t){return Math.max(r[n],a[n])+Math.max(r[t],a[t])}function bs(r,a){r.top=Math.max(r.top,a.top),r.left=Math.max(r.left,a.left),r.bottom=Math.max(r.bottom,a.bottom),r.right=Math.max(r.right,a.right)}function _C(r,a,n){var t=n.box,i=r.maxPadding;te(n.pos)||(n.size&&(r[n.pos]-=n.size),n.size=n.horizontal?t.height:t.width,r[n.pos]+=n.size),t.getPadding&&bs(i,t.getPadding());var o=Math.max(0,a.outerWidth-vs(i,r,"left","right")),s=Math.max(0,a.outerHeight-vs(i,r,"top","bottom")),l=o!==r.w,u=s!==r.h;return r.w=o,r.h=s,n.horizontal?{same:l,other:u}:{same:u,other:l}}function CC(r,a){var o,n=a.maxPadding;return o={left:0,top:0,right:0,bottom:0},(r?["left","right"]:["top","bottom"]).forEach(function(s){o[s]=Math.max(a[s],n[s])}),o}function Pn(r,a,n){var i,o,s,l,u,c,t=[];for(i=0,o=r.length,u=0;i<o;++i){(l=(s=r[i]).box).update(s.width||a.w,s.height||a.h,CC(s.horizontal,a));var d=_C(a,n,s);u|=d.same&&t.length,c=c||d.other,l.fullSize||t.push(s)}return u&&Pn(t,a,n)||c}function ys(r,a,n){var s,l,u,c,t=n.padding,i=a.x,o=a.y;for(s=0,l=r.length;s<l;++s)c=(u=r[s]).box,u.horizontal?(c.left=c.fullSize?t.left:a.left,c.right=c.fullSize?n.outerWidth-t.right:a.left+a.w,c.top=o,c.bottom=o+c.height,c.width=c.right-c.left,o=c.bottom):(c.left=i,c.right=i+c.width,c.top=c.fullSize?t.top:a.top,c.bottom=c.fullSize?n.outerHeight-t.right:a.top+a.h,c.height=c.bottom-c.top,i=c.right);a.x=i,a.y=o}K.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var Ue_addBox=function(a,n){a.boxes||(a.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw:function(i){n.draw(i)}}]},a.boxes.push(n)},Ue_removeBox=function(a,n){var t=a.boxes?a.boxes.indexOf(n):-1;-1!==t&&a.boxes.splice(t,1)},Ue_configure=function(a,n,t){n.fullSize=t.fullSize,n.position=t.position,n.weight=t.weight},_s=function(){function r(){(0,M.Z)(this,r)}return(0,R.Z)(r,[{key:"acquireContext",value:function(n,t){}},{key:"releaseContext",value:function(n){return!1}},{key:"addEventListener",value:function(n,t,i){}},{key:"removeEventListener",value:function(n,t,i){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(n,t,i,o){return t=Math.max(0,t||n.width),i=i||n.height,{width:t,height:Math.max(0,o?Math.floor(t/o):i)}}},{key:"isAttached",value:function(n){return!0}}]),r}(),ZC=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(){return(0,M.Z)(this,n),a.apply(this,arguments)}return(0,R.Z)(n,[{key:"acquireContext",value:function(i){return i&&i.getContext&&i.getContext("2d")||null}}]),n}(_s),Da="$chartjs",kC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ts=function(a){return null===a||""===a},Cs=!!wT&&{passive:!0};function wC(r,a,n){r.canvas.removeEventListener(a,n,Cs)}function OC(r,a,n){var t=r.canvas,o=t&&qt(t)||t,s=new MutationObserver(function(l){var u=qt(o);l.forEach(function(c){for(var d=0;d<c.addedNodes.length;d++){var p=c.addedNodes[d];(p===o||p===u)&&n(c.target)}})});return s.observe(document,{childList:!0,subtree:!0}),s}function qC(r,a,n){var t=r.canvas,i=t&&qt(t);if(i){var o=new MutationObserver(function(s){s.forEach(function(l){for(var u=0;u<l.removedNodes.length;u++)if(l.removedNodes[u]===t){n();break}})});return o.observe(i,{childList:!0}),o}}var En=new Map,Zs=0;function ks(){var r=window.devicePixelRatio;r!==Zs&&(Zs=r,En.forEach(function(a,n){n.currentDevicePixelRatio!==r&&a()}))}function RC(r,a,n){var t=r.canvas,i=t&&qt(t);if(i){var o=ho(function(l,u){var c=i.clientWidth;n(l,u),c<i.clientWidth&&n()},window),s=new ResizeObserver(function(l){var u=l[0],c=u.contentRect.width,d=u.contentRect.height;0===c&&0===d||o(c,d)});return s.observe(i),function(r,a){En.size||window.addEventListener("resize",ks),En.set(r,a)}(r,o),s}}function zi(r,a,n){n&&n.disconnect(),"resize"===a&&function(r){En.delete(r),En.size||window.removeEventListener("resize",ks)}(r)}function IC(r,a,n){var t=r.canvas,i=ho(function(o){null!==r.ctx&&n(function(r,a){var n=kC[r.type]||r.type,t=Yo(r,a),i=t.x,o=t.y;return{type:n,chart:a,native:r,x:void 0!==i?i:null,y:void 0!==o?o:null}}(o,r))},r,function(o){var s=o[0];return[s,s.offsetX,s.offsetY]});return function(r,a,n){r.addEventListener(a,n,Cs)}(t,a,i),i}var UC=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(){return(0,M.Z)(this,n),a.apply(this,arguments)}return(0,R.Z)(n,[{key:"acquireContext",value:function(i,o){var s=i&&i.getContext&&i.getContext("2d");return s&&s.canvas===i?(function(r,a){var n=r.style,t=r.getAttribute("height"),i=r.getAttribute("width");if(r[Da]={initial:{height:t,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ts(i)){var o=Ko(r,"width");void 0!==o&&(r.width=o)}if(Ts(t))if(""===r.style.height)r.height=r.width/(a||2);else{var s=Ko(r,"height");void 0!==s&&(r.height=s)}}(i,o),s):null}},{key:"releaseContext",value:function(i){var o=i.canvas;if(!o[Da])return!1;var s=o[Da].initial;["height","width"].forEach(function(u){var c=s[u];G(c)?o.removeAttribute(u):o.setAttribute(u,c)});var l=s.style||{};return Object.keys(l).forEach(function(u){o.style[u]=l[u]}),o.width=o.width,delete o[Da],!0}},{key:"addEventListener",value:function(i,o,s){this.removeEventListener(i,o),(i.$proxies||(i.$proxies={}))[o]=({attach:OC,detach:qC,resize:RC}[o]||IC)(i,o,s)}},{key:"removeEventListener",value:function(i,o){var s=i.$proxies||(i.$proxies={}),l=s[o];l&&(({attach:zi,detach:zi,resize:zi}[o]||wC)(i,o,l),s[o]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(i,o,s,l){return function(r,a,n,t){var i=Sa(r),o=Dt(i,"margin"),s=ka(i.maxWidth,r,"clientWidth")||da,l=ka(i.maxHeight,r,"clientHeight")||da,u=function(r,a,n){var t,i;if(void 0===a||void 0===n){var o=qt(r);if(o){var s=o.getBoundingClientRect(),l=Sa(o),u=Dt(l,"border","width"),c=Dt(l,"padding");a=s.width-c.width-u.width,n=s.height-c.height-u.height,t=ka(l.maxWidth,o,"clientWidth"),i=ka(l.maxHeight,o,"clientHeight")}else a=r.clientWidth,n=r.clientHeight}return{width:a,height:n,maxWidth:t||da,maxHeight:i||da}}(r,a,n),c=u.width,d=u.height;if("content-box"===i.boxSizing){var p=Dt(i,"border","width"),g=Dt(i,"padding");c-=g.width+p.width,d-=g.height+p.height}return c=Math.max(0,c-o.width),d=Math.max(0,t?Math.floor(c/t):d-o.height),c=Ii(Math.min(c,s,u.maxWidth)),d=Ii(Math.min(d,l,u.maxHeight)),c&&!d&&(d=Ii(c/2)),{width:c,height:d}}(i,o,s,l)}},{key:"isAttached",value:function(i){var o=qt(i);return!(!o||!qt(o))}}]),n}(_s),He=function(){function r(){(0,M.Z)(this,r),this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}return(0,R.Z)(r,[{key:"tooltipPosition",value:function(n){var t=this.getProps(["x","y"],n);return{x:t.x,y:t.y}}},{key:"hasValue",value:function(){return Wt(this.x)&&Wt(this.y)}},{key:"getProps",value:function(n,t){var i=this,o=this.$animations;if(!t||!o)return i;var s={};return n.forEach(function(l){s[l]=o[l]&&o[l].active()?o[l]._to:i[l]}),s}}]),r}();He.defaults={},He.defaultRoutes=void 0;var Ss={values:function(a){return ce(a)?a:""+a},numeric:function(a,n,t){if(0===a)return"0";var o,i=this.chart.options.locale,s=a;if(t.length>1){var l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(o="scientific"),s=function(r,a){var n=a.length>3?a[2].value-a[1].value:a[1].value-a[0].value;return Math.abs(n)>=1&&r!==Math.floor(r)&&(n=r-Math.floor(r)),n}(a,t)}var u=Re(Math.abs(s)),c=Math.max(Math.min(-1*Math.floor(u),20),0),d={notation:o,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),xn(a,i,d)},logarithmic:function(a,n,t){if(0===a)return"0";var i=a/Math.pow(10,Math.floor(Re(a)));return 1===i||2===i||5===i?Ss.numeric.call(this,a,n,t):""}},Ma={formatters:Ss};function Ra(r,a,n,t,i){var u,c,d,o=Y(t,0),s=Math.min(Y(i,r.length),r.length),l=0;for(n=Math.ceil(n),i&&(n=(u=i-t)/Math.floor(u/n)),d=o;d<0;)l++,d=Math.round(o+l*n);for(c=Math.max(o,0);c<s;c++)c===d&&(a.push(r[c]),l++,d=Math.round(o+l*n))}K.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(a,n){return n.lineWidth},tickColor:function(a,n){return n.color},offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ma.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),K.route("scale.ticks","color","","color"),K.route("scale.grid","color","","borderColor"),K.route("scale.grid","borderColor","","borderColor"),K.route("scale.title","color","","color"),K.describe("scale",{_fallback:!1,_scriptable:function(a){return!a.startsWith("before")&&!a.startsWith("after")&&"callback"!==a&&"parser"!==a},_indexable:function(a){return"borderDash"!==a&&"tickBorderDash"!==a}}),K.describe("scales",{_fallback:"scale"});var As=function(a,n,t){return"top"===n||"left"===n?a[n]+t:a[n]-t};function ws(r,a){for(var n=[],t=r.length/a,i=r.length,o=0;o<i;o+=t)n.push(r[Math.floor(o)]);return n}function VC(r,a,n){var c,t=r.ticks.length,i=Math.min(a,t-1),o=r._startPixel,s=r._endPixel,l=1e-6,u=r.getPixelForTick(i);if(!(n&&(c=1===t?Math.max(u-o,s-u):0===a?(r.getPixelForTick(1)-u)/2:(u-r.getPixelForTick(i-1))/2,u+=i<a?c:-c,u<o-l||u>s+l)))return u}function Bn(r){return r.drawTicks?r.tickLength:0}function xs(r,a){if(!r.display)return 0;var n=ye(r.font,a),t=ke(r.padding);return(ce(r.text)?r.text.length:1)*n.lineHeight+t.height}function KC(r,a,n){var t=vi(r);return(n&&"right"!==a||!n&&"right"===a)&&(t=function(a){return"left"===a?"right":"right"===a?"left":a}(t)),t}var Nn=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this)).id=t.id,i.type=t.type,i.options=void 0,i.ctx=t.ctx,i.chart=t.chart,i.top=void 0,i.bottom=void 0,i.left=void 0,i.right=void 0,i.width=void 0,i.height=void 0,i._margins={left:0,right:0,top:0,bottom:0},i.maxWidth=void 0,i.maxHeight=void 0,i.paddingTop=void 0,i.paddingBottom=void 0,i.paddingLeft=void 0,i.paddingRight=void 0,i.axis=void 0,i.labelRotation=void 0,i.min=void 0,i.max=void 0,i._range=void 0,i.ticks=[],i._gridLineItems=null,i._labelItems=null,i._labelSizes=null,i._length=0,i._maxLength=0,i._longestTextCache={},i._startPixel=void 0,i._endPixel=void 0,i._reversePixels=!1,i._userMax=void 0,i._userMin=void 0,i._suggestedMax=void 0,i._suggestedMin=void 0,i._ticksLength=0,i._borderValue=0,i._cache={},i._dataLimitsCached=!1,i.$context=void 0,i}return(0,R.Z)(n,[{key:"init",value:function(i){var o=this;o.options=i.setContext(o.getContext()),o.axis=i.axis,o._userMin=o.parse(i.min),o._userMax=o.parse(i.max),o._suggestedMin=o.parse(i.suggestedMin),o._suggestedMax=o.parse(i.suggestedMax)}},{key:"parse",value:function(i,o){return i}},{key:"getUserBounds",value:function(){var i=this._userMin,o=this._userMax,s=this._suggestedMin,l=this._suggestedMax;return i=Me(i,Number.POSITIVE_INFINITY),o=Me(o,Number.NEGATIVE_INFINITY),s=Me(s,Number.POSITIVE_INFINITY),l=Me(l,Number.NEGATIVE_INFINITY),{min:Me(i,s),max:Me(o,l),minDefined:me(i),maxDefined:me(o)}}},{key:"getMinMax",value:function(i){var p,o=this,s=o.getUserBounds(),l=s.min,u=s.max,c=s.minDefined,d=s.maxDefined;if(c&&d)return{min:l,max:u};for(var g=o.getMatchingVisibleMetas(),h=0,f=g.length;h<f;++h)p=g[h].controller.getMinMax(o,i),c||(l=Math.min(l,p.min)),d||(u=Math.max(u,p.max));return{min:Me(l,Me(u,l)),max:Me(u,Me(l,u))}}},{key:"getPadding",value:function(){var i=this;return{left:i.paddingLeft||0,top:i.paddingTop||0,right:i.paddingRight||0,bottom:i.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){de(this.options.beforeUpdate,[this])}},{key:"update",value:function(i,o,s){var l=this,u=l.options.ticks,c=u.sampleSize;l.beforeUpdate(),l.maxWidth=i,l.maxHeight=o,l._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),l.ticks=null,l._labelSizes=null,l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l._maxLength=l.isHorizontal()?l.width+s.left+s.right:l.height+s.top+s.bottom,l._dataLimitsCached||(l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l._range=function(r,a){var n=r.min,t=r.max;return{min:n-Math.abs(bi(a,n)),max:t+bi(a,t)}}(l,l.options.grace),l._dataLimitsCached=!0),l.beforeBuildTicks(),l.ticks=l.buildTicks()||[],l.afterBuildTicks();var d=c<l.ticks.length;l._convertTicksToLabels(d?ws(l.ticks,c):l.ticks),l.configure(),l.beforeCalculateLabelRotation(),l.calculateLabelRotation(),l.afterCalculateLabelRotation(),u.display&&(u.autoSkip||"auto"===u.source)&&(l.ticks=function(r,a){var n=r.options.ticks,t=n.maxTicksLimit||function(r){var a=r.options.offset,n=r._tickSize();return Math.floor(Math.min(r._length/n+(a?0:1),r._maxLength/n))}(r),i=n.major.enabled?function(r){var n,t,a=[];for(n=0,t=r.length;n<t;n++)r[n].major&&a.push(n);return a}(a):[],o=i.length,s=i[0],l=i[o-1],u=[];if(o>t)return function(r,a,n,t){var s,i=0,o=n[0];for(t=Math.ceil(t),s=0;s<r.length;s++)s===o&&(a.push(r[s]),o=n[++i*t])}(a,u,i,o/t),u;var c=function(r,a,n){var t=function(r){var n,t,a=r.length;if(a<2)return!1;for(t=r[0],n=1;n<a;++n)if(r[n]-r[n-1]!==t)return!1;return t}(r),i=a.length/n;if(!t)return Math.max(i,1);for(var o=function(r){var t,a=[],n=Math.sqrt(r);for(t=1;t<n;t++)r%t==0&&(a.push(t),a.push(r/t));return n===(0|n)&&a.push(n),a.sort(function(i,o){return i-o}).pop(),a}(t),s=0,l=o.length-1;s<l;s++){var u=o[s];if(u>i)return u}return Math.max(i,1)}(i,a,t);if(o>0){var d,p,g=o>1?Math.round((l-s)/(o-1)):null;for(Ra(a,u,c,G(g)?0:s-g,s),d=0,p=o-1;d<p;d++)Ra(a,u,c,i[d],i[d+1]);return Ra(a,u,c,l,G(g)?a.length:l+g),u}return Ra(a,u,c),u}(l,l.ticks),l._labelSizes=null),d&&l._convertTicksToLabels(l.ticks),l.beforeFit(),l.fit(),l.afterFit(),l.afterUpdate()}},{key:"configure",value:function(){var s,l,i=this,o=i.options.reverse;i.isHorizontal()?(s=i.left,l=i.right):(s=i.top,l=i.bottom,o=!o),i._startPixel=s,i._endPixel=l,i._reversePixels=o,i._length=l-s,i._alignToPixels=i.options.alignToPixels}},{key:"afterUpdate",value:function(){de(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){de(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){var i=this;i.isHorizontal()?(i.width=i.maxWidth,i.left=0,i.right=i.width):(i.height=i.maxHeight,i.top=0,i.bottom=i.height),i.paddingLeft=0,i.paddingTop=0,i.paddingRight=0,i.paddingBottom=0}},{key:"afterSetDimensions",value:function(){de(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(i){var o=this;o.chart.notifyPlugins(i,o.getContext()),de(o.options[i],[o])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){de(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(i){var l,u,c,s=this.options.ticks;for(l=0,u=i.length;l<u;l++)(c=i[l]).label=de(s.callback,[c.value,l,i],this);for(l=0;l<u;l++)G(i[l].label)&&(i.splice(l,1),u--,l--)}},{key:"afterTickToLabelConversion",value:function(){de(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){de(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var p,g,h,i=this,o=i.options,s=o.ticks,l=i.ticks.length,u=s.minRotation||0,c=s.maxRotation,d=u;if(!i._isVisible()||!s.display||u>=c||l<=1||!i.isHorizontal())i.labelRotation=u;else{var f=i._getLabelSizes(),m=f.widest.width,v=f.highest.height,b=we(i.chart.width-m,0,i.maxWidth);m+6>(p=o.offset?i.maxWidth/l:b/(l-1))&&(p=b/(l-(o.offset?.5:1)),g=i.maxHeight-Bn(o.grid)-s.padding-xs(o.title,i.chart.options.font),h=Math.sqrt(m*m+v*v),d=_i(Math.min(Math.asin(Math.min((f.highest.height+6)/p,1)),Math.asin(Math.min(g/h,1))-Math.asin(v/h))),d=Math.max(u,Math.min(c,d))),i.labelRotation=d}}},{key:"afterCalculateLabelRotation",value:function(){de(this.options.afterCalculateLabelRotation,[this])}},{key:"beforeFit",value:function(){de(this.options.beforeFit,[this])}},{key:"fit",value:function(){var i=this,o={width:0,height:0},s=i.chart,l=i.options,u=l.ticks,c=l.title,d=l.grid,p=i._isVisible(),g=i.isHorizontal();if(p){var h=xs(c,s.options.font);if(g?(o.width=i.maxWidth,o.height=Bn(d)+h):(o.height=i.maxHeight,o.width=Bn(d)+h),u.display&&i.ticks.length){var f=i._getLabelSizes(),m=f.first,v=f.last,b=f.widest,y=f.highest,_=2*u.padding,C=Fe(i.labelRotation),Z=Math.cos(C),S=Math.sin(C);g?o.height=Math.min(i.maxHeight,o.height+(u.mirror?0:S*b.width+Z*y.height)+_):o.width=Math.min(i.maxWidth,o.width+(u.mirror?0:Z*b.width+S*y.height)+_),i._calculatePadding(m,v,S,Z)}}i._handleMargins(),g?(i.width=i._length=s.width-i._margins.left-i._margins.right,i.height=o.height):(i.width=o.width,i.height=i._length=s.height-i._margins.top-i._margins.bottom)}},{key:"_calculatePadding",value:function(i,o,s,l){var u=this,c=u.options,d=c.ticks,p=d.align,g=d.padding,f=0!==u.labelRotation,m="top"!==c.position&&"x"===u.axis;if(u.isHorizontal()){var v=u.getPixelForTick(0)-u.left,b=u.right-u.getPixelForTick(u.ticks.length-1),y=0,_=0;f?m?(y=l*i.width,_=s*o.height):(y=s*i.height,_=l*o.width):"start"===p?_=o.width:"end"===p?y=i.width:(y=i.width/2,_=o.width/2),u.paddingLeft=Math.max((y-v+g)*u.width/(u.width-v),0),u.paddingRight=Math.max((_-b+g)*u.width/(u.width-b),0)}else{var C=o.height/2,Z=i.height/2;"start"===p?(C=0,Z=i.height):"end"===p&&(C=o.height,Z=0),u.paddingTop=C+g,u.paddingBottom=Z+g}}},{key:"_handleMargins",value:function(){var i=this;i._margins&&(i._margins.left=Math.max(i.paddingLeft,i._margins.left),i._margins.top=Math.max(i.paddingTop,i._margins.top),i._margins.right=Math.max(i.paddingRight,i._margins.right),i._margins.bottom=Math.max(i.paddingBottom,i._margins.bottom))}},{key:"afterFit",value:function(){de(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var i=this.options,s=i.position;return"top"===s||"bottom"===s||"x"===i.axis}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(i){var o=this;o.beforeTickToLabelConversion(),o.generateTickLabels(i),o.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var i=this,o=i._labelSizes;if(!o){var s=i.options.ticks.sampleSize,l=i.ticks;s<l.length&&(l=ws(l,s)),i._labelSizes=o=i._computeLabelSizes(l,l.length)}return o}},{key:"_computeLabelSizes",value:function(i,o){var g,h,f,m,v,b,y,_,C,Z,S,s=this.ctx,l=this._longestTextCache,u=[],c=[],d=0,p=0;for(g=0;g<o;++g){if(m=i[g].label,v=this._resolveTickFontOptions(g),s.font=b=v.string,y=l[b]=l[b]||{data:{},gc:[]},_=v.lineHeight,C=Z=0,G(m)||ce(m)){if(ce(m))for(h=0,f=m.length;h<f;++h)!G(S=m[h])&&!ce(S)&&(C=ya(s,y.data,y.gc,C,S),Z+=_)}else C=ya(s,y.data,y.gc,C,m),Z=_;u.push(C),c.push(Z),d=Math.max(C,d),p=Math.max(Z,p)}!function(r,a){oe(r,function(n){var o,t=n.gc,i=t.length/2;if(i>a){for(o=0;o<i;++o)delete n.data[t[o]];t.splice(0,i)}})}(l,o);var A=u.indexOf(d),x=c.indexOf(p),w=function(U){return{width:u[U]||0,height:c[U]||0}};return{first:w(0),last:w(o-1),widest:w(A),highest:w(x),widths:u,heights:c}}},{key:"getLabelForValue",value:function(i){return i}},{key:"getPixelForValue",value:function(i,o){return NaN}},{key:"getValueForPixel",value:function(i){}},{key:"getPixelForTick",value:function(i){var o=this.ticks;return i<0||i>o.length-1?null:this.getPixelForValue(o[i].value)}},{key:"getPixelForDecimal",value:function(i){var o=this;o._reversePixels&&(i=1-i);var s=o._startPixel+i*o._length;return function(r){return we(r,-32768,32767)}(o._alignToPixels?wt(o.chart,s,0):s)}},{key:"getDecimalForPixel",value:function(i){var o=(i-this._startPixel)/this._length;return this._reversePixels?1-o:o}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var i=this.min,o=this.max;return i<0&&o<0?o:i>0&&o>0?i:0}},{key:"getContext",value:function(i){var o=this,s=o.ticks||[];if(i>=0&&i<s.length){var l=s[i];return l.$context||(l.$context=function(r,a,n){return Object.assign(Object.create(r),{tick:n,index:a,type:"tick"})}(o.getContext(),i,l))}return o.$context||(o.$context=function(r,a){return Object.assign(Object.create(r),{scale:a,type:"scale"})}(o.chart.getContext(),o))}},{key:"_tickSize",value:function(){var i=this,o=i.options.ticks,s=Fe(i.labelRotation),l=Math.abs(Math.cos(s)),u=Math.abs(Math.sin(s)),c=i._getLabelSizes(),d=o.autoSkipPadding||0,p=c?c.widest.width+d:0,g=c?c.highest.height+d:0;return i.isHorizontal()?g*l>p*u?p/l:g/u:g*u<p*l?g/l:p/u}},{key:"_isVisible",value:function(){var i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(i){var Z,S,A,x,w,O,U,P,L,H,Q,se,o=this,s=o.axis,l=o.chart,u=o.options,c=u.grid,d=u.position,p=c.offset,g=o.isHorizontal(),f=o.ticks.length+(p?1:0),m=Bn(c),v=[],b=c.setContext(o.getContext()),y=b.drawBorder?b.borderWidth:0,_=y/2,C=function(cn){return wt(l,cn,y)};if("top"===d)Z=C(o.bottom),O=o.bottom-m,P=Z-_,H=C(i.top)+_,se=i.bottom;else if("bottom"===d)Z=C(o.top),H=i.top,se=C(i.bottom)-_,O=Z+_,P=o.top+m;else if("left"===d)Z=C(o.right),w=o.right-m,U=Z-_,L=C(i.left)+_,Q=i.right;else if("right"===d)Z=C(o.left),L=i.left,Q=C(i.right)-_,w=Z+_,U=o.left+m;else if("x"===s){if("center"===d)Z=C((i.top+i.bottom)/2+.5);else if(te(d)){var be=Object.keys(d)[0];Z=C(o.chart.scales[be].getPixelForValue(d[be]))}H=i.top,se=i.bottom,P=(O=Z+_)+m}else if("y"===s){if("center"===d)Z=C((i.left+i.right)/2);else if(te(d)){var it=Object.keys(d)[0];Z=C(o.chart.scales[it].getPixelForValue(d[it]))}U=(w=Z-_)-m,L=i.left,Q=i.right}for(S=0;S<f;++S){var Be=c.setContext(o.getContext(S)),ft=Be.lineWidth,Wn=Be.color,mt=c.borderDash||[],vt=Be.borderDashOffset,ii=Be.tickWidth,Pr=Be.tickColor,Er=Be.tickBorderDash||[],Br=Be.tickBorderDashOffset;void 0!==(A=VC(o,S,p))&&(x=wt(l,A,ft),g?w=U=L=Q=x:O=P=H=se=x,v.push({tx1:w,ty1:O,tx2:U,ty2:P,x1:L,y1:H,x2:Q,y2:se,width:ft,color:Wn,borderDash:mt,borderDashOffset:vt,tickWidth:ii,tickColor:Pr,tickBorderDash:Er,tickBorderDashOffset:Br}))}return o._ticksLength=f,o._borderValue=Z,v}},{key:"_computeLabelItems",value:function(i){var Z,S,x,w,O,U,P,L,H,Q,se,o=this,s=o.axis,l=o.options,u=l.position,c=l.ticks,d=o.isHorizontal(),p=o.ticks,g=c.align,h=c.crossAlign,f=c.padding,m=c.mirror,v=Bn(l.grid),b=v+f,y=m?-f:b,_=-Fe(o.labelRotation),C=[],be="middle";if("top"===u)O=o.bottom-y,U=o._getXAxisLabelAlignment();else if("bottom"===u)O=o.top+y,U=o._getXAxisLabelAlignment();else if("left"===u){var Ae=o._getYAxisLabelAlignment(v);U=Ae.textAlign,w=Ae.x}else if("right"===u){var it=o._getYAxisLabelAlignment(v);U=it.textAlign,w=it.x}else if("x"===s){if("center"===u)O=(i.top+i.bottom)/2+b;else if(te(u)){var zt=Object.keys(u)[0];O=o.chart.scales[zt].getPixelForValue(u[zt])+b}U=o._getXAxisLabelAlignment()}else if("y"===s){if("center"===u)w=(i.left+i.right)/2-b;else if(te(u)){var ft=Object.keys(u)[0];w=o.chart.scales[ft].getPixelForValue(u[ft])}U=o._getYAxisLabelAlignment(v).textAlign}"y"===s&&("start"===g?be="top":"end"===g&&(be="bottom"));var mt=o._getLabelSizes();for(Z=0,S=p.length;Z<S;++Z){x=p[Z].label;var vt=c.setContext(o.getContext(Z));P=o.getPixelForTick(Z)+c.labelOffset,H=(L=o._resolveTickFontOptions(Z)).lineHeight;var ii=(Q=ce(x)?x.length:1)/2,Pr=vt.color,Er=vt.textStrokeColor,Br=vt.textStrokeWidth;d?(w=P,se="top"===u?"near"===h||0!==_?-Q*H+H/2:"center"===h?-mt.highest.height/2-ii*H+H:H/2-mt.highest.height:"near"===h||0!==_?H/2:"center"===h?mt.highest.height/2-ii*H:mt.highest.height-Q*H,m&&(se*=-1)):(O=P,se=(1-Q)*H/2);var Nr=void 0;if(vt.showLabelBackdrop){var cn=ke(vt.backdropPadding),Lr=mt.heights[Z],Fr=mt.widths[Z],zr=O+se-cn.top,Hr=w-cn.left;switch(be){case"middle":zr-=Lr/2;break;case"bottom":zr-=Lr}switch(U){case"center":Hr-=Fr/2;break;case"right":Hr-=Fr}Nr={left:Hr,top:zr,width:Fr+cn.width,height:Lr+cn.height,color:vt.backdropColor}}C.push({rotation:_,label:x,font:L,color:Pr,strokeColor:Er,strokeWidth:Br,textOffset:se,textAlign:U,textBaseline:be,translation:[w,O],backdrop:Nr})}return C}},{key:"_getXAxisLabelAlignment",value:function(){var o=this.options,s=o.position,l=o.ticks;if(-Fe(this.labelRotation))return"top"===s?"left":"right";var c="center";return"start"===l.align?c="left":"end"===l.align&&(c="right"),c}},{key:"_getYAxisLabelAlignment",value:function(i){var m,v,o=this,s=o.options,l=s.position,u=s.ticks,c=u.crossAlign,d=u.mirror,p=u.padding,h=i+p,f=o._getLabelSizes().widest.width;return"left"===l?d?(m="left",v=o.right+p):(v=o.right-h,"near"===c?m="right":"center"===c?(m="center",v-=f/2):(m="left",v=o.left)):"right"===l?d?(m="right",v=o.left+p):(v=o.left+h,"near"===c?m="left":"center"===c?(m="center",v+=f/2):(m="right",v=o.right)):m="right",{textAlign:m,x:v}}},{key:"_computeLabelArea",value:function(){var i=this;if(!i.options.ticks.mirror){var o=i.chart,s=i.options.position;if("left"===s||"right"===s)return{top:0,left:i.left,bottom:o.height,right:i.right};if("top"===s||"bottom"===s)return{top:i.top,left:0,bottom:i.bottom,right:o.width}}}},{key:"drawBackground",value:function(){var i=this.ctx,o=this.options.backgroundColor,s=this.left,l=this.top,u=this.width,c=this.height;o&&(i.save(),i.fillStyle=o,i.fillRect(s,l,u,c),i.restore())}},{key:"getLineWidthForValue",value:function(i){var o=this,s=o.options.grid;if(!o._isVisible()||!s.display)return 0;var u=o.ticks.findIndex(function(d){return d.value===i});return u>=0?s.setContext(o.getContext(u)).lineWidth:0}},{key:"drawGrid",value:function(i){var c,d,o=this,s=o.options.grid,l=o.ctx,u=o._gridLineItems||(o._gridLineItems=o._computeGridLineItems(i)),p=function(f,m,v){!v.width||!v.color||(l.save(),l.lineWidth=v.width,l.strokeStyle=v.color,l.setLineDash(v.borderDash||[]),l.lineDashOffset=v.borderDashOffset,l.beginPath(),l.moveTo(f.x,f.y),l.lineTo(m.x,m.y),l.stroke(),l.restore())};if(s.display)for(c=0,d=u.length;c<d;++c){var g=u[c];s.drawOnChartArea&&p({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),s.drawTicks&&p({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var i=this,o=i.chart,s=i.ctx,l=i.options.grid,u=l.setContext(i.getContext()),c=l.drawBorder?u.borderWidth:0;if(c){var g,h,f,m,d=l.setContext(i.getContext(0)).lineWidth,p=i._borderValue;i.isHorizontal()?(g=wt(o,i.left,c)-c/2,h=wt(o,i.right,d)+d/2,f=m=p):(f=wt(o,i.top,c)-c/2,m=wt(o,i.bottom,d)+d/2,g=h=p),s.save(),s.lineWidth=u.borderWidth,s.strokeStyle=u.borderColor,s.beginPath(),s.moveTo(g,f),s.lineTo(h,m),s.stroke(),s.restore()}}},{key:"drawLabels",value:function(i){var o=this;if(o.options.ticks.display){var l=o.ctx,u=o._computeLabelArea();u&&Sn(l,u);var d,p,c=o._labelItems||(o._labelItems=o._computeLabelItems(i));for(d=0,p=c.length;d<p;++d){var g=c[d],h=g.font,f=g.label;g.backdrop&&(l.fillStyle=g.backdrop.color,l.fillRect(g.backdrop.left,g.backdrop.top,g.backdrop.width,g.backdrop.height)),xt(l,f,0,g.textOffset,h,g)}u&&An(l)}}},{key:"drawTitle",value:function(){var i=this.ctx,o=this.options,s=o.position,l=o.title,u=o.reverse;if(l.display){var c=ye(l.font),d=ke(l.padding),p=l.align,g=c.lineHeight/2;"bottom"===s?(g+=d.bottom,ce(l.text)&&(g+=c.lineHeight*(l.text.length-1))):g+=d.top;var h=function(r,a,n,t){var c,d,p,i=r.top,o=r.left,s=r.bottom,l=r.right,u=0;return r.isHorizontal()?(d=Te(t,o,l),p=As(r,n,a),c=l-o):(d=As(r,n,a),p=Te(t,s,i),u="left"===n?-ve:ve),{titleX:d,titleY:p,maxWidth:c,rotation:u}}(this,g,s,p),f=h.titleX,m=h.titleY;xt(i,l.text,0,0,c,{color:l.color,maxWidth:h.maxWidth,rotation:h.rotation,textAlign:KC(p,s,u),textBaseline:"middle",translation:[f,m]})}}},{key:"draw",value:function(i){var o=this;!o._isVisible()||(o.drawBackground(),o.drawGrid(i),o.drawBorder(),o.drawTitle(),o.drawLabels(i))}},{key:"_layers",value:function(){var i=this,o=i.options,s=o.ticks&&o.ticks.z||0,l=o.grid&&o.grid.z||0;return i._isVisible()&&i.draw===n.prototype.draw?[{z:l,draw:function(c){i.drawBackground(),i.drawGrid(c),i.drawTitle()}},{z:l+1,draw:function(){i.drawBorder()}},{z:s,draw:function(c){i.drawLabels(c)}}]:[{z:s,draw:function(c){i.draw(c)}}]}},{key:"getMatchingVisibleMetas",value:function(i){var c,d,o=this,s=o.chart.getSortedVisibleDatasetMetas(),l=o.axis+"AxisID",u=[];for(c=0,d=s.length;c<d;++c){var p=s[c];p[l]===o.id&&(!i||p.type===i)&&u.push(p)}return u}},{key:"_resolveTickFontOptions",value:function(i){return ye(this.options.ticks.setContext(this.getContext(i)).font)}},{key:"_maxDigits",value:function(){var i=this,o=i._resolveTickFontOptions(0).lineHeight;return(i.isHorizontal()?i.width:i.height)/o}}]),n}(He),Ia=function(){function r(a,n,t){(0,M.Z)(this,r),this.type=a,this.scope=n,this.override=t,this.items=Object.create(null)}return(0,R.Z)(r,[{key:"isForType",value:function(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}},{key:"register",value:function(n){var o,t=this,i=Object.getPrototypeOf(n);(function(r){return"id"in r&&"defaults"in r})(i)&&(o=t.register(i));var s=t.items,l=n.id,u=t.scope+"."+l;if(!l)throw new Error("class does not have id: "+n);return l in s||(s[l]=n,function(r,a,n){var t=vn(Object.create(null),[n?K.get(n):{},K.get(a),r.defaults]);K.set(a,t),r.defaultRoutes&&function(r,a){Object.keys(a).forEach(function(n){var t=n.split("."),i=t.pop(),o=[r].concat(t).join("."),s=a[n].split("."),l=s.pop(),u=s.join(".");K.route(o,i,u,l)})}(a,r.defaultRoutes),r.descriptors&&K.describe(a,r.descriptors)}(n,u,o),t.override&&K.override(n.id,n.overrides)),u}},{key:"get",value:function(n){return this.items[n]}},{key:"unregister",value:function(n){var t=this.items,i=n.id,o=this.scope;i in t&&delete t[i],o&&i in K[o]&&(delete K[o][i],this.override&&delete At[i])}}]),r}(),XC=function(){function r(){(0,M.Z)(this,r),this.controllers=new Ia(Ke,"datasets",!0),this.elements=new Ia(He,"elements"),this.plugins=new Ia(Object,"plugins"),this.scales=new Ia(Nn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return(0,R.Z)(r,[{key:"add",value:function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this._each("register",t)}},{key:"remove",value:function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this._each("unregister",t)}},{key:"addControllers",value:function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this._each("register",t,this.controllers)}},{key:"addElements",value:function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this._each("register",t,this.elements)}},{key:"addPlugins",value:function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this._each("register",t,this.plugins)}},{key:"addScales",value:function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this._each("register",t,this.scales)}},{key:"getController",value:function(n){return this._get(n,this.controllers,"controller")}},{key:"getElement",value:function(n){return this._get(n,this.elements,"element")}},{key:"getPlugin",value:function(n){return this._get(n,this.plugins,"plugin")}},{key:"getScale",value:function(n){return this._get(n,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this._each("unregister",t,this.controllers)}},{key:"removeElements",value:function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this._each("unregister",t,this.elements)}},{key:"removePlugins",value:function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this._each("unregister",t,this.plugins)}},{key:"removeScales",value:function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];this._each("unregister",t,this.scales)}},{key:"_each",value:function(n,t,i){var o=this;(0,W.Z)(t).forEach(function(s){var l=i||o._getRegistryForType(s);i||l.isForType(s)||l===o.plugins&&s.id?o._exec(n,l,s):oe(s,function(u){var c=i||o._getRegistryForType(u);o._exec(n,c,u)})})}},{key:"_exec",value:function(n,t,i){var o=yi(n);de(i["before"+o],[],i),t[n](i),de(i["after"+o],[],i)}},{key:"_getRegistryForType",value:function(n){for(var t=0;t<this._typedRegistries.length;t++){var i=this._typedRegistries[t];if(i.isForType(n))return i}return this.plugins}},{key:"_get",value:function(n,t,i){var o=t.get(n);if(void 0===o)throw new Error('"'+n+'" is not a registered '+i+".");return o}}]),r}(),Ve=new XC,eZ=function(){function r(){(0,M.Z)(this,r),this._init=[]}return(0,R.Z)(r,[{key:"notify",value:function(n,t,i,o){var s=this;"beforeInit"===t&&(s._init=s._createDescriptors(n,!0),s._notify(s._init,n,"install"));var l=o?s._descriptors(n).filter(o):s._descriptors(n),u=s._notify(l,n,t,i);return"destroy"===t&&(s._notify(l,n,"stop"),s._notify(s._init,n,"uninstall")),u}},{key:"_notify",value:function(n,t,i,o){o=o||{};var l,s=(0,V.Z)(n);try{for(s.s();!(l=s.n()).done;){var u=l.value,c=u.plugin;if(!1===de(c[i],[t,o,u.options],c)&&o.cancelable)return!1}}catch(g){s.e(g)}finally{s.f()}return!0}},{key:"invalidate",value:function(){G(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(n){if(this._cache)return this._cache;var t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}},{key:"_createDescriptors",value:function(n,t){var i=n&&n.config,o=Y(i.options&&i.options.plugins,{}),s=function(r){for(var a=[],n=Object.keys(Ve.plugins.items),t=0;t<n.length;t++)a.push(Ve.getPlugin(n[t]));for(var i=r.plugins||[],o=0;o<i.length;o++){var s=i[o];-1===a.indexOf(s)&&a.push(s)}return a}(i);return!1!==o||t?function(r,a,n,t){for(var i=[],o=r.getContext(),s=0;s<a.length;s++){var l=a[s],c=nZ(n[l.id],t);null!==c&&i.push({plugin:l,options:iZ(r.config,l,c,o)})}return i}(n,s,o,t):[]}},{key:"_notifyStateChanges",value:function(n){var t=this._oldCache||[],i=this._cache,o=function(l,u){return l.filter(function(c){return!u.some(function(d){return c.plugin.id===d.plugin.id})})};this._notify(o(t,i),n,"stop"),this._notify(o(i,t),n,"start")}}]),r}();function nZ(r,a){return a||!1!==r?!0===r?{}:r:null}function iZ(r,a,n,t){var i=r.pluginScopeKeys(a),o=r.getOptionScopes(n,i);return r.createResolver(o,t,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hi(r,a){return((a.datasets||{})[r]||{}).indexAxis||a.indexAxis||(K.datasets[r]||{}).indexAxis||"x"}function Vi(r,a){return"x"===r||"y"===r?r:a.axis||function(r){return"top"===r||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0}(a.position)||r.charAt(0).toLowerCase()}function Os(r){var a=r.options||(r.options={});a.plugins=Y(a.plugins,{}),a.scales=function(r,a){var n=At[r.type]||{scales:{}},t=a.scales||{},i=Hi(r.type,a),o=Object.create(null),s=Object.create(null);return Object.keys(t).forEach(function(l){var u=t[l],c=Vi(l,u),d=function(r,a){return r===a?"_index_":"_value_"}(c,i),p=n.scales||{};o[c]=o[c]||l,s[l]=bn(Object.create(null),[{axis:c},u,p[c],p[d]])}),r.data.datasets.forEach(function(l){var u=l.type||r.type,c=l.indexAxis||Hi(u,a),p=(At[u]||{}).scales||{};Object.keys(p).forEach(function(g){var h=function(r,a){var n=r;return"_index_"===r?n=a:"_value_"===r&&(n="x"===a?"y":"x"),n}(g,c),f=l[h+"AxisID"]||o[h]||h;s[f]=s[f]||Object.create(null),bn(s[f],[{axis:h},t[f],p[g]])})}),Object.keys(s).forEach(function(l){var u=s[l];bn(u,[K.scales[u.type],K.scale])}),s}(r,a)}function qs(r){return(r=r||{}).datasets=r.datasets||[],r.labels=r.labels||[],r}var Ds=new Map,Ms=new Set;function Ua(r,a){var n=Ds.get(r);return n||(n=a(),Ds.set(r,n),Ms.add(n)),n}var Ln=function(a,n,t){var i=ot(n,t);void 0!==i&&a.add(i)},cZ=function(){function r(a){(0,M.Z)(this,r),this._config=function(r){return(r=r||{}).data=qs(r.data),Os(r),r}(a),this._scopeCache=new Map,this._resolverCache=new Map}return(0,R.Z)(r,[{key:"type",get:function(){return this._config.type},set:function(n){this._config.type=n}},{key:"data",get:function(){return this._config.data},set:function(n){this._config.data=qs(n)}},{key:"options",get:function(){return this._config.options},set:function(n){this._config.options=n}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var n=this._config;this.clearCache(),Os(n)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(n){return Ua(n,function(){return[["datasets.".concat(n),""]]})}},{key:"datasetAnimationScopeKeys",value:function(n,t){return Ua("".concat(n,".transition.").concat(t),function(){return[["datasets.".concat(n,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(n),""]]})}},{key:"datasetElementScopeKeys",value:function(n,t){return Ua("".concat(n,"-").concat(t),function(){return[["datasets.".concat(n,".elements.").concat(t),"datasets.".concat(n),"elements.".concat(t),""]]})}},{key:"pluginScopeKeys",value:function(n){var t=n.id;return Ua("".concat(this.type,"-plugin-").concat(t),function(){return[["plugins.".concat(t)].concat((0,W.Z)(n.additionalOptionScopes||[]))]})}},{key:"_cachedScopes",value:function(n,t){var i=this._scopeCache,o=i.get(n);return(!o||t)&&(o=new Map,i.set(n,o)),o}},{key:"getOptionScopes",value:function(n,t,i){var o=this.options,s=this.type,l=this._cachedScopes(n,i),u=l.get(t);if(u)return u;var c=new Set;t.forEach(function(p){n&&(c.add(n),p.forEach(function(g){return Ln(c,n,g)})),p.forEach(function(g){return Ln(c,o,g)}),p.forEach(function(g){return Ln(c,At[s]||{},g)}),p.forEach(function(g){return Ln(c,K,g)}),p.forEach(function(g){return Ln(c,xi,g)})});var d=(0,W.Z)(c);return Ms.has(t)&&l.set(t,d),d}},{key:"chartOptionScopes",value:function(){var t=this.type;return[this.options,At[t]||{},K.datasets[t]||{},{type:t},K,xi]}},{key:"resolveNamedOptions",value:function(n,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],s={$shared:!0},l=Rs(this._resolverCache,n,o),u=l.resolver,c=l.subPrefixes,d=u;if(dZ(u,t)){s.$shared=!1,i=Gt(i)?i():i;var p=this.createResolver(n,i,c);d=Xt(u,i,p)}var h,g=(0,V.Z)(t);try{for(g.s();!(h=g.n()).done;){var f=h.value;s[f]=d[f]}}catch(m){g.e(m)}finally{g.f()}return s}},{key:"createResolver",value:function(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],o=arguments.length>3?arguments[3]:void 0,s=Rs(this._resolverCache,n,i),l=s.resolver;return te(t)?Xt(l,t,void 0,o):l}}]),r}();function Rs(r,a,n){var t=r.get(a);t||(t=new Map,r.set(a,t));var i=n.join(),o=t.get(i);return o||(o={resolver:Mi(a,n),subPrefixes:n.filter(function(l){return!l.toLowerCase().includes("hover")})},t.set(i,o)),o}function dZ(r,a){var s,n=Bo(r),t=n.isScriptable,i=n.isIndexable,o=(0,V.Z)(a);try{for(o.s();!(s=o.n()).done;){var l=s.value;if(t(l)&&Gt(r[l])||i(l)&&ce(r[l]))return!0}}catch(u){o.e(u)}finally{o.f()}return!1}var gZ=["top","bottom","left","right","chartArea"];function Is(r,a){return"top"===r||"bottom"===r||-1===gZ.indexOf(r)&&"x"===a}function Us(r,a){return function(n,t){return n[r]===t[r]?n[a]-t[a]:n[r]-t[r]}}function Ps(r){var a=r.chart,n=a.options.animation;a.notifyPlugins("afterRender"),de(n&&n.onComplete,[r],a)}function hZ(r){var a=r.chart,n=a.options.animation;de(n&&n.onProgress,[r],a)}function Es(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Bs(r){return Es()&&"string"==typeof r?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}var Pa={},Ns=function(a){var n=Bs(a);return Object.values(Pa).filter(function(t){return t.canvas===n}).pop()},Fn=function(){function r(a,n){var t=this;(0,M.Z)(this,r);var i=this;this.config=n=new cZ(n);var o=Bs(a),s=Ns(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas can be reused.");var l=n.createResolver(n.chartOptionScopes(),i.getContext());this.platform=i._initializePlatform(o,n);var u=i.platform.acquireContext(o,l.aspectRatio),c=u&&u.canvas,d=c&&c.height,p=c&&c.width;this.id=p1(),this.ctx=u,this.canvas=c,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this.scale=void 0,this._plugins=new eZ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(r,a){var n;return function(){return a?(clearTimeout(n),n=setTimeout(r,a)):r(),a}}(function(){return t.update("resize")},l.resizeDelay||0),Pa[i.id]=i,u&&c?(tt.listen(i,"complete",Ps),tt.listen(i,"progress",hZ),i._initialize(),i.attached&&i.update()):console.error("Failed to create chart: can't acquire context from the given item")}return(0,R.Z)(r,[{key:"aspectRatio",get:function(){var n=this.options,t=n.aspectRatio,i=n.maintainAspectRatio,o=this.width,s=this.height,l=this._aspectRatio;return G(t)?i&&l?l:s?o/s:null:t}},{key:"data",get:function(){return this.config.data},set:function(n){this.config.data=n}},{key:"options",get:function(){return this._options},set:function(n){this.config.options=n}},{key:"_initialize",value:function(){var n=this;return n.notifyPlugins("beforeInit"),n.options.responsive?n.resize():Qo(n,n.options.devicePixelRatio),n.bindEvents(),n.notifyPlugins("afterInit"),n}},{key:"_initializePlatform",value:function(n,t){return t.platform?new t.platform:!Es()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?new ZC:new UC}},{key:"clear",value:function(){return Ro(this.canvas,this.ctx),this}},{key:"stop",value:function(){return tt.stop(this),this}},{key:"resize",value:function(n,t){tt.running(this)?this._resizeBeforeDraw={width:n,height:t}:this._resize(n,t)}},{key:"_resize",value:function(n,t){var i=this,o=i.options,u=i.platform.getMaximumSize(i.canvas,n,t,o.maintainAspectRatio&&i.aspectRatio),c=o.devicePixelRatio||i.platform.getDevicePixelRatio();i.width=u.width,i.height=u.height,i._aspectRatio=i.aspectRatio,Qo(i,c,!0)&&(i.notifyPlugins("resize",{size:u}),de(o.onResize,[i,u],i),i.attached&&i._doResize()&&i.render())}},{key:"ensureScalesHaveIDs",value:function(){oe(this.options.scales||{},function(i,o){i.id=o})}},{key:"buildOrUpdateScales",value:function(){var n=this,t=n.options,i=t.scales,o=n.scales,s=Object.keys(o).reduce(function(u,c){return u[c]=!1,u},{}),l=[];i&&(l=l.concat(Object.keys(i).map(function(u){var c=i[u],d=Vi(u,c),p="r"===d,g="x"===d;return{options:c,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),oe(l,function(u){var c=u.options,d=c.id,p=Vi(d,c),g=Y(c.type,u.dtype);(void 0===c.position||Is(c.position,p)!==Is(u.dposition))&&(c.position=u.dposition),s[d]=!0;var h=null;d in o&&o[d].type===g?h=o[d]:(h=new(Ve.getScale(g))({id:d,type:g,ctx:n.ctx,chart:n}),o[h.id]=h),h.init(c,t)}),oe(s,function(u,c){u||delete o[c]}),oe(o,function(u){Ue_configure(0,u,u.options),Ue_addBox(n,u)})}},{key:"_updateMetasets",value:function(){var n=this,t=n._metasets,i=n.data.datasets.length,o=t.length;if(t.sort(function(l,u){return l.index-u.index}),o>i){for(var s=i;s<o;++s)n._destroyDatasetMeta(s);t.splice(i,o-i)}n._sortedMetasets=t.slice(0).sort(Us("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var n=this,t=n._metasets,i=n.data.datasets;t.length>i.length&&delete n._stacks,t.forEach(function(o,s){0===i.filter(function(l){return l===o._dataset}).length&&n._destroyDatasetMeta(s)})}},{key:"buildOrUpdateControllers",value:function(){var o,s,n=this,t=[],i=n.data.datasets;for(n._removeUnreferencedMetasets(),o=0,s=i.length;o<s;o++){var l=i[o],u=n.getDatasetMeta(o),c=l.type||n.config.type;if(u.type&&u.type!==c&&(n._destroyDatasetMeta(o),u=n.getDatasetMeta(o)),u.type=c,u.indexAxis=l.indexAxis||Hi(c,n.options),u.order=l.order||0,u.index=o,u.label=""+l.label,u.visible=n.isDatasetVisible(o),u.controller)u.controller.updateIndex(o),u.controller.linkScales();else{var d=Ve.getController(c),p=K.datasets[c],g=p.datasetElementType;Object.assign(d.prototype,{dataElementType:Ve.getElement(p.dataElementType),datasetElementType:g&&Ve.getElement(g)}),u.controller=new d(n,o),t.push(u.controller)}}return n._updateMetasets(),t}},{key:"_resetElements",value:function(){var n=this;oe(n.data.datasets,function(t,i){n.getDatasetMeta(i).controller.reset()},n)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(n){var t=this,i=t.config;i.update(),t._options=i.createResolver(i.chartOptionScopes(),t.getContext()),oe(t.scales,function(m){Ue_removeBox(t,m)});var o=t._animationsDisabled=!t.options.animation;if(t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),(!function(a,n){if(a.size!==n.size)return!1;var i,t=(0,V.Z)(a);try{for(t.s();!(i=t.n()).done;)if(!n.has(i.value))return!1}catch(s){t.e(s)}finally{t.f()}return!0}(new Set(Object.keys(t._listeners)),new Set(t.options.events))||!!this._responsiveListeners!==t.options.responsive)&&(t.unbindEvents(),t.bindEvents()),t._plugins.invalidate(),!1!==t.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})){var u=t.buildOrUpdateControllers();t.notifyPlugins("beforeElementsUpdate");for(var c=0,d=0,p=t.data.datasets.length;d<p;d++){var h=t.getDatasetMeta(d).controller,f=!o&&-1===u.indexOf(h);h.buildOrUpdateElements(f),c=Math.max(+h.getMaxOverflow(),c)}t._minPadding=c,t._updateLayout(c),o||oe(u,function(m){m.reset()}),t._updateDatasets(n),t.notifyPlugins("afterUpdate",{mode:n}),t._layers.sort(Us("z","_idx")),t._lastEvent&&t._eventHandler(t._lastEvent,!0),t.render()}}},{key:"_updateLayout",value:function(n){var t=this;if(!1!==t.notifyPlugins("beforeLayout",{cancelable:!0})){!function(a,n,t,i){if(a){var o=ke(a.options.layout.padding),s=Math.max(n-o.width,0),l=Math.max(t-o.height,0),u=function(r){var a=function(r){var n,t,i,a=[];for(n=0,t=(r||[]).length;n<t;++n)a.push({index:n,box:i=r[n],pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return a}(r),n=Un(a.filter(function(c){return c.box.fullSize}),!0),t=Un(In(a,"left"),!0),i=Un(In(a,"right")),o=Un(In(a,"top"),!0),s=Un(In(a,"bottom")),l=ms(a,"x"),u=ms(a,"y");return{fullSize:n,leftAndTop:t.concat(o),rightAndBottom:i.concat(u).concat(s).concat(l),chartArea:In(a,"chartArea"),vertical:t.concat(i).concat(u),horizontal:o.concat(s).concat(l)}}(a.boxes),c=u.vertical,d=u.horizontal;oe(a.boxes,function(m){"function"==typeof m.beforeLayout&&m.beforeLayout()});var p=c.reduce(function(m,v){return v.box.options&&!1===v.box.options.display?m:m+1},0)||1,g=Object.freeze({outerWidth:n,outerHeight:t,padding:o,availableWidth:s,availableHeight:l,vBoxMaxWidth:s/2/p,hBoxMaxHeight:l/2}),h=Object.assign({},o);bs(h,ke(i));var f=Object.assign({maxPadding:h,w:s,h:l,x:o.left,y:o.top},o);(function(r,a){var n,t,i;for(n=0,t=r.length;n<t;++n)(i=r[n]).horizontal?(i.width=i.box.fullSize&&a.availableWidth,i.height=a.hBoxMaxHeight):(i.width=a.vBoxMaxWidth,i.height=i.box.fullSize&&a.availableHeight)})(c.concat(d),g),Pn(u.fullSize,f,g),Pn(c,f,g),Pn(d,f,g)&&Pn(c,f,g),function(r){var a=r.maxPadding;function n(t){var i=Math.max(a[t]-r[t],0);return r[t]+=i,i}r.y+=n("top"),r.x+=n("left"),n("right"),n("bottom")}(f),ys(u.leftAndTop,f,g),f.x+=f.w,f.y+=f.h,ys(u.rightAndBottom,f,g),a.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},oe(u.chartArea,function(m){var v=m.box;Object.assign(v,a.chartArea),v.update(f.w,f.h)})}}(t,t.width,t.height,n);var i=t.chartArea,o=i.width<=0||i.height<=0;t._layers=[],oe(t.boxes,function(s){var l;o&&"chartArea"===s.position||(s.configure&&s.configure(),(l=t._layers).push.apply(l,(0,W.Z)(s._layers())))},t),t._layers.forEach(function(s,l){s._idx=l}),t.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(n){var t=this,i="function"==typeof n;if(!1!==t.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})){for(var o=0,s=t.data.datasets.length;o<s;++o)t._updateDataset(o,i?n({datasetIndex:o}):n);t.notifyPlugins("afterDatasetsUpdate",{mode:n})}}},{key:"_updateDataset",value:function(n,t){var i=this,o=i.getDatasetMeta(n),s={meta:o,index:n,mode:t,cancelable:!0};!1!==i.notifyPlugins("beforeDatasetUpdate",s)&&(o.controller._update(t),s.cancelable=!1,i.notifyPlugins("afterDatasetUpdate",s))}},{key:"render",value:function(){var n=this;!1!==n.notifyPlugins("beforeRender",{cancelable:!0})&&(tt.has(n)?n.attached&&!tt.running(n)&&tt.start(n):(n.draw(),Ps({chart:n})))}},{key:"draw",value:function(){var t,n=this;if(n._resizeBeforeDraw){var i=n._resizeBeforeDraw;n._resize(i.width,i.height),n._resizeBeforeDraw=null}if(n.clear(),!(n.width<=0||n.height<=0)&&!1!==n.notifyPlugins("beforeDraw",{cancelable:!0})){var l=n._layers;for(t=0;t<l.length&&l[t].z<=0;++t)l[t].draw(n.chartArea);for(n._drawDatasets();t<l.length;++t)l[t].draw(n.chartArea);n.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(n){var s,l,i=this._sortedMetasets,o=[];for(s=0,l=i.length;s<l;++s){var u=i[s];(!n||u.visible)&&o.push(u)}return o}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){var n=this;if(!1!==n.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var t=n.getSortedVisibleDatasetMetas(),i=t.length-1;i>=0;--i)n._drawDataset(t[i]);n.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(n){var t=this,i=t.ctx,o=n._clip,s=t.chartArea,l={meta:n,index:n.index,cancelable:!0};!1!==t.notifyPlugins("beforeDatasetDraw",l)&&(Sn(i,{left:!1===o.left?0:s.left-o.left,right:!1===o.right?t.width:s.right+o.right,top:!1===o.top?0:s.top-o.top,bottom:!1===o.bottom?t.height:s.bottom+o.bottom}),n.controller.draw(),An(i),l.cancelable=!1,t.notifyPlugins("afterDatasetDraw",l))}},{key:"getElementsAtEventForMode",value:function(n,t,i,o){var s=fC.modes[t];return"function"==typeof s?s(this,n,i,o):[]}},{key:"getDatasetMeta",value:function(n){var i=this.data.datasets[n],o=this._metasets,s=o.filter(function(l){return l&&l._dataset===i}).pop();return s||o.push(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:n,_dataset:i,_parsed:[],_sorted:!1}),s}},{key:"getContext",value:function(){return this.$context||(this.$context={chart:this,type:"chart"})}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(n){var t=this.data.datasets[n];if(!t)return!1;var i=this.getDatasetMeta(n);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}},{key:"setDatasetVisibility",value:function(n,t){this.getDatasetMeta(n).hidden=!t}},{key:"toggleDataVisibility",value:function(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}},{key:"getDataVisibility",value:function(n){return!this._hiddenIndices[n]}},{key:"_updateDatasetVisibility",value:function(n,t){var i=this,o=t?"show":"hide",s=i.getDatasetMeta(n),l=s.controller._resolveAnimations(void 0,o);i.setDatasetVisibility(n,t),l.update(s,{visible:t}),i.update(function(u){return u.datasetIndex===n?o:void 0})}},{key:"hide",value:function(n){this._updateDatasetVisibility(n,!1)}},{key:"show",value:function(n){this._updateDatasetVisibility(n,!0)}},{key:"_destroyDatasetMeta",value:function(n){var t=this,i=t._metasets&&t._metasets[n];i&&i.controller&&(i.controller._destroy(),delete t._metasets[n])}},{key:"destroy",value:function(){var o,s,n=this,t=n.canvas,i=n.ctx;for(n.stop(),tt.remove(n),o=0,s=n.data.datasets.length;o<s;++o)n._destroyDatasetMeta(o);n.config.clearCache(),t&&(n.unbindEvents(),Ro(t,i),n.platform.releaseContext(i),n.canvas=null,n.ctx=null),n.notifyPlugins("destroy"),delete Pa[n.id]}},{key:"toBase64Image",value:function(){var n;return(n=this.canvas).toDataURL.apply(n,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var n=this,t=n._listeners,i=n.platform,s=function(u,c,d){u.offsetX=c,u.offsetY=d,n._eventHandler(u)};oe(n.options.events,function(l){return i.addEventListener(n,u=l,c=s),void(t[u]=c);var u,c})}},{key:"bindResponsiveEvents",value:function(){var n=this;n._responsiveListeners||(n._responsiveListeners={});var u,t=n._responsiveListeners,i=n.platform,o=function(p,g){i.addEventListener(n,p,g),t[p]=g},s=function(p,g){t[p]&&(i.removeEventListener(n,p,g),delete t[p])},l=function(p,g){n.canvas&&n.resize(p,g)},c=function d(){s("attach",d),n.attached=!0,n.resize(),o("resize",l),o("detach",u)};u=function(){n.attached=!1,s("resize",l),o("attach",c)},i.isAttached(n.canvas)?c():u()}},{key:"unbindEvents",value:function(){var n=this;oe(n._listeners,function(t,i){n.platform.removeEventListener(n,i,t)}),n._listeners={},oe(n._responsiveListeners,function(t,i){n.platform.removeEventListener(n,i,t)}),n._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(n,t,i){var l,u,c,o=i?"set":"remove";for("dataset"===t&&this.getDatasetMeta(n[0].datasetIndex).controller["_"+o+"DatasetHoverStyle"](),u=0,c=n.length;u<c;++u){var d=(l=n[u])&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(n){var t=this,i=t._active||[],o=n.map(function(l){var u=l.datasetIndex,c=l.index,d=t.getDatasetMeta(u);if(!d)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:d.data[c],index:c}});!ua(o,i)&&(t._active=o,t._updateHoverStyles(o,i))}},{key:"notifyPlugins",value:function(n,t,i){return this._plugins.notify(this,n,t,i)}},{key:"_updateHoverStyles",value:function(n,t,i){var o=this,s=o.options.hover,l=function(p,g){return p.filter(function(h){return!g.some(function(f){return h.datasetIndex===f.datasetIndex&&h.index===f.index})})},u=l(t,n),c=i?n:l(n,t);u.length&&o.updateHoverStyle(u,s.mode,!1),c.length&&s.mode&&o.updateHoverStyle(c,s.mode,!0)}},{key:"_eventHandler",value:function(n,t){var i=this,o=this,s={event:n,replay:t,cancelable:!0},l=function(d){return(d.options.events||i.options.events).includes(n.type)};if(!1!==o.notifyPlugins("beforeEvent",s,l)){var u=o._handleEvent(n,t);return s.cancelable=!1,o.notifyPlugins("afterEvent",s,l),(u||s.changed)&&o.render(),o}}},{key:"_handleEvent",value:function(n,t){var p,i=this,o=i._active,s=void 0===o?[]:o,l=i.options,u=l.hover,d=[],g=null;return"mouseout"!==n.type&&(d=i.getElementsAtEventForMode(n,u.mode,u,t),g="click"===n.type?i._lastEvent:n),i._lastEvent=null,jt(n,i.chartArea,i._minPadding)&&(de(l.onHover,[n,d,i],i),("mouseup"===n.type||"click"===n.type||"contextmenu"===n.type)&&de(l.onClick,[n,d,i],i)),((p=!ua(d,s))||t)&&(i._active=d,i._updateHoverStyles(d,s,t)),i._lastEvent=g,p}}]),r}(),Ls=function(){return oe(Fn.instances,function(a){return a._plugins.invalidate()})},lt=!0;function Fs(r,a,n){var t=a.startAngle,i=a.pixelMargin,o=a.x,s=a.y,l=a.outerRadius,u=a.innerRadius,c=i/l;r.beginPath(),r.arc(o,s,l,t-c,n+c),u>i?r.arc(o,s,u,n+(c=i/u),t-c,!0):r.arc(o,s,i,n+ve,t-ve),r.closePath(),r.clip()}function tn(r,a,n,t){return{x:n+r*Math.cos(a),y:t+r*Math.sin(a)}}function Ji(r,a,n,t){var i=a.x,o=a.y,s=a.startAngle,l=a.pixelMargin,u=a.innerRadius,c=Math.max(a.outerRadius+n-l,0),d=u>0?u+n+l:0,p=t-s,h=(p-Math.max(.001,p*c-n/fe)/c)/2,f=s+h,m=t-h,v=function(r,a,n,t){var i=function(r){return qi(r,["outerStart","outerEnd","innerStart","innerEnd"])}(r.options.borderRadius),o=(n-a)/2,s=Math.min(o,t*a/2),l=function(c){var d=(n-Math.min(o,c))*t/2;return we(c,0,Math.min(o,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:we(i.innerStart,0,s),innerEnd:we(i.innerEnd,0,s)}}(a,d,c,m-f),b=v.outerStart,y=v.outerEnd,_=v.innerStart,C=v.innerEnd,Z=c-b,S=c-y,A=f+b/Z,x=m-y/S,w=d+_,O=d+C,U=f+_/w,P=m-C/O;if(r.beginPath(),r.arc(i,o,c,A,x),y>0){var L=tn(S,x,i,o);r.arc(L.x,L.y,y,x,m+ve)}var H=tn(O,m,i,o);if(r.lineTo(H.x,H.y),C>0){var Q=tn(O,P,i,o);r.arc(Q.x,Q.y,C,m+ve,P+Math.PI)}if(r.arc(i,o,d,m-C/d,f+_/d,!0),_>0){var se=tn(w,U,i,o);r.arc(se.x,se.y,_,U+Math.PI,f-ve)}var be=tn(Z,f,i,o);if(r.lineTo(be.x,be.y),b>0){var Ae=tn(Z,A,i,o);r.arc(Ae.x,Ae.y,b,f-ve,A)}r.closePath()}Object.defineProperties(Fn,{defaults:{enumerable:lt,value:K},instances:{enumerable:lt,value:Pa},overrides:{enumerable:lt,value:At},registry:{enumerable:lt,value:Ve},version:{enumerable:lt,value:"3.3.2"},getChart:{enumerable:lt,value:Ns},register:{enumerable:lt,value:function(){Ve.add.apply(Ve,arguments),Ls()}},unregister:{enumerable:lt,value:function(){Ve.remove.apply(Ve,arguments),Ls()}}});var Ea=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this)).options=void 0,i.circumference=void 0,i.startAngle=void 0,i.endAngle=void 0,i.innerRadius=void 0,i.outerRadius=void 0,i.pixelMargin=0,i.fullCircles=0,t&&Object.assign((0,la.Z)(i),t),i}return(0,R.Z)(n,[{key:"inRange",value:function(i,o,s){var u=function(r,a){var n=a.x-r.x,t=a.y-r.y,i=Math.sqrt(n*n+t*t),o=Math.atan2(t,n);return o<-.5*fe&&(o+=le),{angle:o,distance:i}}(this.getProps(["x","y"],s),{x:i,y:o}),c=u.angle,d=u.distance,p=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=p.innerRadius,m=p.outerRadius;return(p.circumference>=le||ga(c,p.startAngle,p.endAngle))&&d>=f&&d<=m}},{key:"getCenterPoint",value:function(i){var o=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],i),l=o.y,g=(o.startAngle+o.endAngle)/2,h=(o.innerRadius+o.outerRadius)/2;return{x:o.x+Math.cos(g)*h,y:l+Math.sin(g)*h}}},{key:"tooltipPosition",value:function(i){return this.getCenterPoint(i)}},{key:"draw",value:function(i){var o=this,s=o.options,l=o.circumference,u=(s.offset||0)/2;if(o.pixelMargin="inner"===s.borderAlign?.33:0,o.fullCircles=l>le?Math.floor(l/le):0,!(0===l||o.innerRadius<0||o.outerRadius<0)){i.save();var c=0;if(u){c=u/2;var d=(o.startAngle+o.endAngle)/2;i.translate(Math.cos(d)*c,Math.sin(d)*c),o.circumference>=fe&&(c=u)}i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor;var p=function(r,a,n){var t=a.fullCircles,i=a.startAngle,o=a.circumference,s=a.endAngle;if(t){Ji(r,a,n,i+le);for(var l=0;l<t;++l)r.fill();isNaN(o)||(s=i+o%le,o%le==0&&(s+=le))}return Ji(r,a,n,s),r.fill(),s}(i,o,c);(function(r,a,n,t){var i=a.options,o="inner"===i.borderAlign;!i.borderWidth||(o?(r.lineWidth=2*i.borderWidth,r.lineJoin="round"):(r.lineWidth=i.borderWidth,r.lineJoin="bevel"),a.fullCircles&&function(r,a,n){var d,t=a.x,i=a.y,o=a.startAngle,s=a.pixelMargin,l=a.fullCircles,u=Math.max(a.outerRadius-s,0),c=a.innerRadius+s;for(n&&Fs(r,a,o+le),r.beginPath(),r.arc(t,i,c,o+le,o,!0),d=0;d<l;++d)r.stroke();for(r.beginPath(),r.arc(t,i,u,o,o+le),d=0;d<l;++d)r.stroke()}(r,a,o),o&&Fs(r,a,t),Ji(r,a,n,t),r.stroke())})(i,o,c,p),i.restore()}}}]),n}(He);function zs(r,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;r.lineCap=Y(n.borderCapStyle,a.borderCapStyle),r.setLineDash(Y(n.borderDash,a.borderDash)),r.lineDashOffset=Y(n.borderDashOffset,a.borderDashOffset),r.lineJoin=Y(n.borderJoinStyle,a.borderJoinStyle),r.lineWidth=Y(n.borderWidth,a.borderWidth),r.strokeStyle=Y(n.borderColor,a.borderColor)}function _Z(r,a,n){r.lineTo(n.x,n.y)}function Hs(r,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=r.length,i=n.start,o=void 0===i?0:i,s=n.end,l=void 0===s?t-1:s,u=a.start,c=a.end,d=Math.max(o,u),p=Math.min(l,c),g=o<u&&l<u||o>c&&l>c;return{count:t,start:d,loop:a.loop,ilen:p<d&&!g?t+p-d:p-d}}function CZ(r,a,n,t){var v,b,y,i=a.points,o=a.options,s=Hs(i,n,t),l=s.count,u=s.start,c=s.loop,d=s.ilen,p=function(r){return r.stepped?$1:r.tension||"monotone"===r.cubicInterpolationMode?G1:_Z}(o),g=t||{},h=g.move,f=void 0===h||h,m=g.reverse;for(v=0;v<=d;++v)!(b=i[(u+(m?d-v:v))%l]).skip&&(f?(r.moveTo(b.x,b.y),f=!1):p(r,y,b,m,o.stepped),y=b);return c&&p(r,y,b=i[(u+(m?d:0))%l],m,o.stepped),!!c}function ZZ(r,a,n,t){var m,v,b,y,_,C,i=a.points,o=Hs(i,n,t),s=o.count,l=o.start,u=o.ilen,c=t||{},d=c.move,g=c.reverse,h=0,f=0,Z=function(U){return(l+(g?u-U:U))%s},S=function(){y!==_&&(r.lineTo(h,_),r.lineTo(h,y),r.lineTo(h,C))};for((void 0===d||d)&&(v=i[Z(0)],r.moveTo(v.x,v.y)),m=0;m<=u;++m)if(!(v=i[Z(m)]).skip){var A=v.x,x=v.y,w=0|A;w===b?(x<y?y=x:x>_&&(_=x),h=(f*h+A)/++f):(S(),r.lineTo(A,x),b=w,f=0,y=_=x),C=x}S()}function Yi(r){var a=r.options;return r._decimated||r._loop||a.tension||"monotone"===a.cubicInterpolationMode||a.stepped||a.borderDash&&a.borderDash.length?CZ:ZZ}Ea.id="arc",Ea.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,angle:void 0},Ea.defaultRoutes={backgroundColor:"backgroundColor"};var wZ="function"==typeof Path2D;var ut=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this)).animated=!0,i.options=void 0,i._loop=void 0,i._fullLoop=void 0,i._path=void 0,i._points=void 0,i._segments=void 0,i._decimated=!1,i._pointsUpdated=!1,t&&Object.assign((0,la.Z)(i),t),i}return(0,R.Z)(n,[{key:"updateControlPoints",value:function(i,o){var s=this,l=s.options;!l.tension&&"monotone"!==l.cubicInterpolationMode||l.stepped||s._pointsUpdated||(function(r,a,n,t,i){var o,s,l,u;if(a.spanGaps&&(r=r.filter(function(d){return!d.skip})),"monotone"===a.cubicInterpolationMode)!function(r){var s,l,u,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=Jo(a),t=r.length,i=Array(t).fill(0),o=Array(t),c=en(r,0);for(s=0;s<t;++s)if(l=u,u=c,c=en(r,s+1),u){if(c){var d=c[a]-u[a];i[s]=0!==d?(c[n]-u[n])/d:0}o[s]=l?c?st(i[s-1])!==st(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}mT(r,i,o),vT(r,o,a)}(r,i);else{var c=t?r[r.length-1]:r[0];for(o=0,s=r.length;o<s;++o)u=fT(c,l=r[o],r[Math.min(o+1,s-(t?0:1))%s],a.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,c=l}a.capBezierPoints&&function(r,a){var n,t,i,o,s,l=jt(r[0],a);for(n=0,t=r.length;n<t;++n)s=o,o=l,l=n<t-1&&jt(r[n+1],a),o&&(i=r[n],s&&(i.cp1x=Za(i.cp1x,a.left,a.right),i.cp1y=Za(i.cp1y,a.top,a.bottom)),l&&(i.cp2x=Za(i.cp2x,a.left,a.right),i.cp2y=Za(i.cp2y,a.top,a.bottom)))}(r,n)}(s._points,l,i,l.spanGaps?s._loop:s._fullLoop,o),s._pointsUpdated=!0)}},{key:"points",get:function(){return this._points},set:function(i){var o=this;o._points=i,delete o._segments,delete o._path,o._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=function(r,a){var n=r.points,t=r.options.spanGaps,i=n.length;if(!i)return[];var o=!!r._loop,s=function(r,a,n,t){var i=0,o=a-1;if(n&&!t)for(;i<a&&!r[i].skip;)i++;for(;i<a&&r[i].skip;)i++;for(i%=a,n&&(o+=i);o>i&&r[o%a].skip;)o--;return{start:i,end:o%=a}}(n,i,o,t),l=s.start,u=s.end;return function(r,a,n){return n&&n.setContext&&a?function(r,a,n){var u,t=a.length,i=[],o=r[0].start,s=o,l=(0,V.Z)(r);try{for(l.s();!(u=l.n()).done;){var c=u.value,d=void 0,p=void 0,g=a[o%t];for(s=o+1;s<=c.end;s++){var h=a[s%t];NT(p=BT(n.setContext({type:"segment",p0:g,p1:h})),d)&&(i.push({start:o,end:s-1,loop:c.loop,style:d}),d=p,o=s-1),g=h,d=p}o<s-1&&(i.push({start:o,end:s-1,loop:c.loop,style:p}),o=s-1)}}catch(f){l.e(f)}finally{l.f()}return i}(r,a,n):r}(!0===t?[{start:l,end:u,loop:o}]:function(r,a,n,t){var u,i=r.length,o=[],s=a,l=r[a];for(u=a+1;u<=n;++u){var c=r[u%i];c.skip||c.stop?l.skip||(o.push({start:a%i,end:(u-1)%i,loop:t=!1}),a=s=c.stop?u:null):(s=u,l.skip&&(a=u)),l=c}return null!==s&&o.push({start:a%i,end:s%i,loop:t}),o}(n,l,u<l?u+i:u,!!r._fullLoop&&0===l&&u===i-1),n,a)}(this,this.options.segment))}},{key:"first",value:function(){var i=this.segments;return i.length&&this.points[i[0].start]}},{key:"last",value:function(){var i=this.segments,s=i.length;return s&&this.points[i[s-1].end]}},{key:"interpolate",value:function(i,o){var s=this,l=s.options,u=i[o],c=s.points,d=ts(s,{property:o,start:u,end:u});if(d.length){var h,f,p=[],g=function(r){return r.stepped?xT:r.tension||"monotone"===r.cubicInterpolationMode?OT:Mt}(l);for(h=0,f=d.length;h<f;++h){var m=d[h],y=c[m.start],_=c[m.end];if(y!==_){var Z=g(y,_,Math.abs((u-y[o])/(_[o]-y[o])),l.stepped);Z[o]=i[o],p.push(Z)}else p.push(y)}return 1===p.length?p[0]:p}}},{key:"pathSegment",value:function(i,o,s){return Yi(this)(i,this,o,s)}},{key:"path",value:function(i,o,s){var l=this,u=l.segments,c=Yi(l),d=l._loop;o=o||0,s=s||l.points.length-o;var g,p=(0,V.Z)(u);try{for(p.s();!(g=p.n()).done;)d&=c(i,l,g.value,{start:o,end:o+s-1})}catch(f){p.e(f)}finally{p.f()}return!!d}},{key:"draw",value:function(i,o,s,l){var u=this;!(u.points||[]).length||!(u.options||{}).borderWidth||(i.save(),function(r,a,n,t){wZ&&1===a.segments.length?function(r,a,n,t){var i=a._path;i||(i=a._path=new Path2D,a.path(i,n,t)&&i.closePath()),zs(r,a.options),r.stroke(i)}(r,a,n,t):function(r,a,n,t){var u,i=a.segments,o=a.options,s=Yi(a),l=(0,V.Z)(i);try{for(l.s();!(u=l.n()).done;){var c=u.value;zs(r,o,c.style),r.beginPath(),s(r,a,c,{start:n,end:n+t-1})&&r.closePath(),r.stroke()}}catch(d){l.e(d)}finally{l.f()}}(r,a,n,t)}(i,u,s,l),i.restore(),u.animated&&(u._pointsUpdated=!1,u._path=void 0))}}]),n}(He);function Vs(r,a,n,t){var i=r.options,o=r.getProps([n],t);return Math.abs(a-o[n])<i.radius+i.hitRadius}ut.id="line",ut.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},ut.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},ut.descriptors={_scriptable:!0,_indexable:function(a){return"borderDash"!==a&&"fill"!==a}};var Ba=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this)).options=void 0,i.parsed=void 0,i.skip=void 0,i.stop=void 0,t&&Object.assign((0,la.Z)(i),t),i}return(0,R.Z)(n,[{key:"inRange",value:function(i,o,s){var l=this.options,u=this.getProps(["x","y"],s),d=u.y;return Math.pow(i-u.x,2)+Math.pow(o-d,2)<Math.pow(l.hitRadius+l.radius,2)}},{key:"inXRange",value:function(i,o){return Vs(this,i,"x",o)}},{key:"inYRange",value:function(i,o){return Vs(this,i,"y",o)}},{key:"getCenterPoint",value:function(i){var o=this.getProps(["x","y"],i);return{x:o.x,y:o.y}}},{key:"size",value:function(i){var o=(i=i||this.options||{}).radius||0;return 2*((o=Math.max(o,o&&i.hoverRadius||0))+(o&&i.borderWidth||0))}},{key:"draw",value:function(i){var o=this,s=o.options;o.skip||s.radius<.1||(i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.fillStyle=s.backgroundColor,_a(i,s,o.x,o.y))}},{key:"getRange",value:function(){var i=this.options||{};return i.radius+i.hitRadius}}]),n}(He);function Js(r,a){var u,c,d,p,g,n=r.getProps(["x","y","base","width","height"],a),t=n.x,i=n.y,o=n.base,s=n.width;return r.horizontal?(g=n.height/2,u=Math.min(t,o),c=Math.max(t,o),d=i-g,p=i+g):(u=t-(g=s/2),c=t+g,d=Math.min(i,o),p=Math.max(i,o)),{left:u,top:d,right:c,bottom:p}}function Ys(r){var a=r.options.borderSkipped,n={};return a&&(n[a=r.horizontal?Qs(a,"left","right",r.base>r.x):Qs(a,"bottom","top",r.base<r.y)]=!0),n}function Qs(r,a,n,t){return t?(r=function(r,a,n){return r===a?n:r===n?a:r}(r,a,n),r=Ks(r,n,a)):r=Ks(r,a,n),r}function Ks(r,a,n){return"start"===r?a:"end"===r?n:r}function ct(r,a,n,t){return r?0:Math.max(Math.min(a,t),n)}function Qi(r,a,n,t){var i=null===a,o=null===n,l=r&&!(i&&o)&&Js(r,t);return l&&(i||a>=l.left&&a<=l.right)&&(o||n>=l.top&&n<=l.bottom)}function IZ(r,a){r.rect(a.x,a.y,a.w,a.h)}Ba.id="point",Ba.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Ba.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Na=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this)).options=void 0,i.horizontal=void 0,i.base=void 0,i.width=void 0,i.height=void 0,t&&Object.assign((0,la.Z)(i),t),i}return(0,R.Z)(n,[{key:"draw",value:function(i){var o=this.options,s=function(r){var a=Js(r),n=a.right-a.left,t=a.bottom-a.top,i=function(r,a,n){var t=r.options.borderWidth,i=Ys(r),o=Io(t);return{t:ct(i.top,o.top,0,n),r:ct(i.right,o.right,0,a),b:ct(i.bottom,o.bottom,0,n),l:ct(i.left,o.left,0,a)}}(r,n/2,t/2),o=function(r,a,n){var i=r.getProps(["enableBorderRadius"]).enableBorderRadius,o=r.options.borderRadius,s=Di(o),l=Math.min(a,n),u=Ys(r),c=i||te(o);return{topLeft:ct(!c||u.top||u.left,s.topLeft,0,l),topRight:ct(!c||u.top||u.right,s.topRight,0,l),bottomLeft:ct(!c||u.bottom||u.left,s.bottomLeft,0,l),bottomRight:ct(!c||u.bottom||u.right,s.bottomRight,0,l)}}(r,n/2,t/2);return{outer:{x:a.left,y:a.top,w:n,h:t,radius:o},inner:{x:a.left+i.l,y:a.top+i.t,w:n-i.l-i.r,h:t-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}(this),l=s.inner,u=s.outer,c=function(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}(u.radius)?Ta:IZ;i.save(),(u.w!==l.w||u.h!==l.h)&&(i.beginPath(),c(i,u),i.clip(),c(i,l),i.fillStyle=o.borderColor,i.fill("evenodd")),i.beginPath(),c(i,l),i.fillStyle=o.backgroundColor,i.fill(),i.restore()}},{key:"inRange",value:function(i,o,s){return Qi(this,i,o,s)}},{key:"inXRange",value:function(i,o){return Qi(this,i,null,o)}},{key:"inYRange",value:function(i,o){return Qi(this,null,i,o)}},{key:"getCenterPoint",value:function(i){var o=this.getProps(["x","y","base","horizontal"],i),s=o.x,l=o.y,u=o.base,c=o.horizontal;return{x:c?(s+u)/2:s,y:c?l:(l+u)/2}}},{key:"getRange",value:function(i){return"x"===i?this.width/2:this.height/2}}]),n}(He);Na.id="bar",Na.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0},Na.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var UZ=Object.freeze({__proto__:null,ArcElement:Ea,LineElement:ut,PointElement:Ba,BarElement:Na});function $s(r){if(r._decimated){var a=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{value:a})}}function Gs(r){r.data.datasets.forEach(function(a){$s(a)})}var NZ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(a,n,t){if(t.enabled){var i=a.width;a.data.datasets.forEach(function(o,s){var l=o._data,u=o.indexAxis,c=a.getDatasetMeta(s),d=l||o.data;if("y"!==wn([u,a.options.indexAxis])&&"line"===c.type){var p=a.scales[c.xAxisID];if(("linear"===p.type||"time"===p.type)&&!a.options.parsing){var m,g=function(r,a){var n=a.length,t=0,o=r.iScale,s=o.getUserBounds(),u=s.max,d=s.maxDefined;return s.minDefined&&(t=we(Ot(a,o.axis,s.min).lo,0,n-1)),{start:t,count:d?we(Ot(a,o.axis,u).hi+1,t,n)-t:n-t}}(c,d),h=g.start,f=g.count;if(f<=4*i)return void $s(o);switch(G(l)&&(o._data=d,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}})),t.algorithm){case"lttb":m=function(r,a,n,t,i){var o=i.samples||t;if(o>=n)return r.slice(a,a+n);var p,g,h,f,m,s=[],l=(n-2)/(o-2),u=0,c=a+n-1,d=a;for(s[u++]=r[d],p=0;p<o-2;p++){var v=0,b=0,y=void 0,_=Math.floor((p+1)*l)+1+a,C=Math.min(Math.floor((p+2)*l)+1,n)+a,Z=C-_;for(y=_;y<C;y++)v+=r[y].x,b+=r[y].y;v/=Z,b/=Z;var S=Math.floor(p*l)+1+a,A=Math.floor((p+1)*l)+1+a,x=r[d],w=x.x,O=x.y;for(h=f=-1,y=S;y<A;y++)(f=.5*Math.abs((w-v)*(r[y].y-O)-(w-r[y].x)*(b-O)))>h&&(h=f,g=r[y],m=y);s[u++]=g,d=m}return s[u++]=r[c],s}(d,h,f,i,t);break;case"min-max":m=function(r,a,n,t){var s,l,c,d,p,g,h,f,m,i=0,o=0,v=[],y=r[a].x,C=r[a+n-1].x-y;for(s=a;s<a+n;++s){c=(l=r[s]).y;var Z=0|(l.x-y)/C*t;if(Z===d)c<f?(f=c,p=s):c>m&&(m=c,g=s),i=(o*i+l.x)/++o;else{var S=s-1;if(!G(p)&&!G(g)){var A=Math.min(p,g),x=Math.max(p,g);A!==h&&A!==S&&v.push(sa(sa({},r[A]),{},{x:i})),x!==h&&x!==S&&v.push(sa(sa({},r[x]),{},{x:i}))}s>0&&S!==h&&v.push(r[S]),v.push(l),d=Z,o=0,f=m=c,p=g=h=s}}return v}(d,h,f,i);break;default:throw new Error("Unsupported decimation algorithm '".concat(t.algorithm,"'"))}o._decimated=m}}})}else Gs(a)},destroy:function(a){Gs(a)}};function zZ(r,a,n){var t=function(r){var a=r.options,n=a.fill,t=Y(n&&n.target,n);return void 0===t&&(t=!!a.backgroundColor),!1!==t&&null!==t&&(!0===t?"origin":t)}(r);if(te(t))return!isNaN(t.value)&&t;var i=parseFloat(t);return me(i)&&Math.floor(i)===i?(("-"===t[0]||"+"===t[0])&&(i=a+i),!(i===a||i<0||i>=n)&&i):["origin","start","end","stack"].indexOf(t)>=0&&t}var Ws=function(){function r(a){(0,M.Z)(this,r),this.x=a.x,this.y=a.y,this.radius=a.radius}return(0,R.Z)(r,[{key:"pathSegment",value:function(n,t,i){return n.arc(this.x,this.y,this.radius,(t=t||{start:0,end:le}).end,t.start,!0),!i.bounds}},{key:"interpolate",value:function(n){var i=this.y,o=this.radius,s=n.angle;return{x:this.x+Math.cos(s)*o,y:i+Math.sin(s)*o,angle:s}}}]),r}();var KZ=function(a){return"line"===a.type&&!a.hidden};function GZ(r,a,n){for(var t=[],i=0;i<n.length;i++){var s=WZ(n[i],a,"x"),l=s.first,u=s.last,c=s.point;if(!(!c||l&&u))if(l)t.unshift(c);else if(r.push(c),!u)break}r.push.apply(r,t)}function WZ(r,a,n){var t=r.interpolate(a,n);if(!t)return{};for(var i=t[n],o=r.segments,s=r.points,l=!1,u=!1,c=0;c<o.length;c++){var d=o[c],p=s[d.start][n],g=s[d.end][n];if(i>=p&&i<=g){l=i===p,u=i===g;break}}return{first:l,last:u,point:t}}function js(r,a){var n=[],t=!1;return ce(r)?(t=!0,n=r):n=function(r,a){var n=r||{},t=n.x,i=void 0===t?null:t,o=n.y,s=void 0===o?null:o,l=a.points,u=[];return a.segments.forEach(function(c){var d=l[c.start],p=l[c.end];null!==s?(u.push({x:d.x,y:s}),u.push({x:p.x,y:s})):null!==i&&(u.push({x:i,y:d.y}),u.push({x:i,y:p.y}))}),u}(r,a),n.length?new ut({points:n,options:{tension:0},_loop:t,_fullLoop:t}):null}function XZ(r,a,n){var s,i=r[a].fill,o=[a];if(!n)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!me(i))return i;if(!(s=r[i]))return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function Xs(r,a,n){r.beginPath(),a.path(r),r.lineTo(a.last().x,n),r.lineTo(a.first().x,n),r.closePath(),r.clip()}function Ki(r,a,n,t){if(!t){var i=a[r],o=n[r];return"angle"===r&&(i=ze(i),o=ze(o)),{property:r,start:i,end:o}}}function el(r,a,n,t){return r&&a?t(r[n],a[n]):r?r[n]:a?a[n]:0}function tk(r,a,n){var t=a.chart.chartArea,i=t.top,o=t.bottom,s=n||{},u=s.start,c=s.end;"x"===s.property&&(r.beginPath(),r.rect(u,i,c-u,o-i),r.clip())}function tl(r,a,n,t){var i=a.interpolate(n,t);i&&r.lineTo(i.x,i.y)}function nl(r,a){var c,n=a.line,t=a.target,i=a.property,o=a.color,s=a.scale,l=function(r,a,n){var u,i=r.points,o=a.points,s=[],l=(0,V.Z)(r.segments);try{for(l.s();!(u=l.n()).done;){var c=u.value,d=Ki(n,i[c.start],i[c.end],c.loop);if(a.segments){var h,p=ts(a,d),g=(0,V.Z)(p);try{for(g.s();!(h=g.n()).done;){var y,f=h.value,m=Ki(n,o[f.start],o[f.end],f.loop),v=es(c,i,m),b=(0,V.Z)(v);try{for(b.s();!(y=b.n()).done;)s.push({source:y.value,target:f,start:(0,Ze.Z)({},n,el(d,m,"start",Math.max)),end:(0,Ze.Z)({},n,el(d,m,"end",Math.min))})}catch(C){b.e(C)}finally{b.f()}}}catch(C){g.e(C)}finally{g.f()}}else s.push({source:c,target:d,start:i[c.start],end:i[c.end]})}}catch(C){l.e(C)}finally{l.f()}return s}(n,t,i),u=(0,V.Z)(l);try{for(u.s();!(c=u.n()).done;){var d=c.value,p=d.source,g=d.target,h=d.start,f=d.end,m=p.style,v=(m=void 0===m?{}:m).backgroundColor,b=void 0===v?o:v;r.save(),r.fillStyle=b,tk(r,s,Ki(i,h,f)),r.beginPath();var y=!!n.pathSegment(r,p);y?r.closePath():tl(r,t,f,i);var _=!!t.pathSegment(r,g,{move:y,reverse:!0}),C=y&&_;C||tl(r,t,h,i),r.closePath(),r.fill(C?"evenodd":"nonzero"),r.restore()}}catch(Z){u.e(Z)}finally{u.f()}}function $i(r,a,n){var t=function(r){var a=r.chart,n=r.fill,t=r.line;if(me(n))return function(r,a){var n=r.getDatasetMeta(a);return n&&r.isDatasetVisible(a)?n.dataset:null}(a,n);if("stack"===n)return function(r){var n=r.scale,i=r.line,o=[],s=i.segments,l=i.points,u=function(r,a){for(var n=[],t=r.getSortedVisibleDatasetMetas(),i=0;i<t.length;i++){var o=t[i];if(o.index===a)break;KZ(o)&&n.unshift(o.dataset)}return n}(r.chart,r.index);u.push(js({x:null,y:n.bottom},i));for(var c=0;c<s.length;c++)for(var d=s[c],p=d.start;p<=d.end;p++)GZ(o,l[p],u);return new ut({points:o,options:{}})}(r);var i=function(r){return(r.scale||{}).getPointPositionForValue?function(r){var u,c,d,a=r.scale,n=r.fill,t=a.options,i=a.getLabels().length,o=[],s=t.reverse?a.max:a.min;if(d="start"===n?s:"end"===n?t.reverse?a.min:a.max:te(n)?n.value:a.getBaseValue(),t.grid.circular)return c=a.getPointPositionForValue(0,s),new Ws({x:c.x,y:c.y,radius:a.getDistanceFromCenterForValue(d)});for(u=0;u<i;++u)o.push(a.getPointPositionForValue(u,d));return o}(r):function(r){var o,a=r.scale,n=void 0===a?{}:a,t=r.fill,i=null;return"start"===t?i=n.bottom:"end"===t?i=n.top:te(t)?i=n.getPixelForValue(t.value):n.getBasePixel&&(i=n.getBasePixel()),me(i)?{x:(o=n.isHorizontal())?i:null,y:o?null:i}:null}(r)}(r);return i instanceof Ws?i:js(i,t)}(a),i=a.line,o=a.scale,s=a.axis,l=i.options,c=l.backgroundColor,d=l.fill||{},p=d.above,g=void 0===p?c:p,h=d.below,f=void 0===h?c:h;t&&i.points.length&&(Sn(r,n),function(r,a){var n=a.line,t=a.target,i=a.above,o=a.below,s=a.area,l=a.scale,u=n._loop?"angle":a.axis;r.save(),"x"===u&&o!==i&&(Xs(r,t,s.top),nl(r,{line:n,target:t,color:i,scale:l,property:u}),r.restore(),r.save(),Xs(r,t,s.bottom)),nl(r,{line:n,target:t,color:o,scale:l,property:u}),r.restore()}(r,{line:i,target:t,above:g,below:f,area:n,scale:o,axis:s}),An(r))}var ak={id:"filler",afterDatasetsUpdate:function(a,n,t){var s,l,u,c,i=(a.data.datasets||[]).length,o=[];for(l=0;l<i;++l)c=null,(u=(s=a.getDatasetMeta(l)).dataset)&&u.options&&u instanceof ut&&(c={visible:a.isDatasetVisible(l),index:l,fill:zZ(u,l,i),chart:a,axis:s.controller.options.indexAxis,scale:s.vScale,line:u}),s.$filler=c,o.push(c);for(l=0;l<i;++l)(c=o[l])&&!1!==c.fill&&(c.fill=XZ(o,l,t.propagate))},beforeDraw:function(a,n,t){for(var i="beforeDraw"===t.drawTime,o=a.getSortedVisibleDatasetMetas(),s=a.chartArea,l=o.length-1;l>=0;--l){var u=o[l].$filler;!u||(u.line.updateControlPoints(s,u.axis),i&&$i(a.ctx,u,s))}},beforeDatasetsDraw:function(a,n,t){if("beforeDatasetsDraw"===t.drawTime)for(var i=a.getSortedVisibleDatasetMetas(),o=i.length-1;o>=0;--o){var s=i[o].$filler;s&&$i(a.ctx,s,a.chartArea)}},beforeDatasetDraw:function(a,n,t){var i=n.meta.$filler;!i||!1===i.fill||"beforeDatasetDraw"!==t.drawTime||$i(a.ctx,i,a.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},al=function(a,n){var t=a.boxHeight,i=void 0===t?n:t,o=a.boxWidth,s=void 0===o?n:o;return a.usePointStyle&&(i=Math.min(i,n),s=Math.min(s,n)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(n,i)}},il=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this))._added=!1,i.legendHitBoxes=[],i._hoveredItem=null,i.doughnutMode=!1,i.chart=t.chart,i.options=t.options,i.ctx=t.ctx,i.legendItems=void 0,i.columnSizes=void 0,i.lineWidths=void 0,i.maxHeight=void 0,i.maxWidth=void 0,i.top=void 0,i.bottom=void 0,i.left=void 0,i.right=void 0,i.height=void 0,i.width=void 0,i._margins=void 0,i.position=void 0,i.weight=void 0,i.fullSize=void 0,i}return(0,R.Z)(n,[{key:"update",value:function(i,o,s){var l=this;l.maxWidth=i,l.maxHeight=o,l._margins=s,l.setDimensions(),l.buildLabels(),l.fit()}},{key:"setDimensions",value:function(){var i=this;i.isHorizontal()?(i.width=i.maxWidth,i.left=0,i.right=i.width):(i.height=i.maxHeight,i.top=0,i.bottom=i.height)}},{key:"buildLabels",value:function(){var i=this,o=i.options.labels||{},s=de(o.generateLabels,[i.chart],i)||[];o.filter&&(s=s.filter(function(l){return o.filter(l,i.chart.data)})),o.sort&&(s=s.sort(function(l,u){return o.sort(l,u,i.chart.data)})),i.options.reverse&&s.reverse(),i.legendItems=s}},{key:"fit",value:function(){var i=this,o=i.options,s=i.ctx;if(o.display){var f,m,l=o.labels,u=ye(l.font),c=u.size,d=i._computeTitleHeight(),p=al(l,c),g=p.boxWidth,h=p.itemHeight;s.font=u.string,i.isHorizontal()?(f=i.maxWidth,m=i._fitRows(d,c,g,h)+10):(m=i.maxHeight,f=i._fitCols(d,c,g,h)+10),i.width=Math.min(f,o.maxWidth||i.maxWidth),i.height=Math.min(m,o.maxHeight||i.maxHeight)}else i.width=i.height=0}},{key:"_fitRows",value:function(i,o,s,l){var u=this,c=u.ctx,d=u.maxWidth,p=u.options.labels.padding,g=u.legendHitBoxes=[],h=u.lineWidths=[0],f=l+p,m=i;c.textAlign="left",c.textBaseline="middle";var v=-1,b=-f;return u.legendItems.forEach(function(y,_){var C=s+o/2+c.measureText(y.text).width;(0===_||h[h.length-1]+C+2*p>d)&&(m+=f,h[h.length-(_>0?0:1)]=0,b+=f,v++),g[_]={left:0,top:b,row:v,width:C,height:l},h[h.length-1]+=C+p}),m}},{key:"_fitCols",value:function(i,o,s,l){var u=this,c=u.ctx,d=u.maxHeight,p=u.options.labels.padding,g=u.legendHitBoxes=[],h=u.columnSizes=[],f=d-i,m=p,v=0,b=0,y=0,_=0,C=0;return u.legendItems.forEach(function(Z,S){var A=s+o/2+c.measureText(Z.text).width;S>0&&b+o+2*p>f&&(m+=v+p,h.push({width:v,height:b}),y+=v+p,C++,_=0,v=b=0),v=Math.max(v,A),b+=o+p,g[S]={left:y,top:_,col:C,width:A,height:l},_+=l+p}),m+=v,h.push({width:v,height:b}),m}},{key:"adjustHitBoxes",value:function(){var i=this;if(i.options.display){var o=i._computeTitleHeight(),s=i.legendHitBoxes,l=i.options,u=l.align,c=l.labels.padding;if(this.isHorizontal()){var h,d=0,p=Te(u,i.left+c,i.right-i.lineWidths[d]),g=(0,V.Z)(s);try{for(g.s();!(h=g.n()).done;){var f=h.value;d!==f.row&&(p=Te(u,i.left+c,i.right-i.lineWidths[d=f.row])),f.top+=i.top+o+c,f.left=p,p+=f.width+c}}catch(C){g.e(C)}finally{g.f()}}else{var y,m=0,v=Te(u,i.top+o+c,i.bottom-i.columnSizes[m].height),b=(0,V.Z)(s);try{for(b.s();!(y=b.n()).done;){var _=y.value;_.col!==m&&(v=Te(u,i.top+o+c,i.bottom-i.columnSizes[m=_.col].height)),_.top=v,_.left+=i.left+c,v+=_.height+c}}catch(C){b.e(C)}finally{b.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){var i=this;if(i.options.display){var o=i.ctx;Sn(o,i),i._draw(),An(o)}}},{key:"_draw",value:function(){var y,i=this,o=i.options,s=i.columnSizes,l=i.lineWidths,u=i.ctx,c=o.align,d=o.labels,p=K.color,g=On(o.rtl,i.left,i.width),h=ye(d.font),f=d.color,m=d.padding,v=h.size,b=v/2;i.drawTitle(),u.textAlign=g.textAlign("left"),u.textBaseline="middle",u.lineWidth=.5,u.font=h.string;var _=al(d,v),C=_.boxWidth,Z=_.boxHeight,S=_.itemHeight,w=i.isHorizontal(),O=this._computeTitleHeight();y=w?{x:Te(c,i.left+m,i.right-l[0]),y:i.top+m+O,line:0}:{x:i.left+m,y:Te(c,i.top+O+m,i.bottom-s[0].height),line:0},Go(i.ctx,o.textDirection);var U=S+m;i.legendItems.forEach(function(P,L){u.strokeStyle=P.fontColor||f,u.fillStyle=P.fontColor||f;var H=u.measureText(P.text).width,Q=g.textAlign(P.textAlign||(P.textAlign=d.textAlign)),se=C+v/2+H,be=y.x,Ae=y.y;g.setWidth(i.width),w?L>0&&be+se+m>i.right&&(Ae=y.y+=U,y.line++,be=y.x=Te(c,i.left+m,i.right-l[y.line])):L>0&&Ae+U>i.bottom&&(be=y.x=be+s[y.line].width+m,y.line++,Ae=y.y=Te(c,i.top+O+m,i.bottom-s[y.line].height)),function(L,H,Q){if(!(isNaN(C)||C<=0||isNaN(Z)||Z<0)){u.save();var se=Y(Q.lineWidth,1);if(u.fillStyle=Y(Q.fillStyle,p),u.lineCap=Y(Q.lineCap,"butt"),u.lineDashOffset=Y(Q.lineDashOffset,0),u.lineJoin=Y(Q.lineJoin,"miter"),u.lineWidth=se,u.strokeStyle=Y(Q.strokeStyle,p),u.setLineDash(Y(Q.lineDash,[])),d.usePointStyle){var be={radius:C*Math.SQRT2/2,pointStyle:Q.pointStyle,rotation:Q.rotation,borderWidth:se},Ae=g.xPlus(L,C/2);_a(u,be,Ae,H+b)}else{var zt=H+Math.max((v-Z)/2,0),Be=g.leftForLtr(L,C),ft=Di(Q.borderRadius);u.beginPath(),Object.values(ft).some(function(Wn){return 0!==Wn})?Ta(u,{x:Be,y:zt,w:C,h:Z,radius:ft}):u.rect(Be,zt,C,Z),u.fill(),0!==se&&u.stroke()}u.restore()}}(g.x(be),Ae,P),be=function(a,n,t){return"right"===a?t:"center"===a?(n+t)/2:n}(Q,be+C+b,i.right),function(L,H,Q){xt(u,Q.text,L,H+S/2,h,{strikethrough:Q.hidden,textAlign:Q.textAlign})}(g.x(be),Ae,P),w?y.x+=se+m:y.y+=U}),Wo(i.ctx,o.textDirection)}},{key:"drawTitle",value:function(){var i=this,o=i.options,s=o.title,l=ye(s.font),u=ke(s.padding);if(s.display){var f,c=On(o.rtl,i.left,i.width),d=i.ctx,p=s.position,h=u.top+l.size/2,m=i.left,v=i.width;if(this.isHorizontal())v=Math.max.apply(Math,(0,W.Z)(i.lineWidths)),f=i.top+h,m=Te(o.align,m,i.right-v);else{var b=i.columnSizes.reduce(function(_,C){return Math.max(_,C.height)},0);f=h+Te(o.align,i.top,i.bottom-b-o.labels.padding-i._computeTitleHeight())}var y=Te(p,m,m+v);d.textAlign=c.textAlign(vi(p)),d.textBaseline="middle",d.strokeStyle=s.color,d.fillStyle=s.color,d.font=l.string,xt(d,s.text,y,f,l)}}},{key:"_computeTitleHeight",value:function(){var i=this.options.title,o=ye(i.font),s=ke(i.padding);return i.display?o.lineHeight+s.height:0}},{key:"_getLegendItemAt",value:function(i,o){var l,u,c,s=this;if(i>=s.left&&i<=s.right&&o>=s.top&&o<=s.bottom)for(c=s.legendHitBoxes,l=0;l<c.length;++l)if(i>=(u=c[l]).left&&i<=u.left+u.width&&o>=u.top&&o<=u.top+u.height)return s.legendItems[l];return null}},{key:"handleEvent",value:function(i){var o=this,s=o.options;if(function(r,a){return!!("mousemove"===r&&(a.onHover||a.onLeave)||a.onClick&&("click"===r||"mouseup"===r))}(i.type,s)){var l=o._getLegendItemAt(i.x,i.y);if("mousemove"===i.type){var u=o._hoveredItem,c=function(a,n){return null!==a&&null!==n&&a.datasetIndex===n.datasetIndex&&a.index===n.index}(u,l);u&&!c&&de(s.onLeave,[i,u,o],o),o._hoveredItem=l,l&&!c&&de(s.onHover,[i,l,o],o)}else l&&de(s.onClick,[i,l,o],o)}}}]),n}(He),ok={id:"legend",_element:il,start:function(a,n,t){var i=a.legend=new il({ctx:a.ctx,options:t,chart:a});Ue_configure(0,i,t),Ue_addBox(a,i)},stop:function(a){Ue_removeBox(a,a.legend),delete a.legend},beforeUpdate:function(a,n,t){var i=a.legend;Ue_configure(0,i,t),i.options=t},afterUpdate:function(a){var n=a.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent:function(a,n){n.replay||a.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(a,n,t){var i=n.datasetIndex,o=t.chart;o.isDatasetVisible(i)?(o.hide(i),n.hidden=!0):(o.show(i),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(a){return a.chart.options.color},boxWidth:40,padding:10,generateLabels:function(a){var n=a.data.datasets,t=a.legend.options.labels,i=t.usePointStyle,o=t.pointStyle,s=t.textAlign,l=t.color;return a._getSortedDatasetMetas().map(function(u){var c=u.controller.getStyle(i?0:void 0),d=ke(c.borderWidth);return{text:n[u.index].label,fillStyle:c.backgroundColor,fontColor:l,hidden:!u.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:o||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:0,datasetIndex:u.index}},this)}},title:{color:function(a){return a.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(a){return!a.startsWith("on")},labels:{_scriptable:function(a){return!["generateLabels","filter","sort"].includes(a)}}}},rl=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this)).chart=t.chart,i.options=t.options,i.ctx=t.ctx,i._padding=void 0,i.top=void 0,i.bottom=void 0,i.left=void 0,i.right=void 0,i.width=void 0,i.height=void 0,i.position=void 0,i.weight=void 0,i.fullSize=void 0,i}return(0,R.Z)(n,[{key:"update",value:function(i,o){var s=this,l=s.options;if(s.left=0,s.top=0,l.display){s.width=s.right=i,s.height=s.bottom=o;var u=ce(l.text)?l.text.length:1;s._padding=ke(l.padding);var c=u*ye(l.font).lineHeight+s._padding.height;s.isHorizontal()?s.height=c:s.width=c}else s.width=s.height=s.right=s.bottom=0}},{key:"isHorizontal",value:function(){var i=this.options.position;return"top"===i||"bottom"===i}},{key:"_drawArgs",value:function(i){var g,h,f,o=this.top,s=this.left,l=this.bottom,u=this.right,c=this.options,d=c.align,p=0;return this.isHorizontal()?(h=Te(d,s,u),f=o+i,g=u-s):("left"===c.position?(h=s+i,f=Te(d,l,o),p=-.5*fe):(h=u-i,f=Te(d,o,l),p=.5*fe),g=l-o),{titleX:h,titleY:f,maxWidth:g,rotation:p}}},{key:"draw",value:function(){var i=this,o=i.ctx,s=i.options;if(s.display){var l=ye(s.font),d=i._drawArgs(l.lineHeight/2+i._padding.top),p=d.titleX,g=d.titleY;xt(o,s.text,0,0,l,{color:s.color,maxWidth:d.maxWidth,rotation:d.rotation,textAlign:vi(s.align),textBaseline:"middle",translation:[p,g]})}}}]),n}(He),lk={id:"title",_element:rl,start:function(a,n,t){!function(r,a){var n=new rl({ctx:r.ctx,options:a,chart:r});Ue_configure(0,n,a),Ue_addBox(r,n),r.titleBlock=n}(a,t)},stop:function(a){Ue_removeBox(a,a.titleBlock),delete a.titleBlock},beforeUpdate:function(a,n,t){var i=a.titleBlock;Ue_configure(0,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},zn={average:function(a){if(!a.length)return!1;var n,t,i=0,o=0,s=0;for(n=0,t=a.length;n<t;++n){var l=a[n].element;if(l&&l.hasValue()){var u=l.tooltipPosition();i+=u.x,o+=u.y,++s}}return{x:i/s,y:o/s}},nearest:function(a,n){if(!a.length)return!1;var s,l,u,t=n.x,i=n.y,o=Number.POSITIVE_INFINITY;for(s=0,l=a.length;s<l;++s){var c=a[s].element;if(c&&c.hasValue()){var p=Ti(n,c.getCenterPoint());p<o&&(o=p,u=c)}}if(u){var g=u.tooltipPosition();t=g.x,i=g.y}return{x:t,y:i}}};function $e(r,a){return a&&(ce(a)?Array.prototype.push.apply(r,a):r.push(a)),r}function nt(r){return("string"==typeof r||r instanceof String)&&r.indexOf("\n")>-1?r.split("\n"):r}function uk(r,a){var n=a.element,t=a.datasetIndex,i=a.index,o=r.getDatasetMeta(t).controller,s=o.getLabelAndValue(i),u=s.value;return{chart:r,label:s.label,parsed:o.getParsed(i),raw:r.data.datasets[t].data[i],formattedValue:u,dataset:o.getDataset(),dataIndex:i,datasetIndex:t,element:n}}function ol(r,a){var n=r._chart.ctx,t=r.body,i=r.footer,o=r.title,s=a.boxWidth,l=a.boxHeight,u=ye(a.bodyFont),c=ye(a.titleFont),d=ye(a.footerFont),p=o.length,g=i.length,h=t.length,f=ke(a.padding),m=f.height,v=0,b=t.reduce(function(Z,S){return Z+S.before.length+S.lines.length+S.after.length},0);p&&(m+=p*c.lineHeight+(p-1)*a.titleSpacing+a.titleMarginBottom),(b+=r.beforeBody.length+r.afterBody.length)&&(m+=h*(a.displayColors?Math.max(l,u.lineHeight):u.lineHeight)+(b-h)*u.lineHeight+(b-1)*a.bodySpacing),g&&(m+=a.footerMarginTop+g*d.lineHeight+(g-1)*a.footerSpacing);var _=0,C=function(S){v=Math.max(v,n.measureText(S).width+_)};return n.save(),n.font=c.string,oe(r.title,C),n.font=u.string,oe(r.beforeBody.concat(r.afterBody),C),_=a.displayColors?s+2:0,oe(t,function(Z){oe(Z.before,C),oe(Z.lines,C),oe(Z.after,C)}),_=0,n.font=d.string,oe(r.footer,C),n.restore(),{width:v+=f.width,height:m}}function pk(r,a,n,t){var i=n.x,o=n.width,l=r.chartArea,d="center";return"center"===t?d=i<=(l.left+l.right)/2?"left":"right":i<=o/2?d="left":i>=r.width-o/2&&(d="right"),function(r,a,n,t){var i=t.x,o=t.width,s=n.caretSize+n.caretPadding;if("left"===r&&i+o+s>a.width||"right"===r&&i-o-s<0)return!0}(d,r,a,n)&&(d="center"),d}function sl(r,a,n){var t=a.yAlign||function(r,a){var n=a.y,t=a.height;return n<t/2?"top":n>r.height-t/2?"bottom":"center"}(r,n);return{xAlign:a.xAlign||pk(r,a,n,t),yAlign:t}}function ll(r,a,n,t){var o=r.caretPadding,l=n.xAlign,u=n.yAlign,c=r.caretSize+o,d=r.cornerRadius+o,p=function(r,a){var n=r.x,t=r.width;return"right"===a?n-=t:"center"===a&&(n-=t/2),n}(a,l),g=function(r,a,n){var t=r.y,i=r.height;return"top"===a?t+=n:t-="bottom"===a?i+n:i/2,t}(a,u,c);return"center"===u?"left"===l?p+=c:"right"===l&&(p-=c):"left"===l?p-=d:"right"===l&&(p+=d),{x:we(p,0,t.width-a.width),y:we(g,0,t.height-a.height)}}function La(r,a,n){var t=ke(n.padding);return"center"===a?r.x+r.width/2:"right"===a?r.x+r.width-t.right:r.x+t.left}function ul(r){return $e([],nt(r))}function cl(r,a){var n=a&&a.dataset&&a.dataset.tooltip&&a.dataset.tooltip.callbacks;return n?r.override(n):r}var Gi=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this)).opacity=0,i._active=[],i._chart=t._chart,i._eventPosition=void 0,i._size=void 0,i._cachedAnimations=void 0,i._tooltipItems=[],i.$animations=void 0,i.$context=void 0,i.options=t.options,i.dataPoints=void 0,i.title=void 0,i.beforeBody=void 0,i.body=void 0,i.afterBody=void 0,i.footer=void 0,i.xAlign=void 0,i.yAlign=void 0,i.x=void 0,i.y=void 0,i.height=void 0,i.width=void 0,i.caretX=void 0,i.caretY=void 0,i.labelColors=void 0,i.labelPointStyles=void 0,i.labelTextColors=void 0,i}return(0,R.Z)(n,[{key:"initialize",value:function(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var i=this,o=i._cachedAnimations;if(o)return o;var s=i._chart,l=i.options.setContext(i.getContext()),u=l.enabled&&s.options.animation&&l.animations,c=new is(i._chart,u);return u._cacheable&&(i._cachedAnimations=Object.freeze(c)),c}},{key:"getContext",value:function(){var i=this;return i.$context||(i.$context=function(r,a,n){return Object.assign(Object.create(r),{tooltip:a,tooltipItems:n,type:"tooltip"})}(i._chart.getContext(),i,i._tooltipItems))}},{key:"getTitle",value:function(i,o){var s=this,l=o.callbacks,u=l.beforeTitle.apply(s,[i]),c=l.title.apply(s,[i]),d=l.afterTitle.apply(s,[i]),p=[];return p=$e(p,nt(u)),p=$e(p,nt(c)),$e(p,nt(d))}},{key:"getBeforeBody",value:function(i,o){return ul(o.callbacks.beforeBody.apply(this,[i]))}},{key:"getBody",value:function(i,o){var s=this,l=o.callbacks,u=[];return oe(i,function(c){var d={before:[],lines:[],after:[]},p=cl(l,c);$e(d.before,nt(p.beforeLabel.call(s,c))),$e(d.lines,p.label.call(s,c)),$e(d.after,nt(p.afterLabel.call(s,c))),u.push(d)}),u}},{key:"getAfterBody",value:function(i,o){return ul(o.callbacks.afterBody.apply(this,[i]))}},{key:"getFooter",value:function(i,o){var s=this,l=o.callbacks,u=l.beforeFooter.apply(s,[i]),c=l.footer.apply(s,[i]),d=l.afterFooter.apply(s,[i]),p=[];return p=$e(p,nt(u)),p=$e(p,nt(c)),$e(p,nt(d))}},{key:"_createItems",value:function(i){var g,h,o=this,s=o._active,l=o._chart.data,u=[],c=[],d=[],p=[];for(g=0,h=s.length;g<h;++g)p.push(uk(o._chart,s[g]));return i.filter&&(p=p.filter(function(f,m,v){return i.filter(f,m,v,l)})),i.itemSort&&(p=p.sort(function(f,m){return i.itemSort(f,m,l)})),oe(p,function(f){var m=cl(i.callbacks,f);u.push(m.labelColor.call(o,f)),c.push(m.labelPointStyle.call(o,f)),d.push(m.labelTextColor.call(o,f))}),o.labelColors=u,o.labelPointStyles=c,o.labelTextColors=d,o.dataPoints=p,p}},{key:"update",value:function(i,o){var c,s=this,l=s.options.setContext(s.getContext()),u=s._active,d=[];if(u.length){var p=zn[l.position].call(s,u,s._eventPosition);d=s._createItems(l),s.title=s.getTitle(d,l),s.beforeBody=s.getBeforeBody(d,l),s.body=s.getBody(d,l),s.afterBody=s.getAfterBody(d,l),s.footer=s.getFooter(d,l);var g=s._size=ol(s,l),h=Object.assign({},p,g),f=sl(s._chart,l,h),m=ll(l,h,f,s._chart);s.xAlign=f.xAlign,s.yAlign=f.yAlign,c={opacity:1,x:m.x,y:m.y,width:g.width,height:g.height,caretX:p.x,caretY:p.y}}else 0!==s.opacity&&(c={opacity:0});s._tooltipItems=d,s.$context=void 0,c&&s._resolveAnimations().update(s,c),i&&l.external&&l.external.call(s,{chart:s._chart,tooltip:s,replay:o})}},{key:"drawCaret",value:function(i,o,s,l){var u=this.getCaretPosition(i,s,l);o.lineTo(u.x1,u.y1),o.lineTo(u.x2,u.y2),o.lineTo(u.x3,u.y3)}},{key:"getCaretPosition",value:function(i,o,s){var m,v,b,y,_,C,l=this.xAlign,u=this.yAlign,c=s.cornerRadius,d=s.caretSize,p=i.x,g=i.y,h=o.width,f=o.height;return"center"===u?(_=g+f/2,"left"===l?(v=(m=p)-d,y=_+d,C=_-d):(v=(m=p+h)+d,y=_-d,C=_+d),b=m):(v="left"===l?p+c+d:"right"===l?p+h-c-d:this.caretX,"top"===u?(_=(y=g)-d,m=v-d,b=v+d):(_=(y=g+f)+d,m=v+d,b=v-d),C=y),{x1:m,x2:v,x3:b,y1:y,y2:_,y3:C}}},{key:"drawTitle",value:function(i,o,s){var d,p,g,l=this,u=l.title,c=u.length;if(c){var h=On(s.rtl,l.x,l.width);for(i.x=La(l,s.titleAlign,s),o.textAlign=h.textAlign(s.titleAlign),o.textBaseline="middle",d=ye(s.titleFont),p=s.titleSpacing,o.fillStyle=s.titleColor,o.font=d.string,g=0;g<c;++g)o.fillText(u[g],h.x(i.x),i.y+d.lineHeight/2),i.y+=d.lineHeight+p,g+1===c&&(i.y+=s.titleMarginBottom-p)}}},{key:"_drawColorBox",value:function(i,o,s,l,u){var c=this,d=c.labelColors[s],p=c.labelPointStyles[s],g=u.boxHeight,h=u.boxWidth,f=ye(u.bodyFont),m=La(c,"left",u),v=l.x(m),y=o.y+(g<f.lineHeight?(f.lineHeight-g)/2:0);if(u.usePointStyle){var _={radius:Math.min(h,g)/2,pointStyle:p.pointStyle,rotation:p.rotation,borderWidth:1},C=l.leftForLtr(v,h)+h/2,Z=y+g/2;i.strokeStyle=u.multiKeyBackground,i.fillStyle=u.multiKeyBackground,_a(i,_,C,Z),i.strokeStyle=d.borderColor,i.fillStyle=d.backgroundColor,_a(i,_,C,Z)}else{i.lineWidth=d.borderWidth||1,i.strokeStyle=d.borderColor,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset||0;var S=l.leftForLtr(v,h),A=l.leftForLtr(l.xPlus(v,1),h-2),x=Di(d.borderRadius);Object.values(x).some(function(w){return 0!==w})?(i.beginPath(),i.fillStyle=u.multiKeyBackground,Ta(i,{x:S,y:y,w:h,h:g,radius:x}),i.fill(),i.stroke(),i.fillStyle=d.backgroundColor,i.beginPath(),Ta(i,{x:A,y:y+1,w:h-2,h:g-2,radius:x}),i.fill()):(i.fillStyle=u.multiKeyBackground,i.fillRect(S,y,h,g),i.strokeRect(S,y,h,g),i.fillStyle=d.backgroundColor,i.fillRect(A,y+1,h-2,g-2))}i.fillStyle=c.labelTextColors[s]}},{key:"drawBody",value:function(i,o,s){var C,S,A,x,w,O,l=this,u=l.body,c=s.bodySpacing,d=s.bodyAlign,p=s.displayColors,g=s.boxHeight,h=s.boxWidth,f=ye(s.bodyFont),m=f.lineHeight,v=0,b=On(s.rtl,l.x,l.width),y=function(P){o.fillText(P,b.x(i.x+v),i.y+m/2),i.y+=m+c},_=b.textAlign(d);for(o.textAlign=d,o.textBaseline="middle",o.font=f.string,i.x=La(l,_,s),o.fillStyle=s.bodyColor,oe(l.beforeBody,y),v=p&&"right"!==_?"center"===d?h/2+1:h+2:0,A=0,w=u.length;A<w;++A){for(C=u[A],o.fillStyle=l.labelTextColors[A],oe(C.before,y),S=C.lines,p&&S.length&&(l._drawColorBox(o,i,A,b,s),m=Math.max(f.lineHeight,g)),x=0,O=S.length;x<O;++x)y(S[x]),m=f.lineHeight;oe(C.after,y)}v=0,m=f.lineHeight,oe(l.afterBody,y),i.y-=c}},{key:"drawFooter",value:function(i,o,s){var d,p,l=this,u=l.footer,c=u.length;if(c){var g=On(s.rtl,l.x,l.width);for(i.x=La(l,s.footerAlign,s),i.y+=s.footerMarginTop,o.textAlign=g.textAlign(s.footerAlign),o.textBaseline="middle",d=ye(s.footerFont),o.fillStyle=s.footerColor,o.font=d.string,p=0;p<c;++p)o.fillText(u[p],g.x(i.x),i.y+d.lineHeight/2),i.y+=d.lineHeight+s.footerSpacing}}},{key:"drawBackground",value:function(i,o,s,l){var u=this.xAlign,c=this.yAlign,d=i.x,p=i.y,g=s.width,h=s.height,f=l.cornerRadius;o.fillStyle=l.backgroundColor,o.strokeStyle=l.borderColor,o.lineWidth=l.borderWidth,o.beginPath(),o.moveTo(d+f,p),"top"===c&&this.drawCaret(i,o,s,l),o.lineTo(d+g-f,p),o.quadraticCurveTo(d+g,p,d+g,p+f),"center"===c&&"right"===u&&this.drawCaret(i,o,s,l),o.lineTo(d+g,p+h-f),o.quadraticCurveTo(d+g,p+h,d+g-f,p+h),"bottom"===c&&this.drawCaret(i,o,s,l),o.lineTo(d+f,p+h),o.quadraticCurveTo(d,p+h,d,p+h-f),"center"===c&&"left"===u&&this.drawCaret(i,o,s,l),o.lineTo(d,p+f),o.quadraticCurveTo(d,p,d+f,p),o.closePath(),o.fill(),l.borderWidth>0&&o.stroke()}},{key:"_updateAnimationTarget",value:function(i){var o=this,s=o._chart,l=o.$animations,u=l&&l.x,c=l&&l.y;if(u||c){var d=zn[i.position].call(o,o._active,o._eventPosition);if(!d)return;var p=o._size=ol(o,i),g=Object.assign({},d,o._size),h=sl(s,i,g),f=ll(i,g,h,s);(u._to!==f.x||c._to!==f.y)&&(o.xAlign=h.xAlign,o.yAlign=h.yAlign,o.width=p.width,o.height=p.height,o.caretX=d.x,o.caretY=d.y,o._resolveAnimations().update(o,f))}}},{key:"draw",value:function(i){var o=this,s=o.options.setContext(o.getContext()),l=o.opacity;if(l){o._updateAnimationTarget(s);var u={width:o.width,height:o.height},c={x:o.x,y:o.y};l=Math.abs(l)<.001?0:l;var d=ke(s.padding);s.enabled&&(o.title.length||o.beforeBody.length||o.body.length||o.afterBody.length||o.footer.length)&&(i.save(),i.globalAlpha=l,o.drawBackground(c,i,u,s),Go(i,s.textDirection),c.y+=d.top,o.drawTitle(c,i,s),o.drawBody(c,i,s),o.drawFooter(c,i,s),Wo(i,s.textDirection),i.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(i,o){var s=this,l=s._active,u=i.map(function(p){var g=p.datasetIndex,h=p.index,f=s._chart.getDatasetMeta(g);if(!f)throw new Error("Cannot find a dataset at index "+g);return{datasetIndex:g,element:f.data[h],index:h}}),c=!ua(l,u),d=s._positionChanged(u,o);(c||d)&&(s._active=u,s._eventPosition=o,s.update(!0))}},{key:"handleEvent",value:function(i,o){var c,s=this,l=s.options,u=s._active||[],d=[];"mouseout"!==i.type&&(d=s._chart.getElementsAtEventForMode(i,l.mode,l,o),l.reverse&&d.reverse());var p=s._positionChanged(d,i);return(c=o||!ua(d,u)||p)&&(s._active=d,(l.enabled||l.external)&&(s._eventPosition={x:i.x,y:i.y},s.update(!0,o))),c}},{key:"_positionChanged",value:function(i,o){var s=this.caretX,l=this.caretY,c=zn[this.options.position].call(this,i,o);return!1!==c&&(s!==c.x||l!==c.y)}}]),n}(He);Gi.positioners=zn;var vk=Object.freeze({__proto__:null,Decimation:NZ,Filler:ak,Legend:ok,Title:lk,Tooltip:{id:"tooltip",_element:Gi,positioners:zn,afterInit:function(a,n,t){t&&(a.tooltip=new Gi({_chart:a,options:t}))},beforeUpdate:function(a,n,t){a.tooltip&&a.tooltip.initialize(t)},reset:function(a,n,t){a.tooltip&&a.tooltip.initialize(t)},afterDraw:function(a){var n=a.tooltip,t={tooltip:n};!1!==a.notifyPlugins("beforeTooltipDraw",t)&&(n&&n.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",t))},afterEvent:function(a,n){a.tooltip&&a.tooltip.handleEvent(n.event,n.replay)&&(n.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(a,n){return n.bodyFont.size},boxWidth:function(a,n){return n.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:et,title:function(a){if(a.length>0){var n=a[0],t=n.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return n.dataset.label||"";if(n.label)return n.label;if(i>0&&n.dataIndex<i)return t[n.dataIndex]}return""},afterTitle:et,beforeBody:et,beforeLabel:et,label:function(a){if(this&&this.options&&"dataset"===this.options.mode)return a.label+": "+a.formattedValue||a.formattedValue;var n=a.dataset.label||"";n&&(n+=": ");var t=a.formattedValue;return G(t)||(n+=t),n},labelColor:function(a){var t=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(a){var t=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:et,afterBody:et,beforeFooter:et,footer:et,afterFooter:et}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(a){return"filter"!==a&&"itemSort"!==a&&"external"!==a},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});var Fa=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this,t))._startValue=void 0,i._valueRange=0,i}return(0,R.Z)(n,[{key:"parse",value:function(i,o){if(G(i))return null;var s=this.getLabels();return function(a,n){return null===a?null:we(Math.round(a),0,n)}(o=isFinite(o)&&s[o]===i?o:function(r,a,n){var t=r.indexOf(a);return-1===t?function(a,n,t){return"string"==typeof n?a.push(n)-1:isNaN(n)?null:t}(r,a,n):t!==r.lastIndexOf(a)?n:t}(s,i,Y(o,i)),s.length-1)}},{key:"determineDataLimits",value:function(){var i=this,o=i.getUserBounds(),s=o.minDefined,l=o.maxDefined,u=i.getMinMax(!0),c=u.min,d=u.max;"ticks"===i.options.bounds&&(s||(c=0),l||(d=i.getLabels().length-1)),i.min=c,i.max=d}},{key:"buildTicks",value:function(){var i=this,o=i.min,s=i.max,l=i.options.offset,u=[],c=i.getLabels();c=0===o&&s===c.length-1?c:c.slice(o,s+1),i._valueRange=Math.max(c.length-(l?0:1),1),i._startValue=i.min-(l?.5:0);for(var d=o;d<=s;d++)u.push({value:d});return u}},{key:"getLabelForValue",value:function(i){var s=this.getLabels();return i>=0&&i<s.length?s[i]:i}},{key:"configure",value:function(){var i=this;(0,qe.Z)((0,De.Z)(n.prototype),"configure",this).call(this),i.isHorizontal()||(i._reversePixels=!i._reversePixels)}},{key:"getPixelForValue",value:function(i){var o=this;return"number"!=typeof i&&(i=o.parse(i)),null===i?NaN:o.getPixelForDecimal((i-o._startValue)/o._valueRange)}},{key:"getPixelForTick",value:function(i){var s=this.ticks;return i<0||i>s.length-1?null:this.getPixelForValue(s[i].value)}},{key:"getValueForPixel",value:function(i){var o=this;return Math.round(o._startValue+o.getDecimalForPixel(i)*o._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),n}(Nn);function dl(r,a,n){var t=n.horizontal,o=Fe(n.minRotation),s=(t?Math.sin(o):Math.cos(o))||.001;return Math.min(a/s,.75*a*(""+r).length)}Fa.id="category",Fa.defaults={ticks:{callback:Fa.prototype.getLabelForValue}};var za=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this,t)).start=void 0,i.end=void 0,i._startValue=void 0,i._endValue=void 0,i._valueRange=0,i}return(0,R.Z)(n,[{key:"parse",value:function(i,o){return G(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}},{key:"handleTickRangeOptions",value:function(){var i=this,o=i.options.beginAtZero,s=i.getUserBounds(),l=s.minDefined,u=s.maxDefined,c=i.min,d=i.max,p=function(v){return c=l?c:v},g=function(v){return d=u?d:v};if(o){var h=st(c),f=st(d);h<0&&f<0?g(0):h>0&&f>0&&p(0)}c===d&&(g(d+1),o||p(c-1)),i.min=c,i.max=d}},{key:"getTickLimit",value:function(){var u,i=this,o=i.options.ticks,s=o.maxTicksLimit,l=o.stepSize;return l?u=Math.ceil(i.max/l)-Math.floor(i.min/l)+1:(u=i.computeTickLimit(),s=s||11),s&&(u=Math.min(s,u)),u}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var i=this,o=i.options,s=o.ticks,l=i.getTickLimit(),d=function(r,a){var S,A,x,w,n=[],i=r.bounds,o=r.step,s=r.min,l=r.max,u=r.precision,c=r.count,d=r.maxTicks,p=r.maxDigits,g=r.includeBounds,h=o||1,f=d-1,m=a.min,v=a.max,b=!G(s),y=!G(l),_=!G(c),C=(v-m)/(p+1),Z=bo((v-m)/f/h)*h;if(Z<1e-14&&!b&&!y)return[{value:m},{value:v}];(w=Math.ceil(v/Z)-Math.floor(m/Z))>f&&(Z=bo(w*Z/f/h)*h),G(u)||(S=Math.pow(10,u),Z=Math.ceil(Z*S)/S),"ticks"===i?(A=Math.floor(m/Z)*Z,x=Math.ceil(v/Z)*Z):(A=m,x=v),b&&y&&o&&function(r,a){var n=Math.round(r);return n-a<=r&&n+a>=r}((l-s)/o,Z/1e3)?(Z=(l-s)/(w=Math.min((l-s)/Z,d)),A=s,x=l):_?Z=((x=y?l:x)-(A=b?s:A))/(w=c-1):w=pa(w=(x-A)/Z,Math.round(w),Z/1e3)?Math.round(w):Math.ceil(w);var O=Math.max(_o(Z),_o(A));S=Math.pow(10,G(u)?O:u),A=Math.round(A*S)/S,x=Math.round(x*S)/S;var U=0;for(b&&(g&&A!==s?(n.push({value:s}),A<s&&U++,pa(Math.round((A+U*Z)*S)/S,s,dl(s,C,r))&&U++):A<s&&U++);U<w;++U)n.push({value:Math.round((A+U*Z)*S)/S});return y&&g&&x!==l?pa(n[n.length-1].value,l,dl(l,C,r))?n[n.length-1].value=l:n.push({value:l}):(!y||x===l)&&n.push({value:x}),n}({maxTicks:l=Math.max(2,l),bounds:o.bounds,min:o.min,max:o.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:i._maxDigits(),horizontal:i.isHorizontal(),minRotation:s.minRotation||0,includeBounds:!1!==s.includeBounds},i._range||i);return"ticks"===o.bounds&&yo(d,i,"value"),o.reverse?(d.reverse(),i.start=i.max,i.end=i.min):(i.start=i.min,i.end=i.max),d}},{key:"configure",value:function(){var i=this,o=i.ticks,s=i.min,l=i.max;if((0,qe.Z)((0,De.Z)(n.prototype),"configure",this).call(this),i.options.offset&&o.length){var u=(l-s)/Math.max(o.length-1,1)/2;s-=u,l+=u}i._startValue=s,i._endValue=l,i._valueRange=l-s}},{key:"getLabelForValue",value:function(i){return xn(i,this.chart.options.locale)}}]),n}(Nn),Wi=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(){return(0,M.Z)(this,n),a.apply(this,arguments)}return(0,R.Z)(n,[{key:"determineDataLimits",value:function(){var i=this,o=i.getMinMax(!0),s=o.min,l=o.max;i.min=me(s)?s:0,i.max=me(l)?l:1,i.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var i=this,o=i.isHorizontal(),s=o?i.width:i.height,l=Fe(i.options.ticks.minRotation),u=(o?Math.sin(l):Math.cos(l))||.001,c=i._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,c.lineHeight/u))}},{key:"getPixelForValue",value:function(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}]),n}(za);function pl(r){return 1==r/Math.pow(10,Math.floor(Re(r)))}Wi.id="linear",Wi.defaults={ticks:{callback:Ma.formatters.numeric}};var ji=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this,t)).start=void 0,i.end=void 0,i._startValue=void 0,i._valueRange=0,i}return(0,R.Z)(n,[{key:"parse",value:function(i,o){var s=za.prototype.parse.apply(this,[i,o]);if(0!==s)return me(s)&&s>0?s:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var i=this,o=i.getMinMax(!0),s=o.min,l=o.max;i.min=me(s)?Math.max(0,s):null,i.max=me(l)?Math.max(0,l):null,i.options.beginAtZero&&(i._zero=!0),i.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var i=this,o=i.getUserBounds(),s=o.minDefined,l=o.maxDefined,u=i.min,c=i.max,d=function(f){return u=s?u:f},p=function(f){return c=l?c:f},g=function(f,m){return Math.pow(10,Math.floor(Re(f))+m)};u===c&&(u<=0?(d(1),p(10)):(d(g(u,-1)),p(g(c,1)))),u<=0&&d(g(c,-1)),c<=0&&p(g(u,1)),i._zero&&i.min!==i._suggestedMin&&u===g(i.min,0)&&d(g(u,-1)),i.min=u,i.max=c}},{key:"buildTicks",value:function(){var i=this,o=i.options,l=function(r,a){var n=Math.floor(Re(a.max)),t=Math.ceil(a.max/Math.pow(10,n)),i=[],o=Me(r.min,Math.pow(10,Math.floor(Re(a.min)))),s=Math.floor(Re(o)),l=Math.floor(o/Math.pow(10,s)),u=s<0?Math.pow(10,Math.abs(s)):1;do{i.push({value:o,major:pl(o)}),10==++l&&(l=1,u=++s>=0?1:u),o=Math.round(l*Math.pow(10,s)*u)/u}while(s<n||s===n&&l<t);var c=Me(r.max,o);return i.push({value:c,major:pl(o)}),i}({min:i._userMin,max:i._userMax},i);return"ticks"===o.bounds&&yo(l,i,"value"),o.reverse?(l.reverse(),i.start=i.max,i.end=i.min):(i.start=i.min,i.end=i.max),l}},{key:"getLabelForValue",value:function(i){return void 0===i?"0":xn(i,this.chart.options.locale)}},{key:"configure",value:function(){var i=this,o=i.min;(0,qe.Z)((0,De.Z)(n.prototype),"configure",this).call(this),i._startValue=Re(o),i._valueRange=Re(i.max)-Re(o)}},{key:"getPixelForValue",value:function(i){var o=this;return(void 0===i||0===i)&&(i=o.min),null===i||isNaN(i)?NaN:o.getPixelForDecimal(i===o.min?0:(Re(i)-o._startValue)/o._valueRange)}},{key:"getValueForPixel",value:function(i){var o=this,s=o.getDecimalForPixel(i);return Math.pow(10,o._startValue+s*o._valueRange)}}]),n}(Nn);function Xi(r){var a=r.ticks;if(a.display&&r.display){var n=ke(a.backdropPadding);return Y(a.font&&a.font.size,K.font.size)+n.height}return 0}function Zk(r,a,n){return ce(n)?{w:K1(r,r.font,n),h:n.length*a}:{w:r.measureText(n).width,h:a}}function gl(r,a,n,t,i){return r===t||r===i?{start:a-n/2,end:a+n/2}:r<t||r>i?{start:a-n,end:a}:{start:a,end:a+n}}function Sk(r){return 0===r||180===r?"center":r<180?"left":"right"}function Ak(r,a,n){90===r||270===r?n.y-=a.h/2:(r>270||r<90)&&(n.y-=a.h)}function hl(r,a,n,t){var i=r.ctx;if(n)i.arc(r.xCenter,r.yCenter,a,0,le);else{var o=r.getPointPosition(0,a);i.moveTo(o.x,o.y);for(var s=1;s<t;s++)o=r.getPointPosition(s,a),i.lineTo(o.x,o.y)}}function Ha(r){return Wt(r)?r:0}ji.id="logarithmic",ji.defaults={ticks:{callback:Ma.formatters.logarithmic,major:{enabled:!0}}};var Hn=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this,t)).xCenter=void 0,i.yCenter=void 0,i.drawingArea=void 0,i._pointLabels=[],i._pointLabelItems=[],i}return(0,R.Z)(n,[{key:"setDimensions",value:function(){var i=this;i.width=i.maxWidth,i.height=i.maxHeight,i.paddingTop=Xi(i.options)/2,i.xCenter=Math.floor(i.width/2),i.yCenter=Math.floor((i.height-i.paddingTop)/2),i.drawingArea=Math.min(i.height-i.paddingTop,i.width)/2}},{key:"determineDataLimits",value:function(){var i=this,o=i.getMinMax(!1),s=o.min,l=o.max;i.min=me(s)&&!isNaN(s)?s:0,i.max=me(l)&&!isNaN(l)?l:0,i.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/Xi(this.options))}},{key:"generateTickLabels",value:function(i){var o=this;za.prototype.generateTickLabels.call(o,i),o._pointLabels=o.getLabels().map(function(s,l){var u=de(o.options.pointLabels.callback,[s,l],o);return u||0===u?u:""})}},{key:"fit",value:function(){var i=this,o=i.options;o.display&&o.pointLabels.display?function(r){var t,i,o,a={l:0,r:r.width,t:0,b:r.height-r.paddingTop},n={},s=[],l=[],u=r.getLabels().length;for(t=0;t<u;t++){var c=r.options.pointLabels.setContext(r.getContext(t));l[t]=c.padding,o=r.getPointPosition(t,r.drawingArea+l[t]);var d=ye(c.font);r.ctx.font=d.string,i=Zk(r.ctx,d.lineHeight,r._pointLabels[t]),s[t]=i;var p=r.getIndexAngle(t),g=_i(p),h=gl(g,o.x,i.w,0,180),f=gl(g,o.y,i.h,90,270);h.start<a.l&&(a.l=h.start,n.l=p),h.end>a.r&&(a.r=h.end,n.r=p),f.start<a.t&&(a.t=f.start,n.t=p),f.end>a.b&&(a.b=f.end,n.b=p)}r._setReductions(r.drawingArea,a,n),r._pointLabelItems=[];var m=r.options,v=Xi(m),b=r.getDistanceFromCenterForValue(m.ticks.reverse?r.min:r.max);for(t=0;t<u;t++){var _=r.getPointPosition(t,b+(0===t?v/2:0)+l[t]),C=_i(r.getIndexAngle(t)),Z=s[t];Ak(C,Z,_);var A,S=Sk(C);r._pointLabelItems[t]={x:_.x,y:_.y,textAlign:S,left:A="left"===S?_.x:"center"===S?_.x-Z.w/2:_.x-Z.w,top:_.y,right:A+Z.w,bottom:_.y+Z.h}}}(i):i.setCenterPoint(0,0,0,0)}},{key:"_setReductions",value:function(i,o,s){var l=this,u=o.l/Math.sin(s.l),c=Math.max(o.r-l.width,0)/Math.sin(s.r),d=-o.t/Math.cos(s.t),p=-Math.max(o.b-(l.height-l.paddingTop),0)/Math.cos(s.b);u=Ha(u),c=Ha(c),d=Ha(d),p=Ha(p),l.drawingArea=Math.max(i/2,Math.min(Math.floor(i-(u+c)/2),Math.floor(i-(d+p)/2))),l.setCenterPoint(u,c,d,p)}},{key:"setCenterPoint",value:function(i,o,s,l){var u=this,p=s+u.drawingArea,g=u.height-u.paddingTop-l-u.drawingArea;u.xCenter=Math.floor((i+u.drawingArea+(u.width-o-u.drawingArea))/2+u.left),u.yCenter=Math.floor((p+g)/2+u.top+u.paddingTop)}},{key:"getIndexAngle",value:function(i){return ze(i*(le/this.getLabels().length)+Fe(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(i){var o=this;if(G(i))return NaN;var s=o.drawingArea/(o.max-o.min);return o.options.reverse?(o.max-i)*s:(i-o.min)*s}},{key:"getValueForDistanceFromCenter",value:function(i){if(G(i))return NaN;var o=this,s=i/(o.drawingArea/(o.max-o.min));return o.options.reverse?o.max-s:o.min+s}},{key:"getPointPosition",value:function(i,o){var s=this,l=s.getIndexAngle(i)-ve;return{x:Math.cos(l)*o+s.xCenter,y:Math.sin(l)*o+s.yCenter,angle:l}}},{key:"getPointPositionForValue",value:function(i,o){return this.getPointPosition(i,this.getDistanceFromCenterForValue(o))}},{key:"getBasePosition",value:function(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(i){var o=this._pointLabelItems[i];return{left:o.left,top:o.top,right:o.right,bottom:o.bottom}}},{key:"drawBackground",value:function(){var i=this,o=i.options,s=o.backgroundColor,l=o.grid.circular;if(s){var u=i.ctx;u.save(),u.beginPath(),hl(i,i.getDistanceFromCenterForValue(i._endValue),l,i.getLabels().length),u.closePath(),u.fillStyle=s,u.fill(),u.restore()}}},{key:"drawGrid",value:function(){var d,p,g,i=this,o=i.ctx,s=i.options,l=s.angleLines,u=s.grid,c=i.getLabels().length;if(s.pointLabels.display&&function(r,a){for(var n=r.ctx,t=r.options.pointLabels,i=a-1;i>=0;i--){var o=t.setContext(r.getContext(i)),s=ye(o.font),l=r._pointLabelItems[i],u=l.x,c=l.y,d=l.textAlign,p=l.left,g=l.top,h=l.right,f=l.bottom,v=o.backdropColor;if(!G(v)){var b=ke(o.backdropPadding);n.fillStyle=v,n.fillRect(p-b.left,g-b.top,h-p+b.width,f-g+b.height)}xt(n,r._pointLabels[i],u,c+s.lineHeight/2,s,{color:o.color,textAlign:d,textBaseline:"middle"})}}(i,c),u.display&&i.ticks.forEach(function(v,b){if(0!==b){p=i.getDistanceFromCenterForValue(v.value);var y=u.setContext(i.getContext(b-1));!function(r,a,n,t){var i=r.ctx,o=a.circular,s=a.color,l=a.lineWidth;!o&&!t||!s||!l||n<0||(i.save(),i.strokeStyle=s,i.lineWidth=l,i.setLineDash(a.borderDash),i.lineDashOffset=a.borderDashOffset,i.beginPath(),hl(r,n,o,t),i.closePath(),i.stroke(),i.restore())}(i,y,p,c)}}),l.display){for(o.save(),d=i.getLabels().length-1;d>=0;d--){var h=l.setContext(i.getContext(d)),f=h.color,m=h.lineWidth;!m||!f||(o.lineWidth=m,o.strokeStyle=f,o.setLineDash(h.borderDash),o.lineDashOffset=h.borderDashOffset,p=i.getDistanceFromCenterForValue(s.ticks.reverse?i.min:i.max),g=i.getPointPosition(d,p),o.beginPath(),o.moveTo(i.xCenter,i.yCenter),o.lineTo(g.x,g.y),o.stroke())}o.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var i=this,o=i.ctx,s=i.options,l=s.ticks;if(l.display){var c,d,u=i.getIndexAngle(0);o.save(),o.translate(i.xCenter,i.yCenter),o.rotate(u),o.textAlign="center",o.textBaseline="middle",i.ticks.forEach(function(p,g){if(0!==g||s.reverse){var h=l.setContext(i.getContext(g)),f=ye(h.font);if(c=i.getDistanceFromCenterForValue(i.ticks[g].value),h.showLabelBackdrop){d=o.measureText(p.label).width,o.fillStyle=h.backdropColor;var m=ke(h.backdropPadding);o.fillRect(-d/2-m.left,-c-f.size/2-m.top,d+m.width,f.size+m.height)}xt(o,p.label,0,-c,f,{color:h.color})}}),o.restore()}}},{key:"drawTitle",value:function(){}}]),n}(za);Hn.id="radialLinear",Hn.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ma.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(a){return a},padding:5}},Hn.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Hn.descriptors={angleLines:{_fallback:"grid"}};var Va={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xe=Object.keys(Va);function Ok(r,a){return r-a}function fl(r,a){if(G(a))return null;var n=r._adapter,t=r._parseOpts,i=t.parser,o=t.round,s=t.isoWeekday,l=a;return"function"==typeof i&&(l=i(l)),me(l)||(l="string"==typeof i?n.parse(l,i):n.parse(l)),null===l?null:(o&&(l="week"!==o||!Wt(s)&&!0!==s?n.startOf(l,o):n.startOf(l,"isoWeek",s)),+l)}function ml(r,a,n,t){for(var i=xe.length,o=xe.indexOf(r);o<i-1;++o){var s=Va[xe[o]];if(s.common&&Math.ceil((n-a)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=t)return xe[o]}return xe[i-1]}function vl(r,a,n){if(n){if(n.length){var t=Ca(n,a),i=t.lo;r[n[i]>=a?n[i]:n[t.hi]]=!0}}else r[a]=!0}function bl(r,a,n){var s,l,t=[],i={},o=a.length;for(s=0;s<o;++s)i[l=a[s]]=s,t.push({value:l,major:!1});return 0!==o&&n?function(r,a,n,t){var l,u,i=r._adapter,o=+i.startOf(a[0].value,t),s=a[a.length-1].value;for(l=o;l<=s;l=+i.add(l,1,t))(u=n[l])>=0&&(a[u].major=!0);return a}(r,t,i,n):t}var Vn=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this,t))._cache={data:[],labels:[],all:[]},i._unit="day",i._majorUnit=void 0,i._offsets={},i._normalized=!1,i._parseOpts=void 0,i}return(0,R.Z)(n,[{key:"init",value:function(i,o){var s=i.time||(i.time={}),l=this._adapter=new dC._date(i.adapters.date);bn(s.displayFormats,l.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},(0,qe.Z)((0,De.Z)(n.prototype),"init",this).call(this,i),this._normalized=o.normalized}},{key:"parse",value:function(i,o){return void 0===i?null:fl(this,i)}},{key:"beforeLayout",value:function(){(0,qe.Z)((0,De.Z)(n.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var i=this,o=i.options,s=i._adapter,l=o.time.unit||"day",u=i.getUserBounds(),c=u.min,d=u.max,p=u.minDefined,g=u.maxDefined;function h(f){!p&&!isNaN(f.min)&&(c=Math.min(c,f.min)),!g&&!isNaN(f.max)&&(d=Math.max(d,f.max))}(!p||!g)&&(h(i._getLabelBounds()),("ticks"!==o.bounds||"labels"!==o.ticks.source)&&h(i.getMinMax(!1))),c=me(c)&&!isNaN(c)?c:+s.startOf(Date.now(),l),d=me(d)&&!isNaN(d)?d:+s.endOf(Date.now(),l)+1,i.min=Math.min(c,d-1),i.max=Math.max(c+1,d)}},{key:"_getLabelBounds",value:function(){var i=this.getLabelTimestamps(),o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return i.length&&(o=i[0],s=i[i.length-1]),{min:o,max:s}}},{key:"buildTicks",value:function(){var i=this,o=i.options,s=o.time,l=o.ticks,u="labels"===l.source?i.getLabelTimestamps():i._generate();"ticks"===o.bounds&&u.length&&(i.min=i._userMin||u[0],i.max=i._userMax||u[u.length-1]);var c=i.min,p=function(r,a,n){for(var t=0,i=r.length;t<i&&r[t]<a;)t++;for(;i>t&&r[i-1]>n;)i--;return t>0||i<r.length?r.slice(t,i):r}(u,c,i.max);return i._unit=s.unit||(l.autoSkip?ml(s.minUnit,i.min,i.max,i._getLabelCapacity(c)):function(r,a,n,t,i){for(var o=xe.length-1;o>=xe.indexOf(n);o--){var s=xe[o];if(Va[s].common&&r._adapter.diff(i,t,s)>=a-1)return s}return xe[n?xe.indexOf(n):0]}(i,p.length,s.minUnit,i.min,i.max)),i._majorUnit=l.major.enabled&&"year"!==i._unit?function(r){for(var a=xe.indexOf(r)+1,n=xe.length;a<n;++a)if(Va[xe[a]].common)return xe[a]}(i._unit):void 0,i.initOffsets(u),o.reverse&&p.reverse(),bl(i,p,i._majorUnit)}},{key:"initOffsets",value:function(i){var u,c,o=this,s=0,l=0;o.options.offset&&i.length&&(u=o.getDecimalForValue(i[0]),s=1===i.length?1-u:(o.getDecimalForValue(i[1])-u)/2,c=o.getDecimalForValue(i[i.length-1]),l=1===i.length?c:(c-o.getDecimalForValue(i[i.length-2]))/2);var d=i.length<3?.5:.25;s=we(s,0,d),l=we(l,0,d),o._offsets={start:s,end:l,factor:1/(s+1+l)}}},{key:"_generate",value:function(){var v,b,i=this,o=i._adapter,s=i.min,l=i.max,u=i.options,c=u.time,d=c.unit||ml(c.minUnit,s,l,i._getLabelCapacity(s)),p=Y(c.stepSize,1),g="week"===d&&c.isoWeekday,h=Wt(g)||!0===g,f={},m=s;if(h&&(m=+o.startOf(m,"isoWeek",g)),m=+o.startOf(m,h?"day":d),o.diff(l,s,d)>1e5*p)throw new Error(s+" and "+l+" are too far apart with stepSize of "+p+" "+d);var y="data"===u.ticks.source&&i.getDataTimestamps();for(v=m,b=0;v<l;v=+o.add(v,p,d),b++)vl(f,v,y);return(v===l||"ticks"===u.bounds||1===b)&&vl(f,v,y),Object.keys(f).sort(function(_,C){return _-C}).map(function(_){return+_})}},{key:"getLabelForValue",value:function(i){var l=this.options.time;return this._adapter.format(i,l.tooltipFormat?l.tooltipFormat:l.displayFormats.datetime)}},{key:"_tickFormatFunction",value:function(i,o,s,l){var u=this,c=u.options,d=c.time.displayFormats,p=u._unit,g=u._majorUnit,f=g&&d[g],m=s[o],b=u._adapter.format(i,l||(g&&f&&m&&m.major?f:p&&d[p])),y=c.ticks.callback;return y?de(y,[b,o,s],u):b}},{key:"generateTickLabels",value:function(i){var o,s,l;for(o=0,s=i.length;o<s;++o)(l=i[o]).label=this._tickFormatFunction(l.value,o,i)}},{key:"getDecimalForValue",value:function(i){var o=this;return null===i?NaN:(i-o.min)/(o.max-o.min)}},{key:"getPixelForValue",value:function(i){var o=this,s=o._offsets,l=o.getDecimalForValue(i);return o.getPixelForDecimal((s.start+l)*s.factor)}},{key:"getValueForPixel",value:function(i){var o=this,s=o._offsets,l=o.getDecimalForPixel(i)/s.factor-s.end;return o.min+l*(o.max-o.min)}},{key:"_getLabelSize",value:function(i){var o=this,s=o.options.ticks,l=o.ctx.measureText(i).width,u=Fe(o.isHorizontal()?s.maxRotation:s.minRotation),c=Math.cos(u),d=Math.sin(u),p=o._resolveTickFontOptions(0).size;return{w:l*c+p*d,h:l*d+p*c}}},{key:"_getLabelCapacity",value:function(i){var o=this,s=o.options.time,l=s.displayFormats,u=l[s.unit]||l.millisecond,c=o._tickFormatFunction(i,0,bl(o,[i],o._majorUnit),u),d=o._getLabelSize(c),p=Math.floor(o.isHorizontal()?o.width/d.w:o.height/d.h)-1;return p>0?p:1}},{key:"getDataTimestamps",value:function(){var s,l,i=this,o=i._cache.data||[];if(o.length)return o;var u=i.getMatchingVisibleMetas();if(i._normalized&&u.length)return i._cache.data=u[0].controller.getAllParsedValues(i);for(s=0,l=u.length;s<l;++s)o=o.concat(u[s].controller.getAllParsedValues(i));return i._cache.data=i.normalize(o)}},{key:"getLabelTimestamps",value:function(){var s,l,i=this,o=i._cache.labels||[];if(o.length)return o;var u=i.getLabels();for(s=0,l=u.length;s<l;++s)o.push(fl(i,u[s]));return i._cache.labels=i._normalized?o:i.normalize(o)}},{key:"normalize",value:function(i){return Eo(i.sort(Ok))}}]),n}(Nn);function yl(r,a,n){var t,i,o,s;if(n)t=Math.floor(a),i=Math.ceil(a),o=r[t],s=r[i];else{var l=Ca(r,a);t=r[o=l.lo],i=r[s=l.hi]}var u=i-t;return u?o+(s-o)*(a-t)/u:o}Vn.id="time",Vn.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};var er=function(r){(0,ge.Z)(n,r);var a=(0,he.Z)(n);function n(t){var i;return(0,M.Z)(this,n),(i=a.call(this,t))._table=[],i._maxIndex=void 0,i}return(0,R.Z)(n,[{key:"initOffsets",value:function(){var i=this,o=i._getTimestampsForTable();i._table=i.buildLookupTable(o),i._maxIndex=i._table.length-1,(0,qe.Z)((0,De.Z)(n.prototype),"initOffsets",this).call(this,o)}},{key:"buildLookupTable",value:function(i){var s=this.min,l=this.max;if(!i.length)return[{time:s,pos:0},{time:l,pos:1}];var c,d,p,u=[s];for(c=0,d=i.length;c<d;++c)(p=i[c])>s&&p<l&&u.push(p);return u.push(l),u}},{key:"_getTimestampsForTable",value:function(){var i=this,o=i._cache.all||[];if(o.length)return o;var s=i.getDataTimestamps(),l=i.getLabelTimestamps();return o=s.length&&l.length?i.normalize(s.concat(l)):s.length?s:l,i._cache.all=o}},{key:"getPixelForValue",value:function(i,o){var s=this,l=s._offsets,u=s._normalized&&s._maxIndex>0&&!G(o)?o/s._maxIndex:s.getDecimalForValue(i);return s.getPixelForDecimal((l.start+u)*l.factor)}},{key:"getDecimalForValue",value:function(i){return yl(this._table,i)/this._maxIndex}},{key:"getValueForPixel",value:function(i){var o=this,s=o._offsets,l=o.getDecimalForPixel(i)/s.factor-s.end;return yl(o._table,l*this._maxIndex,!0)}}]),n}(Vn);er.id="timeseries",er.defaults=Vn.defaults,Fn.register.apply(Fn,(0,W.Z)([cC,UZ,vk,Object.freeze({__proto__:null,CategoryScale:Fa,LinearScale:Wi,LogarithmicScale:ji,RadialLinearScale:Hn,TimeScale:Vn,TimeSeriesScale:er})]));var Pk=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez]]}),r}(),Ek={className:!0,colSpan:!0,rowSpan:!0},Bk={"<tr":"tbody","<td":"tr"};function nn(r,a,n){var t=document.createElement(r);if(a)for(var i in a)"style"===i?Pe(t,a[i]):Ek[i]?t[i]=a[i]:t.setAttribute(i,a[i]);return"string"==typeof n?t.innerHTML=n:null!=n&&It(t,n),t}function tr(r){r=r.trim();var a=document.createElement(_l(r));return a.innerHTML=r,a.firstChild}function nr(r){return Array.prototype.slice.call(function(r){r=r.trim();var a=document.createElement(_l(r));return a.innerHTML=r,a.childNodes}(r))}function _l(r){return Bk[r.substr(0,3)]||"div"}function It(r,a){for(var n=ar(a),t=0;t<n.length;t++)r.appendChild(n[t])}function Tl(r,a){for(var n=ar(a),t=r.firstChild||null,i=0;i<n.length;i++)r.insertBefore(n[i],t)}function ar(r){return"string"==typeof r?nr(r):r instanceof Node?[r]:Array.prototype.slice.call(r)}function Ut(r){r.parentNode&&r.parentNode.removeChild(r)}var Lk=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector,Fk=Element.prototype.closest||function(r){var a=this;if(!document.documentElement.contains(a))return null;do{if(ir(a,r))return a;a=a.parentElement||a.parentNode}while(null!==a&&1===a.nodeType);return null};function Pt(r,a){return Fk.call(r,a)}function ir(r,a){return Lk.call(r,a)}function rr(r,a){for(var n=r instanceof HTMLElement?[r]:r,t=[],i=0;i<n.length;i++)for(var o=n[i].querySelectorAll(a),s=0;s<o.length;s++)t.push(o[s]);return t}var zk=/(top|left|right|bottom|width|height)$/i;function Pe(r,a){for(var n in a)Cl(r,n,a[n])}function Cl(r,a,n){r.style[a]=null==n?"":"number"==typeof n&&zk.test(a)?n+"px":n}var or=null;function Zl(r){return r=Math.max(0,r),Math.round(r)}function kl(r,a){void 0===a&&(a=!1);var n=window.getComputedStyle(r),t=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,o=parseInt(n.borderTopWidth,10)||0,s=parseInt(n.borderBottomWidth,10)||0,l=Zl(r.offsetWidth-r.clientWidth-t-i),c={borderLeft:t,borderRight:i,borderTop:o,borderBottom:s,scrollbarBottom:Zl(r.offsetHeight-r.clientHeight-o-s),scrollbarLeft:0,scrollbarRight:0};return null===or&&(or=function(){var r=nn("div",{style:{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}},"<div></div>");document.body.appendChild(r);var n=r.firstChild.getBoundingClientRect().left>r.getBoundingClientRect().left;return Ut(r),n}()),or&&"rtl"===n.direction?c.scrollbarLeft=l:c.scrollbarRight=l,a&&(c.paddingLeft=parseInt(n.paddingLeft,10)||0,c.paddingRight=parseInt(n.paddingRight,10)||0,c.paddingTop=parseInt(n.paddingTop,10)||0,c.paddingBottom=parseInt(n.paddingBottom,10)||0),c}function Sl(r){return r.getBoundingClientRect().height+function(r){var a=window.getComputedStyle(r);return parseInt(a.marginTop,10)+parseInt(a.marginBottom,10)}(r)}function sr(r,a,n,t){function i(o){var s=Pt(o.target,n);s&&t.call(s,o,s)}return r.addEventListener(a,i),function(){r.removeEventListener(a,i)}}var xl=["sun","mon","tue","wed","thu","fri","sat"];function Ge(r,a){var n=dt(r);return n[2]+=a,Oe(n)}function Jn(r,a){var n=dt(r);return n[6]+=a,Oe(n)}function Et(r,a){return(a.valueOf()-r.valueOf())/864e5}function Ya(r,a){return pt(r)===pt(a)?Math.round(Et(r,a)):null}function _e(r){return Oe([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()])}function lr(r,a,n,t){var i=Oe([a,0,1+o0(a,n,t)]),o=_e(r),s=Math.round(Et(i,o));return Math.floor(s/7)+1}function o0(r,a,n){var t=7+a-n;return-(7+Oe([r,0,t]).getUTCDay()-a)%7+t-1}function Ol(r){return[r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()]}function ql(r){return new Date(r[0],r[1]||0,null==r[2]?1:r[2],r[3]||0,r[4]||0,r[5]||0)}function dt(r){return[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()]}function Oe(r){return 1===r.length&&(r=r.concat([0])),new Date(Date.UTC.apply(Date,r))}function Dl(r){return!isNaN(r.valueOf())}function pt(r){return 1e3*r.getUTCHours()*60*60+1e3*r.getUTCMinutes()*60+1e3*r.getUTCSeconds()+r.getUTCMilliseconds()}var s0=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function ue(r,a){var n;return"string"==typeof r?function(r){var a=s0.exec(r);if(a){var n=a[1]?-1:1;return{years:0,months:0,days:n*(a[2]?parseInt(a[2],10):0),milliseconds:n*(60*(a[3]?parseInt(a[3],10):0)*60*1e3+60*(a[4]?parseInt(a[4],10):0)*1e3+1e3*(a[5]?parseInt(a[5],10):0)+(a[6]?parseInt(a[6],10):0))}}return null}(r):"object"==typeof r&&r?Rl(r):"number"==typeof r?Rl(((n={})[a||"milliseconds"]=r,n)):null}function Rl(r){return{years:r.years||r.year||0,months:r.months||r.month||0,days:(r.days||r.day||0)+7*ur(r),milliseconds:60*(r.hours||r.hour||0)*60*1e3+60*(r.minutes||r.minute||0)*1e3+1e3*(r.seconds||r.second||0)+(r.milliseconds||r.millisecond||r.ms||0)}}function ur(r){return r.weeks||r.week||0}function cr(r,a){return r.years===a.years&&r.months===a.months&&r.days===a.days&&r.milliseconds===a.milliseconds}function an(r){return Bt(r)/864e5}function Bt(r){return 31536e6*r.years+2592e6*r.months+864e5*r.days+r.milliseconds}function dr(r,a){var n=r.milliseconds;if(n){if(n%1e3!=0)return{unit:"millisecond",value:n};if(n%6e4!=0)return{unit:"second",value:n/1e3};if(n%36e5!=0)return{unit:"minute",value:n/6e4};if(n)return{unit:"hour",value:n/36e5}}return r.days?a||r.days%7!=0?{unit:"day",value:r.days}:{unit:"week",value:r.days/7}:r.months?{unit:"month",value:r.months}:r.years?{unit:"year",value:r.years}:{unit:"millisecond",value:0}}function f0(r,a,n){return n.func?n.func(r,a):function(r,a){return r||a?null==a?-1:null==r?1:"string"==typeof r||"string"==typeof a?String(r).localeCompare(String(a)):r-a:0}(r[n.field],a[n.field])*(n.order||1)}function pr(r){return r.charAt(0).toUpperCase()+r.slice(1)}function rn(r,a){var n=String(r);return"000".substr(0,a-n.length)+n}function Qa(r){return r%1==0}function Il(r,a,n){if("function"==typeof r&&(r=[r]),r){var t=void 0,i=void 0;for(t=0;t<r.length;t++)i=r[t].apply(a,n)||i;return i}}function gr(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];for(var n=0;n<r.length;n++)if(void 0!==r[n])return r[n]}function Ul(r,a){var n,t,i,o,s,l=function u(){var c=(new Date).valueOf()-o;c<a?n=setTimeout(u,a-c):(n=null,s=r.apply(i,t),i=t=null)};return function(){return i=this,t=arguments,o=(new Date).valueOf(),n||(n=setTimeout(l,a)),s}}function gt(r,a,n,t){void 0===n&&(n={});var i={};for(var o in a){var s=a[o];i[o]=void 0!==r[o]?s===Function?"function"==typeof r[o]?r[o]:null:s?s(r[o]):r[o]:void 0!==n[o]?n[o]:s===String?"":s&&s!==Number&&s!==Boolean&&s!==Function?s(null):null}if(t)for(var o in r)void 0===a[o]&&(t[o]=r[o]);return i}function Pl(r){var a=Math.floor(Et(r.start,r.end))||1,n=_e(r.start);return{start:n,end:Ge(n,a)}}function hr(r,a){void 0===a&&(a=ue(0));var n=null,t=null;if(r.end){t=_e(r.end);var i=r.end.valueOf()-t.valueOf();i&&i>=Bt(a)&&(t=Ge(t,1))}return r.start&&(n=_e(r.start),t&&t<=n&&(t=Ge(n,1))),{start:n,end:t}}function Ka(r,a,n,t){return"year"===t?ue(n.diffWholeYears(r,a),"year"):"month"===t?ue(n.diffWholeMonths(r,a),"month"):function(r,a){var n=_e(r),t=_e(a);return{years:0,months:0,days:Math.round(Et(n,t)),milliseconds:a.valueOf()-t.valueOf()-(r.valueOf()-n.valueOf())}}(r,a)}var fr=function(a,n){return(fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])})(a,n)};function Ee(r,a){function n(){this.constructor=r}fr(r,a),r.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}var B=function(){return B=Object.assign||function(n){for(var t,i=1,o=arguments.length;i<o;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s]);return n},B.apply(this,arguments)};function b0(r,a,n,t,i){var s=i[r.recurringDef.typeId].expand(r.recurringDef.typeData,{start:t.subtract(n.start,a),end:n.end},t);return r.allDay&&(s=s.map(_e)),s}var El=Object.prototype.hasOwnProperty;function mr(r,a){var t,i,o,s,l,u,n={};if(a)for(t=0;t<a.length;t++){for(i=a[t],o=[],s=r.length-1;s>=0;s--)if("object"==typeof(l=r[s][i])&&l)o.unshift(l);else if(void 0!==l){n[i]=l;break}o.length&&(n[i]=mr(o))}for(t=r.length-1;t>=0;t--)for(i in u=r[t])i in n||(n[i]=u[i]);return n}function Nt(r,a){var n={};for(var t in r)a(r[t],t)&&(n[t]=r[t]);return n}function at(r,a){var n={};for(var t in r)n[t]=a(r[t],t);return n}function Bl(r){for(var a={},n=0,t=r;n<t.length;n++)a[t[n]]=!0;return a}function Nl(r){var a=[];for(var n in r)a.push(r[n]);return a}function y0(r,a){for(var n in r)if(El.call(r,n)&&!(n in a))return!1;for(var n in a)if(El.call(a,n)&&r[n]!==a[n])return!1;return!0}function $a(r,a,n,t){for(var i={defs:{},instances:{}},o=0,s=r;o<s.length;o++){var u=ru(s[o],a,n,t);u&&vr(u,i)}return i}function vr(r,a){return void 0===a&&(a={defs:{},instances:{}}),a.defs[r.def.defId]=r.def,r.instance&&(a.instances[r.instance.instanceId]=r.instance),a}function on(r,a,n){var t=n.dateEnv,i=r.defs,o=r.instances;for(var s in o=Nt(o,function(f){return!i[f.defId].recurringDef}),i){var l=i[s];if(l.recurringDef){var u=l.recurringDef.duration;u||(u=l.allDay?n.defaultAllDayEventDuration:n.defaultTimedEventDuration);for(var d=0,p=b0(l,u,a,n.dateEnv,n.pluginSystem.hooks.recurringTypes);d<p.length;d++){var g=p[d],h=Ar(s,{start:g,end:t.add(g,u)});o[h.instanceId]=h}}}return{defs:i,instances:o}}function Ll(r,a){var n;if(a){n=[];for(var t=0,i=r;t<i.length;t++){var o=i[t],s=a(o);s?n.push(s):null==s&&n.push(o)}}else n=r;return n}function Ga(r,a){return{defs:B({},r.defs,a.defs),instances:B({},r.instances,a.instances)}}function Yn(r,a){var n=Nt(r.defs,a),t=Nt(r.instances,function(i){return n[i.defId]});return{defs:n,instances:t}}function Z0(r,a){var n=null,t=null;return r.start&&(n=a.createMarker(r.start)),r.end&&(t=a.createMarker(r.end)),!n&&!t||n&&t&&t<n?null:{start:n,end:t}}function Fl(r,a){var i,o,n=[],t=a.start;for(r.sort(k0),i=0;i<r.length;i++)(o=r[i]).start>t&&n.push({start:t,end:o.start}),o.end>t&&(t=o.end);return t<a.end&&n.push({start:t,end:a.end}),n}function k0(r,a){return r.start.valueOf()-a.start.valueOf()}function Wa(r,a){var n=r.start,t=r.end,i=null;return null!==a.start&&(n=null===n?a.start:new Date(Math.max(n.valueOf(),a.start.valueOf()))),null!=a.end&&(t=null===t?a.end:new Date(Math.min(t.valueOf(),a.end.valueOf()))),(null===n||null===t||n<t)&&(i={start:n,end:t}),i}function ja(r,a){return(null===r.start?null:r.start.valueOf())===(null===a.start?null:a.start.valueOf())&&(null===r.end?null:r.end.valueOf())===(null===a.end?null:a.end.valueOf())}function br(r,a){return(null===r.end||null===a.start||r.end>a.start)&&(null===r.start||null===a.end||r.start<a.end)}function yr(r,a){return(null===r.start||null!==a.start&&a.start>=r.start)&&(null===r.end||null!==a.end&&a.end<=r.end)}function sn(r,a){return(null===r.start||a>=r.start)&&(null===r.end||a<r.end)}function zl(r,a){var t,n=r.length;if(n!==a.length)return!1;for(t=0;t<n;t++)if(r[t]!==a[t])return!1;return!0}function pe(r){var a,n;return function(){return(!a||!zl(a,arguments))&&(a=arguments,n=r.apply(this,arguments)),n}}var Hl={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Xa={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},ei=/\s*([ap])\.?m\.?/i,w0=/,/g,x0=/\s+/g,O0=/\u200e/g,q0=/UTC|GMT/,D0=function(){function r(a){var n={},t={},i=0;for(var o in a)o in Hl?(t[o]=a[o],i=Math.max(Hl[o],i)):(n[o]=a[o],o in Xa&&(i=Math.max(Xa[o],i)));this.standardDateProps=n,this.extendedSettings=t,this.severity=i,this.buildFormattingFunc=pe(Vl)}return r.prototype.format=function(a,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(a)},r.prototype.formatRange=function(a,n,t){var o=this.standardDateProps,s=this.extendedSettings,l=function(r,a,n){return n.getMarkerYear(r)!==n.getMarkerYear(a)?5:n.getMarkerMonth(r)!==n.getMarkerMonth(a)?4:n.getMarkerDay(r)!==n.getMarkerDay(a)?2:pt(r)!==pt(a)?1:0}(a.marker,n.marker,t.calendarSystem);if(!l)return this.format(a,t);var u=l;u>1&&("numeric"===o.year||"2-digit"===o.year)&&("numeric"===o.month||"2-digit"===o.month)&&("numeric"===o.day||"2-digit"===o.day)&&(u=1);var c=this.format(a,t),d=this.format(n,t);if(c===d)return c;var p=function(r,a){var n={};for(var t in r)(!(t in Xa)||Xa[t]<=a)&&(n[t]=r[t]);return n}(o,u),g=Vl(p,s,t),h=g(a),f=g(n),m=function(r,a,n,t){for(var i=0;i<r.length;){var o=r.indexOf(a,i);if(-1===o)break;for(var s=r.substr(0,o),l=r.substr(i=o+a.length),u=0;u<n.length;){var c=n.indexOf(t,u);if(-1===c)break;var d=n.substr(0,c),p=n.substr(u=c+t.length);if(s===d&&l===p)return{before:s,after:l}}}return null}(c,h,d,f),v=s.separator||"";return m?m.before+h+v+f+m.after:c+v+d},r.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";default:return"day"}},r}();function Vl(r,a,n){var t=Object.keys(r).length;return 1===t&&"short"===r.timeZoneName?function(i){return _r(i.timeZoneOffset)}:0===t&&a.week?function(i){return function(r,a,n,t){var i=[];return"narrow"===t?i.push(a):"short"===t&&i.push(a," "),i.push(n.simpleNumberFormat.format(r)),n.options.isRtl&&i.reverse(),i.join("")}(n.computeWeekNumber(i.marker),n.weekLabel,n.locale,a.week)}:function(r,a,n){r=B({},r),a=B({},a),function(r,a){r.timeZoneName&&(r.hour||(r.hour="2-digit"),r.minute||(r.minute="2-digit")),"long"===r.timeZoneName&&(r.timeZoneName="short"),a.omitZeroMinute&&(r.second||r.millisecond)&&delete a.omitZeroMinute}(r,a),r.timeZone="UTC";var i,t=new Intl.DateTimeFormat(n.locale.codes,r);if(a.omitZeroMinute){var o=B({},r);delete o.minute,i=new Intl.DateTimeFormat(n.locale.codes,o)}return function(s){var l=s.marker;return function(r,a,n,t,i){return r=r.replace(O0,""),"short"===n.timeZoneName&&(r=function(r,a){var n=!1;return r=r.replace(q0,function(){return n=!0,a}),n||(r+=" "+a),r}(r,"UTC"===i.timeZone||null==a.timeZoneOffset?"UTC":_r(a.timeZoneOffset))),t.omitCommas&&(r=r.replace(w0,"").trim()),t.omitZeroMinute&&(r=r.replace(":00","")),!1===t.meridiem?r=r.replace(ei,"").trim():"narrow"===t.meridiem?r=r.replace(ei,function(o,s){return s.toLocaleLowerCase()}):"short"===t.meridiem?r=r.replace(ei,function(o,s){return s.toLocaleLowerCase()+"m"}):"lowercase"===t.meridiem&&(r=r.replace(ei,function(o){return o.toLocaleLowerCase()})),(r=r.replace(x0," ")).trim()}((i&&!l.getUTCMinutes()?i:t).format(l),s,r,a,n)}}(r,a,n)}var L0=function(){function r(a,n){this.cmdStr=a,this.separator=n}return r.prototype.format=function(a,n){return n.cmdFormatter(this.cmdStr,ti(a,null,n,this.separator))},r.prototype.formatRange=function(a,n,t){return t.cmdFormatter(this.cmdStr,ti(a,n,t,this.separator))},r}(),F0=function(){function r(a){this.func=a}return r.prototype.format=function(a,n){return this.func(ti(a,null,n))},r.prototype.formatRange=function(a,n,t){return this.func(ti(a,n,t))},r}();function ht(r,a){return"object"==typeof r&&r?("string"==typeof a&&(r=B({separator:a},r)),new D0(r)):"string"==typeof r?new L0(r,a):"function"==typeof r?new F0(r):void 0}function _r(r,a){void 0===a&&(a=!1);var n=r<0?"-":"+",t=Math.abs(r),i=Math.floor(t/60),o=Math.round(t%60);return a?n+rn(i,2)+":"+rn(o,2):"GMT"+n+i+(o?":"+rn(o,2):"")}function ti(r,a,n,t){var i=Jl(r,n.calendarSystem);return{date:i,start:i,end:a?Jl(a,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,separator:t}}function Jl(r,a){var n=a.markerToArray(r.marker);return{marker:r.marker,timeZoneOffset:r.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}var ln=function(){function r(a,n){this.calendar=a,this.internalEventSource=n}return r.prototype.remove=function(){this.calendar.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},r.prototype.refetch=function(){this.calendar.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId]})},Object.defineProperty(r.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!0,configurable:!0}),r}(),Se=function(){function r(a,n,t){this._calendar=a,this._def=n,this._instance=t||null}return r.prototype.setProp=function(a,n){var t,i;if(!(a in au))if(a in ai)"function"==typeof ai[a]&&(n=ai[a](n)),this.mutate({standardProps:(t={},t[a]=n,t)});else if(a in Qn){var o=void 0;"function"==typeof Qn[a]&&(n=Qn[a](n)),"color"===a?o={backgroundColor:n,borderColor:n}:"editable"===a?o={startEditable:n,durationEditable:n}:((i={})[a]=n,o=i),this.mutate({standardProps:{ui:o}})}},r.prototype.setExtendedProp=function(a,n){var t;this.mutate({extendedProps:(t={},t[a]=n,t)})},r.prototype.setStart=function(a,n){void 0===n&&(n={});var t=this._calendar.dateEnv,i=t.createMarker(a);if(i&&this._instance){var s=Ka(this._instance.range.start,i,t,n.granularity);this.mutate(n.maintainDuration?{datesDelta:s}:{startDelta:s})}},r.prototype.setEnd=function(a,n){void 0===n&&(n={});var i,t=this._calendar.dateEnv;if((null==a||(i=t.createMarker(a)))&&this._instance)if(i){var o=Ka(this._instance.range.end,i,t,n.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})},r.prototype.setDates=function(a,n,t){void 0===t&&(t={});var l,i=this._calendar.dateEnv,o={allDay:t.allDay},s=i.createMarker(a);if(s&&(null==n||(l=i.createMarker(n)))&&this._instance){var u=this._instance.range;!0===t.allDay&&(u=Pl(u));var c=Ka(u.start,s,i,t.granularity);if(l){var d=Ka(u.end,l,i,t.granularity);cr(c,d)?this.mutate({datesDelta:c,standardProps:o}):this.mutate({startDelta:c,endDelta:d,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:c,standardProps:o})}},r.prototype.moveStart=function(a){var n=ue(a);n&&this.mutate({startDelta:n})},r.prototype.moveEnd=function(a){var n=ue(a);n&&this.mutate({endDelta:n})},r.prototype.moveDates=function(a){var n=ue(a);n&&this.mutate({datesDelta:n})},r.prototype.setAllDay=function(a,n){void 0===n&&(n={});var t={allDay:a},i=n.maintainDuration;null==i&&(i=this._calendar.opt("allDayMaintainDuration")),this._def.allDay!==a&&(t.hasEnd=i),this.mutate({standardProps:t})},r.prototype.formatRange=function(a){var n=this._calendar.dateEnv,t=this._instance,i=ht(a,this._calendar.opt("defaultRangeSeparator"));return this._def.hasEnd?n.formatRange(t.range.start,t.range.end,i,{forcedStartTzo:t.forcedStartTzo,forcedEndTzo:t.forcedEndTzo}):n.format(t.range.start,i,{forcedTzo:t.forcedStartTzo})},r.prototype.mutate=function(a){var n=this._def,t=this._instance;if(t){this._calendar.dispatch({type:"MUTATE_EVENTS",instanceId:t.instanceId,mutation:a,fromApi:!0});var i=this._calendar.state.eventStore;this._def=i.defs[n.defId],this._instance=i.instances[t.instanceId]}},r.prototype.remove=function(){this._calendar.dispatch({type:"REMOVE_EVENT_DEF",defId:this._def.defId})},Object.defineProperty(r.prototype,"source",{get:function(){var n=this._def.sourceId;return n?new ln(this._calendar,this._calendar.state.eventSources[n]):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"start",{get:function(){return this._instance?this._calendar.dateEnv.toDate(this._instance.range.start):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._calendar.dateEnv.toDate(this._instance.range.end):null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"id",{get:function(){return this._def.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this._def.title},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"url",{get:function(){return this._def.url},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rendering",{get:function(){return this._def.rendering},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!0,configurable:!0}),r}();function Tr(r,a,n,t){var i={},o={},s={},l=[],u=[],c=ni(r.defs,a);for(var d in r.defs)"inverse-background"===(p=r.defs[d]).rendering&&(p.groupId?(i[p.groupId]=[],s[p.groupId]||(s[p.groupId]=p)):o[d]=[]);for(var g in r.instances){var h=r.instances[g],f=c[(p=r.defs[h.defId]).defId],m=h.range,v=!p.allDay&&t?hr(m,t):m,b=Wa(v,n);b&&("inverse-background"===p.rendering?p.groupId?i[p.groupId].push(b):o[h.defId].push(b):("background"===p.rendering?l:u).push({def:p,ui:f,instance:h,range:b,isStart:v.start&&v.start.valueOf()===b.start.valueOf(),isEnd:v.end&&v.end.valueOf()===b.end.valueOf()}))}for(var y in i)for(var Z=0,S=Fl(i[y],n);Z<S.length;Z++){var p;l.push({def:p=s[y],ui:f=c[p.defId],instance:null,range:S[Z],isStart:!1,isEnd:!1})}for(var d in o)for(var x=0,w=Fl(o[d],n);x<w.length;x++)l.push({def:r.defs[d],ui:c[d],instance:null,range:w[x],isStart:!1,isEnd:!1});return{bg:l,fg:u}}function Yl(r,a,n){var t=r.calendar,i=r.view;t.hasPublicHandlers("eventRender")&&(a=a.filter(function(u){var c=t.publiclyTrigger("eventRender",[{event:new Se(t,u.eventRange.def,u.eventRange.instance),isMirror:n,isStart:u.isStart,isEnd:u.isEnd,el:u.el,view:i}]);return!1!==c&&(c&&!0!==c&&(u.el=c),!0)}));for(var o=0,s=a;o<s.length;o++){var l=s[o];H0(l.el,l)}return a}function H0(r,a){r.fcSeg=a}function Cr(r){return r.fcSeg||null}function ni(r,a){return at(r,function(n){return Ql(n,a)})}function Ql(r,a){var n=[];return a[""]&&n.push(a[""]),a[r.defId]&&n.push(a[r.defId]),n.push(r.ui),nu(n)}function Kl(r,a,n){var t=r.calendar,i=r.view;if(t.hasPublicHandlers("eventPositioned"))for(var o=0,s=a;o<s.length;o++){var l=s[o];t.publiclyTriggerAfterSizing("eventPositioned",[{event:new Se(t,l.eventRange.def,l.eventRange.instance),isMirror:n,isStart:l.isStart,isEnd:l.isEnd,el:l.el,view:i}])}t.state.eventSourceLoadingLevel||(t.afterSizingTriggers._eventsPositioned=[null])}function $l(r,a,n){for(var t=r.calendar,i=r.view,o=0,s=a;o<s.length;o++)t.trigger("eventElRemove",(l=s[o]).el);if(t.hasPublicHandlers("eventDestroy"))for(var u=0,c=a;u<c.length;u++){var l;t.publiclyTrigger("eventDestroy",[{event:new Se(t,(l=c[u]).eventRange.def,l.eventRange.instance),isMirror:n,el:l.el,view:i}])}}function J0(r,a,n,t,i){var o=n.standardProps||{};null==o.hasEnd&&a.durationEditable&&(n.startDelta||n.endDelta)&&(o.hasEnd=!0);var s=B({},r,o,{ui:B({},r.ui,o.ui)});n.extendedProps&&(s.extendedProps=B({},s.extendedProps,n.extendedProps));for(var l=0,u=t;l<u.length;l++)(0,u[l])(s,n,i);return!s.hasEnd&&i.opt("forceEventDuration")&&(s.hasEnd=!0),s}function Y0(r,a,n,t,i){var o=i.dateEnv,s=t.standardProps&&!0===t.standardProps.allDay,l=t.standardProps&&!1===t.standardProps.hasEnd,u=B({},r);return s&&(u.range=Pl(u.range)),t.datesDelta&&n.startEditable&&(u.range={start:o.add(u.range.start,t.datesDelta),end:o.add(u.range.end,t.datesDelta)}),t.startDelta&&n.durationEditable&&(u.range={start:o.add(u.range.start,t.startDelta),end:u.range.end}),t.endDelta&&n.durationEditable&&(u.range={start:u.range.start,end:o.add(u.range.end,t.endDelta)}),l&&(u.range={start:u.range.start,end:i.getDefaultEventEnd(a.allDay,u.range.start)}),a.allDay&&(u.range={start:_e(u.range.start),end:_e(u.range.end)}),u.range.end<u.range.start&&(u.range.end=i.getDefaultEventEnd(a.allDay,u.range.start)),u}function Q0(r,a,n,t,i){switch(a.type){case"RECEIVE_EVENTS":return function(r,a,n,t,i,o){if(a&&n===a.latestFetchId){var s=$a(function(r,a,n){var t=n.opt("eventDataTransform"),i=a?a.eventDataTransform:null;return i&&(r=Ll(r,i)),t&&(r=Ll(r,t)),r}(i,a,o),a.sourceId,o);return t&&(s=on(s,t,o)),Ga(Gl(r,a.sourceId),s)}return r}(r,n[a.sourceId],a.fetchId,a.fetchRange,a.rawEvents,i);case"ADD_EVENTS":return function(r,a,n,t){return n&&(a=on(a,n,t)),Ga(r,a)}(r,a.eventStore,t?t.activeRange:null,i);case"MERGE_EVENTS":return Ga(r,a.eventStore);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return t?on(r,t.activeRange,i):r;case"CHANGE_TIMEZONE":return function(r,a,n){var t=r.defs,i=at(r.instances,function(o){var s=t[o.defId];return s.allDay||s.recurringDef?o:B({},o,{range:{start:n.createMarker(a.toDate(o.range.start,o.forcedStartTzo)),end:n.createMarker(a.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:o.forcedEndTzo})});return{defs:t,instances:i}}(r,a.oldDateEnv,i.dateEnv);case"MUTATE_EVENTS":return function(r,a,n,t,i){var o=function(r,a){var n=r.instances[a];if(n){var t=r.defs[n.defId],i=Yn(r,function(o){return function(r,a){return Boolean(r.groupId&&r.groupId===a.groupId)}(t,o)});return i.defs[t.defId]=t,i.instances[n.instanceId]=n,i}return{defs:{},instances:{}}}(r,a);return o=function(r,a,n,t){var i=ni(r.defs,a),o={defs:{},instances:{}};for(var s in r.defs)o.defs[s]=J0(r.defs[s],i[s],n,t.pluginSystem.hooks.eventDefMutationAppliers,t);for(var u in r.instances){var c=r.instances[u];o.instances[u]=Y0(c,o.defs[c.defId],i[c.defId],n,t)}return o}(o,t?{"":{startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}}:i.eventUiBases,n,i),Ga(r,o)}(r,a.instanceId,a.mutation,a.fromApi,i);case"REMOVE_EVENT_INSTANCES":return Wl(r,a.instances);case"REMOVE_EVENT_DEF":return Yn(r,function(o){return o.defId!==a.defId});case"REMOVE_EVENT_SOURCE":return Gl(r,a.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Yn(r,function(o){return!o.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};case"RESET_EVENTS":return{defs:r.defs,instances:r.instances};default:return r}}function Gl(r,a){return Yn(r,function(n){return n.sourceId!==a})}function Wl(r,a){return{defs:r.defs,instances:Nt(r.instances,function(n){return!a[n.instanceId]})}}function jl(r,a){var n=a.view,t=B({businessHours:n?n.props.businessHours:{defs:{},instances:{}},dateSelection:"",eventStore:a.state.eventStore,eventUiBases:a.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},r);return(a.pluginSystem.hooks.isPropsValid||eS)(t,a)}function eS(r,a,n,t){return void 0===n&&(n={}),!(r.eventDrag&&!function(r,a,n,t){var i=r.eventDrag,o=i.mutatedEvents,s=o.defs,l=o.instances,u=ni(s,i.isEvent?r.eventUiBases:{"":a.selectionConfig});t&&(u=at(u,t));var c=Wl(r.eventStore,i.affectedEvents.instances),d=c.defs,p=c.instances,g=ni(d,r.eventUiBases);for(var h in l){var f=l[h],m=f.range,v=u[f.defId],b=s[f.defId];if(!Xl(v.constraints,m,c,r.businessHours,a))return!1;var y=a.opt("eventOverlap");for(var _ in"function"!=typeof y&&(y=null),p){var C=p[_];if(br(m,C.range)&&(!1===g[C.defId].overlap&&i.isEvent||!1===v.overlap||y&&!y(new Se(a,d[C.defId],C),new Se(a,b,f))))return!1}for(var S=a.state.eventStore,A=0,x=v.allows;A<x.length;A++){var L,w=x[A],O=B({},n,{range:f.range,allDay:b.allDay}),U=S.defs[b.defId];if(L=U?new Se(a,U,S.instances[h]):new Se(a,b),!w(a.buildDateSpanApi(O),L))return!1}}return!0}(r,a,n,t)||r.dateSelection&&!function(r,a,n,t){var i=r.eventStore,o=i.defs,s=i.instances,l=r.dateSelection,u=l.range,c=a.selectionConfig;if(t&&(c=t(c)),!Xl(c.constraints,u,i,r.businessHours,a))return!1;var d=a.opt("selectOverlap");for(var p in"function"!=typeof d&&(d=null),s){var g=s[p];if(br(u,g.range)&&(!1===c.overlap||d&&!d(new Se(a,o[g.defId],g))))return!1}for(var h=0,f=c.allows;h<f.length;h++){var m=f[h],v=B({},n,l);if(!m(a.buildDateSpanApi(v),null))return!1}return!0}(r,a,n,t))}function Xl(r,a,n,t,i){for(var o=0,s=r;o<s.length;o++)if(!iS(aS(s[o],a,n,t,i),a))return!1;return!0}function aS(r,a,n,t,i){return"businessHours"===r?Zr(on(t,a,i)):"string"==typeof r?Zr(Yn(n,function(o){return o.groupId===r})):"object"==typeof r&&r?Zr(on(r,a,i)):[]}function Zr(r){var a=r.instances,n=[];for(var t in a)n.push(a[t].range);return n}function iS(r,a){for(var n=0,t=r;n<t.length;n++)if(yr(t[n],a))return!0;return!1}function un(r){return(r+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function eu(r){return Array.isArray(r)?r:"string"==typeof r?r.split(/\s+/):[]}var Qn={editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:null,overlap:null,allow:null,className:eu,classNames:eu,color:String,backgroundColor:String,borderColor:String,textColor:String};function kr(r,a,n){var t=gt(r,Qn,{},n),i=function(r,a){return Array.isArray(r)?$a(r,"",a,!0):"object"==typeof r&&r?$a([r],"",a,!0):null!=r?String(r):null}(t.constraint,a);return{startEditable:null!=t.startEditable?t.startEditable:t.editable,durationEditable:null!=t.durationEditable?t.durationEditable:t.editable,constraints:null!=i?[i]:[],overlap:t.overlap,allows:null!=t.allow?[t.allow]:[],backgroundColor:t.backgroundColor||t.color,borderColor:t.borderColor||t.color,textColor:t.textColor,classNames:t.classNames.concat(t.className)}}function tu(r,a,n,t){var i={},o={};for(var s in Qn){var l=r+pr(s);i[s]=a[l],o[l]=!0}if("event"===r&&(i.editable=a.editable),t)for(var s in a)o[s]||(t[s]=a[s]);return kr(i,n)}var lS={startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function nu(r){return r.reduce(uS,lS)}function uS(r,a){return{startEditable:null!=a.startEditable?a.startEditable:r.startEditable,durationEditable:null!=a.durationEditable?a.durationEditable:r.durationEditable,constraints:r.constraints.concat(a.constraints),overlap:"boolean"==typeof a.overlap?a.overlap:r.overlap,allows:r.allows.concat(a.allows),backgroundColor:a.backgroundColor||r.backgroundColor,borderColor:a.borderColor||r.borderColor,textColor:a.textColor||r.textColor,classNames:r.classNames.concat(a.classNames)}}var ai={id:String,groupId:String,title:String,url:String,rendering:String,extendedProps:null},au={start:null,date:null,end:null,allDay:null},iu=0;function ru(r,a,n,t){var i=function(r,a){var n=null;return r&&(n=a.state.eventSources[r].allDayDefault),null==n&&(n=a.opt("allDayDefault")),n}(a,n),o={},s=function(r,a,n,t,i){for(var o=0;o<t.length;o++){var s={},l=t[o].parse(r,s,n);if(l){var u=s.allDay;return delete s.allDay,null==u&&null==(u=a)&&null==(u=l.allDayGuess)&&(u=!1),B(i,s),{allDay:u,duration:l.duration,typeData:l.typeData,typeId:o}}}return null}(r,i,n.dateEnv,n.pluginSystem.hooks.recurringTypes,o);if(s)return(l=Sr(o,a,s.allDay,Boolean(s.duration),n)).recurringDef={typeId:s.typeId,typeData:s.typeData,duration:s.duration},{def:l,instance:null};var l,u={},c=function(r,a,n,t,i){var l,d,o=function(r,a){var n=gt(r,au,{},a);return n.start=null!==n.start?n.start:n.date,delete n.date,n}(r,t),s=o.allDay,u=null,c=!1,p=null;if(l=n.dateEnv.createMarkerMeta(o.start))u=l.marker;else if(!i)return null;return null!=o.end&&(d=n.dateEnv.createMarkerMeta(o.end)),null==s&&(s=null!=a?a:(!l||l.isTimeUnspecified)&&(!d||d.isTimeUnspecified)),s&&u&&(u=_e(u)),d&&(p=d.marker,s&&(p=_e(p)),u&&p<=u&&(p=null)),p?c=!0:i||(c=n.opt("forceEventDuration")||!1,p=n.dateEnv.add(u,s?n.defaultAllDayEventDuration:n.defaultTimedEventDuration)),{allDay:s,hasEnd:c,range:{start:u,end:p},forcedStartTzo:l?l.forcedTzo:null,forcedEndTzo:d?d.forcedTzo:null}}(r,i,n,u,t);return c?{def:l=Sr(u,a,c.allDay,c.hasEnd,n),instance:Ar(l.defId,c.range,c.forcedStartTzo,c.forcedEndTzo)}:null}function Sr(r,a,n,t,i){var o={},s=function(r,a,n){var t={},i=gt(r,ai,{},t),o=kr(t,a,n);return i.publicId=i.id,delete i.id,i.ui=o,i}(r,i,o);s.defId=String(iu++),s.sourceId=a,s.allDay=n,s.hasEnd=t;for(var l=0,u=i.pluginSystem.hooks.eventDefParsers;l<u.length;l++){var d={};(0,u[l])(s,o,d),o=d}return s.extendedProps=B(o,s.extendedProps||{}),Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function Ar(r,a,n,t){return{instanceId:String(iu++),defId:r,range:a,forcedStartTzo:null==n?null:n,forcedEndTzo:null==t?null:t}}var hS={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],rendering:"inverse-background",classNames:"fc-nonbusiness",groupId:"_businessHours"};function Ce(r,a,n){void 0===n&&(n=[]);var i,o,t=[];function s(){if(o){for(var p=0,g=t;p<g.length;p++)g[p].unrender();a&&a.apply(i,o),o=null}}function l(){(!o||!zl(o,arguments))&&(s(),i=this,o=arguments,r.apply(this,arguments))}l.dependents=t,l.unrender=s;for(var u=0,c=n;u<c.length;u++)c[u].dependents.push(l);return l}var wr={defs:{},instances:{}};function vS(r,a,n){var t=[];r&&t.push(r),a&&t.push(a);var i={"":nu(t)};return n&&B(i,n),i}!function(){function r(){this.getKeysForEventDefs=pe(this._getKeysForEventDefs),this.splitDateSelection=pe(this._splitDateSpan),this.splitEventStore=pe(this._splitEventStore),this.splitIndividualUi=pe(this._splitIndividualUi),this.splitEventDrag=pe(this._splitInteraction),this.splitEventResize=pe(this._splitInteraction),this.eventUiBuilders={}}r.prototype.splitProps=function(a){var n=this,t=this.getKeyInfo(a),i=this.getKeysForEventDefs(a.eventStore),o=this.splitDateSelection(a.dateSelection),s=this.splitIndividualUi(a.eventUiBases,i),l=this.splitEventStore(a.eventStore,i),u=this.splitEventDrag(a.eventDrag),c=this.splitEventResize(a.eventResize),d={};for(var p in this.eventUiBuilders=at(t,function(m,v){return n.eventUiBuilders[v]||pe(vS)}),t){var g=t[p],h=l[p]||wr;d[p]={businessHours:g.businessHours||a.businessHours,dateSelection:o[p]||null,eventStore:h,eventUiBases:(0,this.eventUiBuilders[p])(a.eventUiBases[""],g.ui,s[p]),eventSelection:h.instances[a.eventSelection]?a.eventSelection:"",eventDrag:u[p]||null,eventResize:c[p]||null}}return d},r.prototype._splitDateSpan=function(a){var n={};if(a)for(var i=0,o=this.getKeysForDateSpan(a);i<o.length;i++)n[o[i]]=a;return n},r.prototype._getKeysForEventDefs=function(a){var n=this;return at(a.defs,function(t){return n.getKeysForEventDef(t)})},r.prototype._splitEventStore=function(a,n){var t=a.defs,i=a.instances,o={};for(var s in t)for(var l=0,u=n[s];l<u.length;l++)o[c=u[l]]||(o[c]={defs:{},instances:{}}),o[c].defs[s]=t[s];for(var d in i)for(var p=i[d],g=0,h=n[p.defId];g<h.length;g++){var c;o[c=h[g]]&&(o[c].instances[d]=p)}return o},r.prototype._splitIndividualUi=function(a,n){var t={};for(var i in a)if(i)for(var o=0,s=n[i];o<s.length;o++){var l=s[o];t[l]||(t[l]={}),t[l][i]=a[i]}return t},r.prototype._splitInteraction=function(a){var n={};if(a){var t=this._splitEventStore(a.affectedEvents,this._getKeysForEventDefs(a.affectedEvents)),i=this._getKeysForEventDefs(a.mutatedEvents),o=this._splitEventStore(a.mutatedEvents,i),s=function(c){n[c]||(n[c]={affectedEvents:t[c]||wr,mutatedEvents:o[c]||wr,isEvent:a.isEvent,origSeg:a.origSeg})};for(var l in t)s(l);for(var l in o)s(l)}return n}}();var TS=function(){function r(){}return r.mixInto=function(a){this.mixIntoObj(a.prototype)},r.mixIntoObj=function(a){var n=this;Object.getOwnPropertyNames(this.prototype).forEach(function(t){a[t]||(a[t]=n.prototype[t])})},r.mixOver=function(a){var n=this;Object.getOwnPropertyNames(this.prototype).forEach(function(t){a.prototype[t]=n.prototype[t]})},r}(),xr=function(r){function a(){return null!==r&&r.apply(this,arguments)||this}return Ee(a,r),a.prototype.on=function(n,t){return ou(this._handlers||(this._handlers={}),n,t),this},a.prototype.one=function(n,t){return ou(this._oneHandlers||(this._oneHandlers={}),n,t),this},a.prototype.off=function(n,t){return this._handlers&&su(this._handlers,n,t),this._oneHandlers&&su(this._oneHandlers,n,t),this},a.prototype.trigger=function(n){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return this.triggerWith(n,this,t),this},a.prototype.triggerWith=function(n,t,i){return this._handlers&&Il(this._handlers[n],t,i),this._oneHandlers&&(Il(this._oneHandlers[n],t,i),delete this._oneHandlers[n]),this},a.prototype.hasHandlers=function(n){return this._handlers&&this._handlers[n]&&this._handlers[n].length||this._oneHandlers&&this._oneHandlers[n]&&this._oneHandlers[n].length},a}(TS);function ou(r,a,n){(r[a]||(r[a]=[])).push(n)}function su(r,a,n){n?r[a]&&(r[a]=r[a].filter(function(t){return t!==n})):delete r[a]}!function(){function r(a,n,t,i){this.originEl=a,this.els=n,this.isHorizontal=t,this.isVertical=i}r.prototype.build=function(){var n=this.originClientRect=this.originEl.getBoundingClientRect();this.isHorizontal&&this.buildElHorizontals(n.left),this.isVertical&&this.buildElVerticals(n.top)},r.prototype.buildElHorizontals=function(a){for(var n=[],t=[],i=0,o=this.els;i<o.length;i++){var l=o[i].getBoundingClientRect();n.push(l.left-a),t.push(l.right-a)}this.lefts=n,this.rights=t},r.prototype.buildElVerticals=function(a){for(var n=[],t=[],i=0,o=this.els;i<o.length;i++){var l=o[i].getBoundingClientRect();n.push(l.top-a),t.push(l.bottom-a)}this.tops=n,this.bottoms=t},r.prototype.leftToIndex=function(a){var o,n=this.lefts,t=this.rights,i=n.length;for(o=0;o<i;o++)if(a>=n[o]&&a<t[o])return o},r.prototype.topToIndex=function(a){var o,n=this.tops,t=this.bottoms,i=n.length;for(o=0;o<i;o++)if(a>=n[o]&&a<t[o])return o},r.prototype.getWidth=function(a){return this.rights[a]-this.lefts[a]},r.prototype.getHeight=function(a){return this.bottoms[a]-this.tops[a]}}();var lu=function(){function r(){}return r.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},r.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},r.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},r.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},r.prototype.canScrollUp=function(){return this.getScrollTop()>0},r.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},r.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},r.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},r}(),CS=function(r){function a(n){var t=r.call(this)||this;return t.el=n,t}return Ee(a,r),a.prototype.getScrollTop=function(){return this.el.scrollTop},a.prototype.getScrollLeft=function(){return this.el.scrollLeft},a.prototype.setScrollTop=function(n){this.el.scrollTop=n},a.prototype.setScrollLeft=function(n){this.el.scrollLeft=n},a.prototype.getScrollWidth=function(){return this.el.scrollWidth},a.prototype.getScrollHeight=function(){return this.el.scrollHeight},a.prototype.getClientHeight=function(){return this.el.clientHeight},a.prototype.getClientWidth=function(){return this.el.clientWidth},a}(lu),Kn=(function(r){function a(){return null!==r&&r.apply(this,arguments)||this}Ee(a,r),a.prototype.getScrollTop=function(){return window.pageYOffset},a.prototype.getScrollLeft=function(){return window.pageXOffset},a.prototype.setScrollTop=function(n){window.scroll(window.pageXOffset,n)},a.prototype.setScrollLeft=function(n){window.scroll(n,window.pageYOffset)},a.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},a.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},a.prototype.getClientHeight=function(){return document.documentElement.clientHeight},a.prototype.getClientWidth=function(){return document.documentElement.clientWidth}}(lu),function(r){function a(n,t){var i=r.call(this,nn("div",{className:"fc-scroller"}))||this;return i.overflowX=n,i.overflowY=t,i.applyOverflow(),i}Ee(a,r),a.prototype.clear=function(){this.setHeight("auto"),this.applyOverflow()},a.prototype.destroy=function(){Ut(this.el)},a.prototype.applyOverflow=function(){Pe(this.el,{overflowX:this.overflowX,overflowY:this.overflowY})},a.prototype.lockOverflow=function(n){var t=this.overflowX,i=this.overflowY;n=n||this.getScrollbarWidths(),"auto"===t&&(t=n.bottom||this.canScrollHorizontally()?"scroll":"hidden"),"auto"===i&&(i=n.left||n.right||this.canScrollVertically()?"scroll":"hidden"),Pe(this.el,{overflowX:t,overflowY:i})},a.prototype.setHeight=function(n){Cl(this.el,"height",n)},a.prototype.getScrollbarWidths=function(){var n=kl(this.el);return{left:n.scrollbarLeft,right:n.scrollbarRight,bottom:n.scrollbarBottom}}}(CS),function(){function r(a){this.calendarOptions=a,this.processIconOverride()}return r.prototype.processIconOverride=function(){this.iconOverrideOption&&this.setIconOverride(this.calendarOptions[this.iconOverrideOption])},r.prototype.setIconOverride=function(a){var n,t;if("object"==typeof a&&a){for(t in n=B({},this.iconClasses),a)n[t]=this.applyIconOverridePrefix(a[t]);this.iconClasses=n}else!1===a&&(this.iconClasses={})},r.prototype.applyIconOverridePrefix=function(a){var n=this.iconOverridePrefix;return n&&0!==a.indexOf(n)&&(a=n+a),a},r.prototype.getClass=function(a){return this.classes[a]||""},r.prototype.getIconClass=function(a){var n=this.iconClasses[a];return n?this.baseIconClass+" "+n:""},r.prototype.getCustomButtonIconClass=function(a){var n;return this.iconOverrideCustomButtonOption&&(n=a[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(n):""},r}());Kn.prototype.classes={},Kn.prototype.iconClasses={},Kn.prototype.baseIconClass="",Kn.prototype.iconOverridePrefix="";var ZS=0,kS=function(){function r(a,n,t,i,o){this.calendar=a,this.theme=n,this.dateEnv=t,this.options=i,this.view=o,this.isRtl="rtl"===i.dir,this.eventOrderSpecs=function(r){var t,i,a=[],n=[];for("string"==typeof r?n=r.split(/\s*,\s*/):"function"==typeof r?n=[r]:Array.isArray(r)&&(n=r),t=0;t<n.length;t++)"string"==typeof(i=n[t])?a.push("-"===i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&a.push({func:i});return a}(i.eventOrder),this.nextDayThreshold=ue(i.nextDayThreshold)}return r.prototype.extend=function(a,n){return new r(this.calendar,this.theme,this.dateEnv,a||this.options,n||this.view)},r}(),$n=function(){function r(){this.everRendered=!1,this.uid=String(ZS++)}return r.addEqualityFuncs=function(a){this.prototype.equalityFuncs=B({},this.prototype.equalityFuncs,a)},r.prototype.receiveProps=function(a,n){this.receiveContext(n);var t=function(r,a,n){var t={},i=!1;for(var o in a)o in r&&(r[o]===a[o]||n[o]&&n[o](r[o],a[o]))?t[o]=r[o]:(t[o]=a[o],i=!0);for(var o in r)if(!(o in a)){i=!0;break}return{anyChanges:i,comboProps:t}}(this.props||{},a,this.equalityFuncs),i=t.anyChanges,o=t.comboProps;this.props=o,i&&(this.everRendered&&this.beforeUpdate(),this.render(o,n),this.everRendered&&this.afterUpdate()),this.everRendered=!0},r.prototype.receiveContext=function(a){var n=this.context;this.context=a,n||this.firstContext(a)},r.prototype.render=function(a,n){},r.prototype.firstContext=function(a){},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.destroy=function(){},r}();$n.prototype.equalityFuncs={};var Or=function(r){function a(n){var t=r.call(this)||this;return t.el=n,t}return Ee(a,r),a.prototype.destroy=function(){r.prototype.destroy.call(this),Ut(this.el)},a.prototype.buildPositionCaches=function(){},a.prototype.queryHit=function(n,t,i,o){return null},a.prototype.isInteractionValid=function(n){var t=this.context.calendar,i=this.props.dateProfile,o=n.mutatedEvents.instances;if(i)for(var s in o)if(!yr(i.validRange,o[s].range))return!1;return function(r,a){return jl({eventDrag:r},a)}(n,t)},a.prototype.isDateSelectionValid=function(n){var t=this.context.calendar,i=this.props.dateProfile;return!(i&&!yr(i.validRange,n.range))&&function(r,a){return jl({dateSelection:r},a)}(n,t)},a.prototype.isValidSegDownEl=function(n){return!this.props.eventDrag&&!this.props.eventResize&&!Pt(n,".fc-mirror")&&(this.isPopover()||!this.isInPopover(n))},a.prototype.isValidDateDownEl=function(n){var t=Pt(n,this.fgSegSelector);return(!t||t.classList.contains("fc-mirror"))&&!Pt(n,".fc-more")&&!Pt(n,"a[data-goto]")&&!this.isInPopover(n)},a.prototype.isPopover=function(){return this.el.classList.contains("fc-popover")},a.prototype.isInPopover=function(n){return Boolean(Pt(n,".fc-popover"))},a}($n);Or.prototype.fgSegSelector=".fc-event-container > *",Or.prototype.bgSegSelector=".fc-bgevent:not(.fc-nonbusiness)";var AS=0;function Gn(r){return{id:String(AS++),deps:r.deps||[],reducers:r.reducers||[],eventDefParsers:r.eventDefParsers||[],isDraggableTransformers:r.isDraggableTransformers||[],eventDragMutationMassagers:r.eventDragMutationMassagers||[],eventDefMutationAppliers:r.eventDefMutationAppliers||[],dateSelectionTransformers:r.dateSelectionTransformers||[],datePointTransforms:r.datePointTransforms||[],dateSpanTransforms:r.dateSpanTransforms||[],views:r.views||{},viewPropsTransformers:r.viewPropsTransformers||[],isPropsValid:r.isPropsValid||null,externalDefTransforms:r.externalDefTransforms||[],eventResizeJoinTransforms:r.eventResizeJoinTransforms||[],viewContainerModifiers:r.viewContainerModifiers||[],eventDropTransformers:r.eventDropTransformers||[],componentInteractions:r.componentInteractions||[],calendarInteractions:r.calendarInteractions||[],themeClasses:r.themeClasses||{},eventSourceDefs:r.eventSourceDefs||[],cmdFormatter:r.cmdFormatter,recurringTypes:r.recurringTypes||[],namedTimeZonedImpl:r.namedTimeZonedImpl,defaultView:r.defaultView||"",elementDraggingImpl:r.elementDraggingImpl,optionChangeHandlers:r.optionChangeHandlers||{}}}var wS=function(){function r(){this.hooks={reducers:[],eventDefParsers:[],isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],eventResizeJoinTransforms:[],viewContainerModifiers:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,defaultView:"",elementDraggingImpl:null,optionChangeHandlers:{}},this.addedHash={}}return r.prototype.add=function(a){if(!this.addedHash[a.id]){this.addedHash[a.id]=!0;for(var n=0,t=a.deps;n<t.length;n++)this.add(t[n]);this.hooks=function(r,a){return{reducers:r.reducers.concat(a.reducers),eventDefParsers:r.eventDefParsers.concat(a.eventDefParsers),isDraggableTransformers:r.isDraggableTransformers.concat(a.isDraggableTransformers),eventDragMutationMassagers:r.eventDragMutationMassagers.concat(a.eventDragMutationMassagers),eventDefMutationAppliers:r.eventDefMutationAppliers.concat(a.eventDefMutationAppliers),dateSelectionTransformers:r.dateSelectionTransformers.concat(a.dateSelectionTransformers),datePointTransforms:r.datePointTransforms.concat(a.datePointTransforms),dateSpanTransforms:r.dateSpanTransforms.concat(a.dateSpanTransforms),views:B({},r.views,a.views),viewPropsTransformers:r.viewPropsTransformers.concat(a.viewPropsTransformers),isPropsValid:a.isPropsValid||r.isPropsValid,externalDefTransforms:r.externalDefTransforms.concat(a.externalDefTransforms),eventResizeJoinTransforms:r.eventResizeJoinTransforms.concat(a.eventResizeJoinTransforms),viewContainerModifiers:r.viewContainerModifiers.concat(a.viewContainerModifiers),eventDropTransformers:r.eventDropTransformers.concat(a.eventDropTransformers),calendarInteractions:r.calendarInteractions.concat(a.calendarInteractions),componentInteractions:r.componentInteractions.concat(a.componentInteractions),themeClasses:B({},r.themeClasses,a.themeClasses),eventSourceDefs:r.eventSourceDefs.concat(a.eventSourceDefs),cmdFormatter:a.cmdFormatter||r.cmdFormatter,recurringTypes:r.recurringTypes.concat(a.recurringTypes),namedTimeZonedImpl:a.namedTimeZonedImpl||r.namedTimeZonedImpl,defaultView:r.defaultView||a.defaultView,elementDraggingImpl:r.elementDraggingImpl||a.elementDraggingImpl,optionChangeHandlers:B({},r.optionChangeHandlers,a.optionChangeHandlers)}}(this.hooks,a)}},r}(),qS=Gn({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(a){return Array.isArray(a)?a:Array.isArray(a.events)?a.events:null},fetch:function(a,n){n({rawEvents:a.eventSource.meta})}}]}),MS=Gn({eventSourceDefs:[{parseMeta:function(a){return"function"==typeof a?a:"function"==typeof a.events?a.events:null},fetch:function(a,n,t){var i=a.calendar.dateEnv;!function(r,a,n){var t=!1,i=function(){t||(t=!0,a.apply(this,arguments))},o=function(){t||(t=!0,n&&n.apply(this,arguments))},s=r(i,o);s&&"function"==typeof s.then&&s.then(i,o)}(a.eventSource.meta.bind(null,{start:i.toDate(a.range.start),end:i.toDate(a.range.end),startStr:i.formatIso(a.range.start),endStr:i.formatIso(a.range.end),timeZone:i.timeZone}),function(s){n({rawEvents:s})},t)}}]});function uu(r){var a=[];for(var n in r)a.push(encodeURIComponent(n)+"="+encodeURIComponent(r[n]));return a.join("&")}var US={parseMeta:function(a){if("string"==typeof a)a={url:a};else if(!a||"object"!=typeof a||!a.url)return null;return{url:a.url,method:(a.method||"GET").toUpperCase(),extraParams:a.extraParams,startParam:a.startParam,endParam:a.endParam,timeZoneParam:a.timeZoneParam}},fetch:function(a,n,t){var i=a.eventSource.meta,o=function(r,a,n){var i,o,s,l,t=n.dateEnv,u={};return null==(i=r.startParam)&&(i=n.opt("startParam")),null==(o=r.endParam)&&(o=n.opt("endParam")),null==(s=r.timeZoneParam)&&(s=n.opt("timeZoneParam")),l="function"==typeof r.extraParams?r.extraParams():r.extraParams||{},B(u,l),u[i]=t.formatIso(a.start),u[o]=t.formatIso(a.end),"local"!==t.timeZone&&(u[s]=t.timeZone),u}(i,a.range,a.calendar);!function(r,a,n,t,i){var o=null;"GET"===(r=r.toUpperCase())?a=function(r,a){return r+(-1===r.indexOf("?")?"?":"&")+uu(a)}(a,n):o=uu(n);var s=new XMLHttpRequest;s.open(r,a,!0),"GET"!==r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onload=function(){if(s.status>=200&&s.status<400)try{var l=JSON.parse(s.responseText);t(l,s)}catch(u){i("Failure parsing JSON",s)}else i("Request failed",s)},s.onerror=function(){i("Request failed",s)},s.send(o)}(i.method,i.url,o,function(s,l){n({rawEvents:s,xhr:l})},function(s,l){t({message:s,xhr:l})})}},PS=Gn({eventSourceDefs:[US]}),BS={parse:function(a,n,t){var i=t.createMarker.bind(t),s=gt(a,{daysOfWeek:null,startTime:ue,endTime:ue,startRecur:i,endRecur:i},{},n),l=!1;for(var u in s)if(null!=s[u]){l=!0;break}if(l){var c=null;return"duration"in n&&(c=ue(n.duration),delete n.duration),!c&&s.startTime&&s.endTime&&(c=function(r,a){return{years:r.years-a.years,months:r.months-a.months,days:r.days-a.days,milliseconds:r.milliseconds-a.milliseconds}}(s.endTime,s.startTime)),{allDayGuess:Boolean(!s.startTime&&!s.endTime),duration:c,typeData:s}}return null},expand:function(a,n,t){var i=Wa(n,{start:a.startRecur,end:a.endRecur});return i?function(r,a,n,t){for(var i=r?Bl(r):null,o=_e(n.start),s=n.end,l=[];o<s;){var u=void 0;(!i||i[o.getUTCDay()])&&(u=a?t.add(o,a):o,l.push(u)),o=Ge(o,1)}return l}(a.daysOfWeek,a.startTime,i,t):[]}},NS=Gn({recurringTypes:[BS]}),FS=Gn({optionChangeHandlers:{events:function(a,n,t){cu([a],n,t)},eventSources:cu,plugins:function(r,a){a.addPluginInputs(r)}}});function cu(r,a,n){for(var t=Nl(a.state.eventSources),i=[],o=0,s=r;o<s.length;o++){for(var l=s[o],u=!1,c=0;c<t.length;c++)if(n(t[c]._raw,l)){t.splice(c,1),u=!0;break}u||i.push(l)}for(var d=0,p=t;d<p.length;d++)a.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:p[d].sourceId});for(var h=0,f=i;h<f.length;h++)a.addEventSource(f[h])}var Lt={defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",columnHeader:!0,defaultView:"",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",timeGridEventMinHeight:0,themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",eventLimit:!1,eventLimitClick:"popover",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5},HS={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"}},VS=["header","footer","buttonText","buttonIcons"],YS=[qS,MS,PS,NS,FS],qr={code:"en",week:{dow:0,doy:4},dir:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekLabel:"W",allDayText:"all-day",eventLimitText:"more",noEventsMessage:"No events to display"};function Dr(r){for(var a=r.length>0?r[0].code:"en",n=window.FullCalendarLocalesAll||[],t=window.FullCalendarLocales||{},i=n.concat(Nl(t),r),o={en:qr},s=0,l=i;s<l.length;s++){var u=l[s];o[u.code]=u}return{map:o,defaultCode:a}}function Mr(r,a){return"object"!=typeof r||Array.isArray(r)?function(r,a){var n=[].concat(r||[]),t=function(r,a){for(var n=0;n<r.length;n++)for(var t=r[n].toLocaleLowerCase().split("-"),i=t.length;i>0;i--){var o=t.slice(0,i).join("-");if(a[o])return a[o]}return null}(n,a)||qr;return du(r,n,t)}(r,a):du(r.code,[r.code],r)}function du(r,a,n){var t=mr([qr,n],["buttonText"]);delete t.code;var i=t.week;return delete t.week,{codeArg:r,codes:a,week:i,simpleNumberFormat:new Intl.NumberFormat(r),options:t}}var GS=function(){function r(a){this.overrides=B({},a),this.dynamicOverrides={},this.compute()}return r.prototype.mutate=function(a,n,t){if(Object.keys(a).length||n.length){var i=t?this.dynamicOverrides:this.overrides;B(i,a);for(var o=0,s=n;o<s.length;o++)delete i[s[o]];this.compute()}},r.prototype.compute=function(){var a=gr(this.dynamicOverrides.locales,this.overrides.locales,Lt.locales),n=gr(this.dynamicOverrides.locale,this.overrides.locale,Lt.locale),t=Dr(a),i=Mr(n||t.defaultCode,t.map).options,s="rtl"===gr(this.dynamicOverrides.dir,this.overrides.dir,i.dir)?HS:{};this.dirDefaults=s,this.localeDefaults=i,this.computed=function(r){return mr(r,VS)}([Lt,s,i,this.overrides,this.dynamicOverrides])},r}(),pu={},XS=function(){function r(){}return r.prototype.getMarkerYear=function(a){return a.getUTCFullYear()},r.prototype.getMarkerMonth=function(a){return a.getUTCMonth()},r.prototype.getMarkerDay=function(a){return a.getUTCDate()},r.prototype.arrayToMarker=function(a){return Oe(a)},r.prototype.markerToArray=function(a){return dt(a)},r}();pu.gregory=XS;var eA=/^\s*(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/,gu=function(){function r(a){var n=this.timeZone=a.timeZone,t="local"!==n&&"UTC"!==n;a.namedTimeZoneImpl&&t&&(this.namedTimeZoneImpl=new a.namedTimeZoneImpl(n)),this.canComputeOffset=Boolean(!t||this.namedTimeZoneImpl),this.calendarSystem=function(r){return new pu[r]}(a.calendarSystem),this.locale=a.locale,this.weekDow=a.locale.week.dow,this.weekDoy=a.locale.week.doy,"ISO"===a.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof a.firstDay&&(this.weekDow=a.firstDay),"function"==typeof a.weekNumberCalculation&&(this.weekNumberFunc=a.weekNumberCalculation),this.weekLabel=null!=a.weekLabel?a.weekLabel:a.locale.options.weekLabel,this.cmdFormatter=a.cmdFormatter}return r.prototype.createMarker=function(a){var n=this.createMarkerMeta(a);return null===n?null:n.marker},r.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):Oe(Ol(new Date))},r.prototype.createMarkerMeta=function(a){if("string"==typeof a)return this.parse(a);var n=null;return"number"==typeof a?n=this.timestampToMarker(a):a instanceof Date?(a=a.valueOf(),isNaN(a)||(n=this.timestampToMarker(a))):Array.isArray(a)&&(n=Oe(a)),null!==n&&Dl(n)?{marker:n,isTimeUnspecified:!1,forcedTzo:null}:null},r.prototype.parse=function(a){var n=function(r){var a=eA.exec(r);if(a){var n=new Date(Date.UTC(Number(a[1]),a[3]?Number(a[3])-1:0,Number(a[5]||1),Number(a[7]||0),Number(a[8]||0),Number(a[10]||0),a[12]?1e3*Number("0."+a[12]):0));if(Dl(n)){var t=null;return a[13]&&(t=("-"===a[15]?-1:1)*(60*Number(a[16]||0)+Number(a[18]||0))),{marker:n,isTimeUnspecified:!a[6],timeZoneOffset:t}}}return null}(a);if(null===n)return null;var t=n.marker,i=null;return null!==n.timeZoneOffset&&(this.canComputeOffset?t=this.timestampToMarker(t.valueOf()-60*n.timeZoneOffset*1e3):i=n.timeZoneOffset),{marker:t,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}},r.prototype.getYear=function(a){return this.calendarSystem.getMarkerYear(a)},r.prototype.getMonth=function(a){return this.calendarSystem.getMarkerMonth(a)},r.prototype.add=function(a,n){var t=this.calendarSystem.markerToArray(a);return t[0]+=n.years,t[1]+=n.months,t[2]+=n.days,t[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(t)},r.prototype.subtract=function(a,n){var t=this.calendarSystem.markerToArray(a);return t[0]-=n.years,t[1]-=n.months,t[2]-=n.days,t[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(t)},r.prototype.addYears=function(a,n){var t=this.calendarSystem.markerToArray(a);return t[0]+=n,this.calendarSystem.arrayToMarker(t)},r.prototype.addMonths=function(a,n){var t=this.calendarSystem.markerToArray(a);return t[1]+=n,this.calendarSystem.arrayToMarker(t)},r.prototype.diffWholeYears=function(a,n){var t=this.calendarSystem;return pt(a)===pt(n)&&t.getMarkerDay(a)===t.getMarkerDay(n)&&t.getMarkerMonth(a)===t.getMarkerMonth(n)?t.getMarkerYear(n)-t.getMarkerYear(a):null},r.prototype.diffWholeMonths=function(a,n){var t=this.calendarSystem;return pt(a)===pt(n)&&t.getMarkerDay(a)===t.getMarkerDay(n)?t.getMarkerMonth(n)-t.getMarkerMonth(a)+12*(t.getMarkerYear(n)-t.getMarkerYear(a)):null},r.prototype.greatestWholeUnit=function(a,n){var t=this.diffWholeYears(a,n);return null!==t?{unit:"year",value:t}:null!==(t=this.diffWholeMonths(a,n))?{unit:"month",value:t}:(t=function(r,a){var n=Ya(r,a);return null!==n&&n%7==0?n/7:null}(a,n),null!==t?{unit:"week",value:t}:null!==(t=Ya(a,n))?{unit:"day",value:t}:(t=function(r,a){return(a.valueOf()-r.valueOf())/36e5}(a,n),Qa(t)?{unit:"hour",value:t}:(t=function(r,a){return(a.valueOf()-r.valueOf())/6e4}(a,n),Qa(t)?{unit:"minute",value:t}:(t=function(r,a){return(a.valueOf()-r.valueOf())/1e3}(a,n),Qa(t)?{unit:"second",value:t}:{unit:"millisecond",value:n.valueOf()-a.valueOf()}))))},r.prototype.countDurationsBetween=function(a,n,t){var i;return t.years&&null!==(i=this.diffWholeYears(a,n))?i/function(r){return an(r)/365}(t):t.months&&null!==(i=this.diffWholeMonths(a,n))?i/function(r){return an(r)/30}(t):t.days&&null!==(i=Ya(a,n))?i/an(t):(n.valueOf()-a.valueOf())/Bt(t)},r.prototype.startOf=function(a,n){return"year"===n?this.startOfYear(a):"month"===n?this.startOfMonth(a):"week"===n?this.startOfWeek(a):"day"===n?_e(a):"hour"===n?function(r){return Oe([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours()])}(a):"minute"===n?function(r){return Oe([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes()])}(a):"second"===n?function(r){return Oe([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()])}(a):void 0},r.prototype.startOfYear=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a)])},r.prototype.startOfMonth=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a),this.calendarSystem.getMarkerMonth(a)])},r.prototype.startOfWeek=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a),this.calendarSystem.getMarkerMonth(a),a.getUTCDate()-(a.getUTCDay()-this.weekDow+7)%7])},r.prototype.computeWeekNumber=function(a){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(a)):function(r,a,n){var t=r.getUTCFullYear(),i=lr(r,t,a,n);if(i<1)return lr(r,t-1,a,n);var o=lr(r,t+1,a,n);return o>=1?Math.min(i,o):i}(a,this.weekDow,this.weekDoy)},r.prototype.format=function(a,n,t){return void 0===t&&(t={}),n.format({marker:a,timeZoneOffset:null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(a)},this)},r.prototype.formatRange=function(a,n,t,i){return void 0===i&&(i={}),i.isEndExclusive&&(n=Jn(n,-1)),t.formatRange({marker:a,timeZoneOffset:null!=i.forcedStartTzo?i.forcedStartTzo:this.offsetForMarker(a)},{marker:n,timeZoneOffset:null!=i.forcedEndTzo?i.forcedEndTzo:this.offsetForMarker(n)},this)},r.prototype.formatIso=function(a,n){void 0===n&&(n={});var t=null;return n.omitTimeZoneOffset||(t=null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(a)),function(r,a,n){void 0===n&&(n=!1);var t=r.toISOString();return t=t.replace(".000",""),n&&(t=t.replace("T00:00:00Z","")),t.length>10&&(null==a?t=t.replace("Z",""):0!==a&&(t=t.replace("Z",_r(a,!0)))),t}(a,t,n.omitTime)},r.prototype.timestampToMarker=function(a){return"local"===this.timeZone?Oe(Ol(new Date(a))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?Oe(this.namedTimeZoneImpl.timestampToArray(a)):new Date(a)},r.prototype.offsetForMarker=function(a){return"local"===this.timeZone?-ql(dt(a)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(dt(a)):null},r.prototype.toDate=function(a,n){return"local"===this.timeZone?ql(dt(a)):"UTC"===this.timeZone?new Date(a.valueOf()):this.namedTimeZoneImpl?new Date(a.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(dt(a))*60):new Date(a.valueOf()-(n||0))},r}(),nA={id:String,allDayDefault:Boolean,eventDataTransform:Function,success:Function,failure:Function},aA=0;function hu(r,a){return!a.pluginSystem.hooks.eventSourceDefs[r.sourceDefId].ignoreRange}function fu(r,a){for(var n=a.pluginSystem.hooks.eventSourceDefs,t=n.length-1;t>=0;t--){var o=n[t].parseMeta(r);if(o){var s=iA("object"==typeof r?r:{},o,t,a);return s._raw=r,s}}return null}function iA(r,a,n,t){var i={},o=gt(r,nA,{},i),s={},l=kr(i,t,s);return o.isFetching=!1,o.latestFetchId="",o.fetchRange=null,o.publicId=String(r.id||""),o.sourceId=String(aA++),o.sourceDefId=n,o.meta=a,o.ui=l,o.extendedProps=s,o}var oA=0;function mu(r,a,n){return vu(r,Nt(r,function(t){return function(r,a,n){return hu(r,n)?!n.opt("lazyFetching")||!r.fetchRange||r.isFetching||a.start<r.fetchRange.start||a.end>r.fetchRange.end:!r.latestFetchId}(t,a,n)}),a,n)}function vu(r,a,n,t){var i={};for(var o in r){var s=r[o];i[o]=a[o]?cA(s,n,t):s}return i}function cA(r,a,n){var t=n.pluginSystem.hooks.eventSourceDefs[r.sourceDefId],i=String(oA++);return t.fetch({eventSource:r,calendar:n,range:a},function(o){var u,c,s=o.rawEvents,l=n.opt("eventSourceSuccess");r.success&&(c=r.success(s,o.xhr)),l&&(u=l(s,o.xhr)),n.dispatch({type:"RECEIVE_EVENTS",sourceId:r.sourceId,fetchId:i,fetchRange:a,rawEvents:s=c||u||s})},function(o){var s=n.opt("eventSourceFailure");console.warn(o.message,o),r.failure&&r.failure(o),s&&s(o),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:r.sourceId,fetchId:i,fetchRange:a,error:o})}),B({},r,{isFetching:!0,latestFetchId:i})}var gA=function(){function r(a,n){this.viewSpec=a,this.options=a.options,this.dateEnv=n.dateEnv,this.calendar=n,this.initHiddenDays()}return r.prototype.buildPrev=function(a,n){var t=this.dateEnv,i=t.subtract(t.startOf(n,a.currentRangeUnit),a.dateIncrement);return this.build(i,-1)},r.prototype.buildNext=function(a,n){var t=this.dateEnv,i=t.add(t.startOf(n,a.currentRangeUnit),a.dateIncrement);return this.build(i,1)},r.prototype.build=function(a,n,t){var i,o,s,l,u,c,d,p;return void 0===t&&(t=!1),i=this.buildValidRange(),i=this.trimHiddenDays(i),t&&(a=function(r,a){return null!=a.start&&r<a.start?a.start:null!=a.end&&r>=a.end?new Date(a.end.valueOf()-1):r}(a,i)),l=this.buildCurrentRangeInfo(a,n),u=/^(year|month|week|day)$/.test(l.unit),c=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,u),d=c=this.trimHiddenDays(c),this.options.showNonCurrentDates||(d=Wa(d,l.range)),o=ue(this.options.minTime),s=ue(this.options.maxTime),d=Wa(d=this.adjustActiveRange(d,o,s),i),p=br(l.range,i),{validRange:i,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:u,activeRange:d,renderRange:c,minTime:o,maxTime:s,isValid:p,dateIncrement:this.buildDateIncrement(l.duration)}},r.prototype.buildValidRange=function(){return this.getRangeOption("validRange",this.calendar.getNow())||{start:null,end:null}},r.prototype.buildCurrentRangeInfo=function(a,n){var c,i=this.viewSpec,o=this.dateEnv,s=null,l=null,u=null;return i.duration?u=this.buildRangeFromDuration(a,n,s=i.duration,l=i.durationUnit):(c=this.options.dayCount)?(l="day",u=this.buildRangeFromDayCount(a,n,c)):(u=this.buildCustomVisibleRange(a))?l=o.greatestWholeUnit(u.start,u.end).unit:(l=dr(s=this.getFallbackDuration()).unit,u=this.buildRangeFromDuration(a,n,s,l)),{duration:s,unit:l,range:u}},r.prototype.getFallbackDuration=function(){return ue({day:1})},r.prototype.adjustActiveRange=function(a,n,t){var i=this.dateEnv,o=a.start,s=a.end;return this.viewSpec.class.prototype.usesMinMaxTime&&(an(n)<0&&(o=_e(o),o=i.add(o,n)),an(t)>1&&(s=Ge(s=_e(s),-1),s=i.add(s,t))),{start:o,end:s}},r.prototype.buildRangeFromDuration=function(a,n,t,i){var l,u,c,d,p,o=this.dateEnv,s=this.options.dateAlignment;function g(){c=o.startOf(a,s),d=o.add(c,t),p={start:c,end:d}}return s||((l=this.options.dateIncrement)?(u=ue(l),s=Bt(u)<Bt(t)?dr(u,!ur(l)).unit:i):s=i),an(t)<=1&&this.isHiddenDay(c)&&(c=_e(c=this.skipHiddenDays(c,n))),g(),this.trimHiddenDays(p)||(a=this.skipHiddenDays(a,n),g()),p},r.prototype.buildRangeFromDayCount=function(a,n,t){var u,o=this.options.dateAlignment,s=0,l=a;o&&(l=this.dateEnv.startOf(l,o)),l=_e(l),u=l=this.skipHiddenDays(l,n);do{u=Ge(u,1),this.isHiddenDay(u)||s++}while(s<t);return{start:l,end:u}},r.prototype.buildCustomVisibleRange=function(a){var t=this.getRangeOption("visibleRange",this.dateEnv.toDate(a));return!t||null!=t.start&&null!=t.end?t:null},r.prototype.buildRenderRange=function(a,n,t){return a},r.prototype.buildDateIncrement=function(a){var t,n=this.options.dateIncrement;return n?ue(n):(t=this.options.dateAlignment)?ue(1,t):a||ue({days:1})},r.prototype.getRangeOption=function(a){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var i=this.options[a];return"function"==typeof i&&(i=i.apply(null,n)),i&&(i=Z0(i,this.dateEnv)),i&&(i=hr(i)),i},r.prototype.initHiddenDays=function(){var i,a=this.options.hiddenDays||[],n=[],t=0;for(!1===this.options.weekends&&a.push(0,6),i=0;i<7;i++)(n[i]=-1!==a.indexOf(i))||t++;if(!t)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},r.prototype.trimHiddenDays=function(a){var n=a.start,t=a.end;return n&&(n=this.skipHiddenDays(n)),t&&(t=this.skipHiddenDays(t,-1,!0)),null==n||null==t||n<t?{start:n,end:t}:null},r.prototype.isHiddenDay=function(a){return a instanceof Date&&(a=a.getUTCDay()),this.isHiddenDayHash[a]},r.prototype.skipHiddenDays=function(a,n,t){for(void 0===n&&(n=1),void 0===t&&(t=!1);this.isHiddenDayHash[(a.getUTCDay()+(t?n:0)+7)%7];)a=Ge(a,n);return a},r}();function fA(r,a,n){for(var t=function(r,a){return"SET_VIEW_TYPE"===a.type?a.viewType:r}(r.viewType,a),i=function(r,a,n,t,i){var o;switch(a.type){case"PREV":o=i.dateProfileGenerators[t].buildPrev(r,n);break;case"NEXT":o=i.dateProfileGenerators[t].buildNext(r,n);break;case"SET_DATE":(!r.activeRange||!sn(r.currentRange,a.dateMarker))&&(o=i.dateProfileGenerators[t].build(a.dateMarker,void 0,!0));break;case"SET_VIEW_TYPE":var s=i.dateProfileGenerators[t];if(!s)throw new Error(t?'The FullCalendar view "'+t+'" does not exist. Make sure your plugins are loaded correctly.':"No available FullCalendar view plugins.");o=s.build(a.dateMarker||n,void 0,!0)}return!o||!o.isValid||r&&function(r,a){return ja(r.validRange,a.validRange)&&ja(r.activeRange,a.activeRange)&&ja(r.renderRange,a.renderRange)&&cr(r.minTime,a.minTime)&&cr(r.maxTime,a.maxTime)}(r,o)?r:o}(r.dateProfile,a,r.currentDate,t,n),o=function(r,a,n,t){switch(a.type){case"ADD_EVENT_SOURCES":return function(r,a,n,t){for(var i={},o=0,s=a;o<s.length;o++){var l=s[o];i[l.sourceId]=l}return n&&(i=mu(i,n,t)),B({},r,i)}(r,a.sources,n?n.activeRange:null,t);case"REMOVE_EVENT_SOURCE":return function(r,a){return Nt(r,function(n){return n.sourceId!==a})}(r,a.sourceId);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return n?mu(r,n.activeRange,t):r;case"FETCH_EVENT_SOURCES":case"CHANGE_TIMEZONE":return vu(r,a.sourceIds?Bl(a.sourceIds):function(r,a){return Nt(r,function(n){return hu(n,a)})}(r,t),n?n.activeRange:null,t);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(r,a,n,t){var i,o=r[a];return o&&n===o.latestFetchId?B({},r,((i={})[a]=B({},o,{isFetching:!1,fetchRange:t}),i)):r}(r,a.sourceId,a.fetchId,a.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return r}}(r.eventSources,a,i,n),s=B({},r,{viewType:t,dateProfile:i,currentDate:bA(r.currentDate,a,i),eventSources:o,eventStore:Q0(r.eventStore,a,o,i,n),dateSelection:yA(r.dateSelection,a),eventSelection:_A(r.eventSelection,a),eventDrag:TA(r.eventDrag,a),eventResize:CA(r.eventResize,a),eventSourceLoadingLevel:bu(o),loadingLevel:bu(o)}),l=0,u=n.pluginSystem.hooks.reducers;l<u.length;l++)s=(0,u[l])(s,a,n);return s}function bA(r,a,n){switch(a.type){case"PREV":case"NEXT":return sn(n.currentRange,r)?r:n.currentRange.start;case"SET_DATE":case"SET_VIEW_TYPE":var t=a.dateMarker||r;return n.activeRange&&!sn(n.activeRange,t)?n.currentRange.start:t;default:return r}}function yA(r,a,n){switch(a.type){case"SELECT_DATES":return a.selection;case"UNSELECT_DATES":return null;default:return r}}function _A(r,a){switch(a.type){case"SELECT_EVENT":return a.eventInstanceId;case"UNSELECT_EVENT":return"";default:return r}}function TA(r,a,n,t){switch(a.type){case"SET_EVENT_DRAG":var i=a.state;return{affectedEvents:i.affectedEvents,mutatedEvents:i.mutatedEvents,isEvent:i.isEvent,origSeg:i.origSeg};case"UNSET_EVENT_DRAG":return null;default:return r}}function CA(r,a,n,t){switch(a.type){case"SET_EVENT_RESIZE":var i=a.state;return{affectedEvents:i.affectedEvents,mutatedEvents:i.mutatedEvents,isEvent:i.isEvent,origSeg:i.origSeg};case"UNSET_EVENT_RESIZE":return null;default:return r}}function bu(r){var a=0;for(var n in r)r[n].isFetching&&a++;return a}var ZA={start:null,end:null,allDay:Boolean};function OA(r,a,n){var t=Sr({editable:!1},"",r.allDay,!0,n);return{def:t,ui:Ql(t,a),instance:Ar(t.defId,r.range),range:r.range,isStart:!0,isEnd:!0}}function Rr(r,a,n,t){if(a[r])return a[r];var i=function(r,a,n,t){var i=n[r],o=t[r],s=function(p){return i&&null!==i[p]?i[p]:o&&null!==o[p]?o[p]:null},l=s("class"),u=s("superType");!u&&l&&(u=yu(l,t)||yu(l,n));var c=null;if(u){if(u===r)throw new Error("Can't have a custom view type that references itself");c=Rr(u,a,n,t)}return!l&&c&&(l=c.class),l?{type:r,class:l,defaults:B({},c?c.defaults:{},i?i.options:{}),overrides:B({},c?c.overrides:{},o?o.options:{})}:null}(r,a,n,t);return i&&(a[r]=i),i}function yu(r,a){var n=Object.getPrototypeOf(r.prototype);for(var t in a){var i=a[t];if(i.class&&i.class.prototype===n)return t}return""}function _u(r){return at(r,RA)}var MA={type:String,class:null};function RA(r){"function"==typeof r&&(r={class:r});var a={},n=gt(r,MA,{},a);return{superType:n.type,class:n.class,options:a}}var Tu=function(r){function a(n){var t=r.call(this)||this;return t._renderLayout=Ce(t.renderLayout,t.unrenderLayout),t._updateTitle=Ce(t.updateTitle,null,[t._renderLayout]),t._updateActiveButton=Ce(t.updateActiveButton,null,[t._renderLayout]),t._updateToday=Ce(t.updateToday,null,[t._renderLayout]),t._updatePrev=Ce(t.updatePrev,null,[t._renderLayout]),t._updateNext=Ce(t.updateNext,null,[t._renderLayout]),t.el=nn("div",{className:"fc-toolbar "+n}),t}return Ee(a,r),a.prototype.destroy=function(){r.prototype.destroy.call(this),this._renderLayout.unrender(),Ut(this.el)},a.prototype.render=function(n){this._renderLayout(n.layout),this._updateTitle(n.title),this._updateActiveButton(n.activeButton),this._updateToday(n.isTodayEnabled),this._updatePrev(n.isPrevEnabled),this._updateNext(n.isNextEnabled)},a.prototype.renderLayout=function(n){var t=this.el;this.viewsWithButtons=[],It(t,this.renderSection("left",n.left)),It(t,this.renderSection("center",n.center)),It(t,this.renderSection("right",n.right))},a.prototype.unrenderLayout=function(){this.el.innerHTML=""},a.prototype.renderSection=function(n,t){var i=this,o=this.context,s=o.theme,l=o.calendar,u=l.optionsManager,c=l.viewSpecs,d=nn("div",{className:"fc-"+n}),p=u.computed.customButtons||{},g=u.overrides.buttonText||{},h=u.computed.buttonText||{};return t&&t.split(" ").forEach(function(f,m){var y,v=[],b=!0;if(f.split(",").forEach(function(C,Z){var S,A,x,w,O,U,P,L,H;"title"===C?(v.push(tr("<h2>&nbsp;</h2>")),b=!1):((S=p[C])?(x=function(se){S.click&&S.click.call(L,se)},(w=s.getCustomButtonIconClass(S))||(w=s.getIconClass(C))||(O=S.text)):(A=c[C])?(i.viewsWithButtons.push(C),x=function(){l.changeView(C)},(O=A.buttonTextOverride)||(w=s.getIconClass(C))||(O=A.buttonTextDefault)):l[C]&&(x=function(){l[C]()},(O=g[C])||(w=s.getIconClass(C))||(O=h[C])),x&&(P=["fc-"+C+"-button",s.getClass("button")],O?(U=un(O),H=""):w&&(U="<span class='"+w+"'></span>",H=' aria-label="'+C+'"'),(L=tr('<button type="button" class="'+P.join(" ")+'"'+H+">"+U+"</button>")).addEventListener("click",x),v.push(L)))}),v.length>1){y=document.createElement("div");var _=s.getClass("buttonGroup");b&&_&&y.classList.add(_),It(y,v),d.appendChild(y)}else It(d,v)}),d},a.prototype.updateToday=function(n){this.toggleButtonEnabled("today",n)},a.prototype.updatePrev=function(n){this.toggleButtonEnabled("prev",n)},a.prototype.updateNext=function(n){this.toggleButtonEnabled("next",n)},a.prototype.updateTitle=function(n){rr(this.el,"h2").forEach(function(t){t.innerText=n})},a.prototype.updateActiveButton=function(n){var i=this.context.theme.getClass("buttonActive");rr(this.el,"button").forEach(function(o){n&&o.classList.contains("fc-"+n+"-button")?o.classList.add(i):o.classList.remove(i)})},a.prototype.toggleButtonEnabled=function(n,t){rr(this.el,".fc-"+n+"-button").forEach(function(i){i.disabled=!t})},a}($n),PA=function(r){function a(n){var t=r.call(this)||this;return t.elClassNames=[],t.renderSkeleton=Ce(t._renderSkeleton,t._unrenderSkeleton),t.renderToolbars=Ce(t._renderToolbars,t._unrenderToolbars,[t.renderSkeleton]),t.buildComponentContext=pe(NA),t.buildViewPropTransformers=pe(LA),t.el=n,t.computeTitle=pe(EA),t.parseBusinessHours=pe(function(i){return function(r,a){return $a(function(r){return(!0===r?[{}]:Array.isArray(r)?r.filter(function(n){return n.daysOfWeek}):"object"==typeof r&&r?[r]:[]).map(function(n){return B({},hS,n)})}(r),"",a)}(i,t.context.calendar)}),t}return Ee(a,r),a.prototype.render=function(n,t){this.freezeHeight();var i=this.computeTitle(n.dateProfile,n.viewSpec.options);this.renderSkeleton(t),this.renderToolbars(n.viewSpec,n.dateProfile,n.currentDate,i),this.renderView(n,i),this.updateSize(),this.thawHeight()},a.prototype.destroy=function(){this.header&&this.header.destroy(),this.footer&&this.footer.destroy(),this.renderSkeleton.unrender(),r.prototype.destroy.call(this)},a.prototype._renderSkeleton=function(n){this.updateElClassNames(n),Tl(this.el,this.contentEl=nn("div",{className:"fc-view-container"}));for(var t=n.calendar,i=0,o=t.pluginSystem.hooks.viewContainerModifiers;i<o.length;i++)(0,o[i])(this.contentEl,t)},a.prototype._unrenderSkeleton=function(){this.view&&(this.savedScroll=this.view.queryScroll(),this.view.destroy(),this.view=null),Ut(this.contentEl),this.removeElClassNames()},a.prototype.removeElClassNames=function(){for(var n=this.el.classList,t=0,i=this.elClassNames;t<i.length;t++)n.remove(i[t]);this.elClassNames=[]},a.prototype.updateElClassNames=function(n){this.removeElClassNames(),this.elClassNames=["fc","fc-"+n.options.dir,n.theme.getClass("widget")];for(var o=this.el.classList,s=0,l=this.elClassNames;s<l.length;s++)o.add(l[s])},a.prototype._renderToolbars=function(n,t,i,o){var s=this,l=s.context,u=s.header,c=s.footer,d=l.options,g=d.header,h=d.footer,f=this.props.dateProfileGenerator,m=l.calendar.getNow(),v=f.build(m),b=f.buildPrev(t,i),y=f.buildNext(t,i),_={title:o,activeButton:n.type,isTodayEnabled:v.isValid&&!sn(t.currentRange,m),isPrevEnabled:b.isValid,isNextEnabled:y.isValid};g?(u||(u=this.header=new Tu("fc-header-toolbar"),Tl(this.el,u.el)),u.receiveProps(B({layout:g},_),l)):u&&(u.destroy(),u=this.header=null),h?(c||(c=this.footer=new Tu("fc-footer-toolbar"),It(this.el,c.el)),c.receiveProps(B({layout:h},_),l)):c&&(c.destroy(),c=this.footer=null)},a.prototype._unrenderToolbars=function(){this.header&&(this.header.destroy(),this.header=null),this.footer&&(this.footer.destroy(),this.footer=null)},a.prototype.renderView=function(n,t){var i=this.view,o=this.context,s=o.calendar,l=o.options,u=n.viewSpec,c=n.dateProfileGenerator;(!i||i.viewSpec!==u)&&(i&&i.destroy(),i=this.view=new u.class(u,this.contentEl),this.savedScroll&&(i.addScroll(this.savedScroll,!0),this.savedScroll=null)),i.title=t;for(var d={dateProfileGenerator:c,dateProfile:n.dateProfile,businessHours:this.parseBusinessHours(u.options.businessHours),eventStore:n.eventStore,eventUiBases:n.eventUiBases,dateSelection:n.dateSelection,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize},g=0,h=this.buildViewPropTransformers(s.pluginSystem.hooks.viewPropsTransformers);g<h.length;g++)B(d,h[g].transform(d,u,n,l));i.receiveProps(d,this.buildComponentContext(this.context,u,i))},a.prototype.updateSize=function(n){void 0===n&&(n=!1);var t=this.view;!t||((n||null==this.isHeightAuto)&&this.computeHeightVars(),t.updateSize(n,this.viewHeight,this.isHeightAuto),t.updateNowIndicator(),t.popScroll(n))},a.prototype.computeHeightVars=function(){var n=this.context.calendar,t=n.opt("height"),i=n.opt("contentHeight");this.isHeightAuto="auto"===t||"auto"===i,this.viewHeight="number"==typeof i?i:"function"==typeof i?i():"number"==typeof t?t-this.queryToolbarsHeight():"function"==typeof t?t()-this.queryToolbarsHeight():"parent"===t?this.el.parentNode.getBoundingClientRect().height-this.queryToolbarsHeight():Math.round(this.contentEl.getBoundingClientRect().width/Math.max(n.opt("aspectRatio"),.5))},a.prototype.queryToolbarsHeight=function(){var n=0;return this.header&&(n+=Sl(this.header.el)),this.footer&&(n+=Sl(this.footer.el)),n},a.prototype.freezeHeight=function(){Pe(this.el,{height:this.el.getBoundingClientRect().height,overflow:"hidden"})},a.prototype.thawHeight=function(){Pe(this.el,{height:"",overflow:""})},a}($n);function EA(r,a){var n;return n=/^(year|month)$/.test(r.currentRangeUnit)?r.currentRange:r.activeRange,this.context.dateEnv.formatRange(n.start,n.end,ht(a.titleFormat||function(r){var a=r.currentRangeUnit;if("year"===a)return{year:"numeric"};if("month"===a)return{year:"numeric",month:"long"};var n=Ya(r.currentRange.start,r.currentRange.end);return null!==n&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(r),a.titleRangeSeparator),{isEndExclusive:r.isRangeAllDay})}function NA(r,a,n){return r.extend(a.options,n)}function LA(r){return r.map(function(a){return new a})}var Cu=function(){function r(a){this.component=a.component}return r.prototype.destroy=function(){},r}(),Zu={},zA=function(r){function a(n){var t=r.call(this,n)||this;t.handleSegClick=function(o,s){var l=t.component,u=l.context,c=u.calendar,d=u.view,p=Cr(s);if(p&&l.isValidSegDownEl(o.target)){var g=Pt(o.target,".fc-has-url"),h=g?g.querySelector("a[href]").href:"";c.publiclyTrigger("eventClick",[{el:s,event:new Se(l.context.calendar,p.eventRange.def,p.eventRange.instance),jsEvent:o,view:d}]),h&&!o.defaultPrevented&&(window.location.href=h)}};var i=n.component;return t.destroy=sr(i.el,"click",i.fgSegSelector+","+i.bgSegSelector,t.handleSegClick),t}return Ee(a,r),a}(Cu),HA=function(r){function a(n){var t=r.call(this,n)||this;t.handleEventElRemove=function(o){o===t.currentSegEl&&t.handleSegLeave(null,t.currentSegEl)},t.handleSegEnter=function(o,s){Cr(s)&&(s.classList.add("fc-allow-mouse-resize"),t.currentSegEl=s,t.triggerEvent("eventMouseEnter",o,s))},t.handleSegLeave=function(o,s){t.currentSegEl&&(s.classList.remove("fc-allow-mouse-resize"),t.currentSegEl=null,t.triggerEvent("eventMouseLeave",o,s))};var i=n.component;return t.removeHoverListeners=function(r,a,n,t){var i;return sr(r,"mouseover",a,function(o,s){s!==i&&(i=s,n(o,s),s.addEventListener("mouseleave",function u(c){i=null,t(c,s),s.removeEventListener("mouseleave",u)}))})}(i.el,i.fgSegSelector+","+i.bgSegSelector,t.handleSegEnter,t.handleSegLeave),i.context.calendar.on("eventElRemove",t.handleEventElRemove),t}return Ee(a,r),a.prototype.destroy=function(){this.removeHoverListeners(),this.component.context.calendar.off("eventElRemove",this.handleEventElRemove)},a.prototype.triggerEvent=function(n,t,i){var o=this.component,s=o.context,l=s.calendar,u=s.view,c=Cr(i);(!t||o.isValidSegDownEl(t.target))&&l.publiclyTrigger(n,[{el:i,event:new Se(l,c.eventRange.def,c.eventRange.instance),jsEvent:t,view:u}])},a}(Cu),Ft=function(r){function a(){return null!==r&&r.apply(this,arguments)||this}return Ee(a,r),a}(Kn);Ft.prototype.classes={widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},Ft.prototype.baseIconClass="fc-icon",Ft.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Ft.prototype.iconOverrideOption="buttonIcons",Ft.prototype.iconOverrideCustomButtonOption="icon",Ft.prototype.iconOverridePrefix="fc-icon-";var ku=function(){function r(a,n){var t=this;this.buildComponentContext=pe(VA),this.parseRawLocales=pe(Dr),this.buildLocale=pe(Mr),this.buildDateEnv=pe(JA),this.buildTheme=pe(YA),this.buildEventUiSingleBase=pe(this._buildEventUiSingleBase),this.buildSelectionConfig=pe(this._buildSelectionConfig),this.buildEventUiBySource=function(r,a){var n=null;return function(){var t=r.apply(this,arguments);return(null===n||!(n===t||a(n,t)))&&(n=t),n}}(KA,y0),this.buildEventUiBases=pe($A),this.interactionsStore={},this.actionQueue=[],this.isReducing=!1,this.needsRerender=!1,this.isRendering=!1,this.renderingPauseDepth=0,this.buildDelayedRerender=pe(QA),this.afterSizingTriggers={},this.isViewUpdated=!1,this.isDatesUpdated=!1,this.isEventsUpdated=!1,this.el=a,this.optionsManager=new GS(n||{}),this.pluginSystem=new wS,this.addPluginInputs(this.optionsManager.computed.plugins||[]),this.handleOptions(this.optionsManager.computed),this.publiclyTrigger("_init"),this.hydrate(),this.calendarInteractions=this.pluginSystem.hooks.calendarInteractions.map(function(i){return new i(t)})}return r.prototype.addPluginInputs=function(a){for(var n=function(r){for(var a=[],n=0,t=r;n<t.length;n++){var i=t[n];if("string"==typeof i){var o="FullCalendar"+pr(i);window[o]?a.push(window[o].default):console.warn("Plugin file not loaded for "+i)}else a.push(i)}return YS.concat(a)}(a),t=0,i=n;t<i.length;t++)this.pluginSystem.add(i[t])},Object.defineProperty(r.prototype,"view",{get:function(){return this.component?this.component.view:null},enumerable:!0,configurable:!0}),r.prototype.render=function(){this.component?this.requestRerender():(this.component=new PA(this.el),this.renderableEventStore={defs:{},instances:{}},this.bindHandlers(),this.executeRender())},r.prototype.destroy=function(){if(this.component){this.unbindHandlers(),this.component.destroy(),this.component=null;for(var a=0,n=this.calendarInteractions;a<n.length;a++)n[a].destroy();this.publiclyTrigger("_destroyed")}},r.prototype.bindHandlers=function(){var a=this;this.removeNavLinkListener=sr(this.el,"click","a[data-goto]",function(n,t){var i=t.getAttribute("data-goto");i=i?JSON.parse(i):{};var o=a.dateEnv,s=o.createMarker(i.date),l=i.type,u=a.viewOpt("navLink"+pr(l)+"Click");"function"==typeof u?u(o.toDate(s),n):("string"==typeof u&&(l=u),a.zoomTo(s,l))}),this.opt("handleWindowResize")&&window.addEventListener("resize",this.windowResizeProxy=Ul(this.windowResize.bind(this),this.opt("windowResizeDelay")))},r.prototype.unbindHandlers=function(){this.removeNavLinkListener(),this.windowResizeProxy&&(window.removeEventListener("resize",this.windowResizeProxy),this.windowResizeProxy=null)},r.prototype.hydrate=function(){var a=this;this.state=this.buildInitialState();var n=this.opt("eventSources")||[],t=this.opt("events"),i=[];t&&n.unshift(t);for(var o=0,s=n;o<s.length;o++){var u=fu(s[o],this);u&&i.push(u)}this.batchRendering(function(){a.dispatch({type:"INIT"}),a.dispatch({type:"ADD_EVENT_SOURCES",sources:i}),a.dispatch({type:"SET_VIEW_TYPE",viewType:a.opt("defaultView")||a.pluginSystem.hooks.defaultView})})},r.prototype.buildInitialState=function(){return{viewType:null,loadingLevel:0,eventSourceLoadingLevel:0,currentDate:this.getInitialDate(),dateProfile:null,eventSources:{},eventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null}},r.prototype.dispatch=function(a){if(this.actionQueue.push(a),!this.isReducing){this.isReducing=!0;for(var n=this.state;this.actionQueue.length;)this.state=this.reduce(this.state,this.actionQueue.shift(),this);var t=this.state;this.isReducing=!1,!n.loadingLevel&&t.loadingLevel?this.publiclyTrigger("loading",[!0]):n.loadingLevel&&!t.loadingLevel&&this.publiclyTrigger("loading",[!1]);var i=this.component&&this.component.view;n.eventStore!==t.eventStore&&n.eventStore&&(this.isEventsUpdated=!0),n.dateProfile!==t.dateProfile&&(n.dateProfile&&i&&this.publiclyTrigger("datesDestroy",[{view:i,el:i.el}]),this.isDatesUpdated=!0),n.viewType!==t.viewType&&(n.viewType&&i&&this.publiclyTrigger("viewSkeletonDestroy",[{view:i,el:i.el}]),this.isViewUpdated=!0),this.requestRerender()}},r.prototype.reduce=function(a,n,t){return fA(a,n,t)},r.prototype.requestRerender=function(){this.needsRerender=!0,this.delayedRerender()},r.prototype.tryRerender=function(){this.component&&this.needsRerender&&!this.renderingPauseDepth&&!this.isRendering&&this.executeRender()},r.prototype.batchRendering=function(a){this.renderingPauseDepth++,a(),this.renderingPauseDepth--,this.needsRerender&&this.requestRerender()},r.prototype.executeRender=function(){this.needsRerender=!1,this.isRendering=!0,this.renderComponent(),this.isRendering=!1,this.needsRerender&&this.delayedRerender()},r.prototype.renderComponent=function(){var n=this.state,t=this.component,i=n.viewType,o=this.viewSpecs[i];if(!o)throw new Error('View type "'+i+'" is not valid');var s=this.renderableEventStore=n.eventSourceLoadingLevel&&!this.opt("progressiveEventRendering")?this.renderableEventStore:n.eventStore,l=this.buildEventUiSingleBase(o.options),u=this.buildEventUiBySource(n.eventSources),c=this.eventUiBases=this.buildEventUiBases(s.defs,l,u);t.receiveProps(B({},n,{viewSpec:o,dateProfileGenerator:this.dateProfileGenerators[i],dateProfile:n.dateProfile,eventStore:s,eventUiBases:c,dateSelection:n.dateSelection,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize}),this.buildComponentContext(this.theme,this.dateEnv,this.optionsManager.computed)),this.isViewUpdated&&(this.isViewUpdated=!1,this.publiclyTrigger("viewSkeletonRender",[{view:t.view,el:t.view.el}])),this.isDatesUpdated&&(this.isDatesUpdated=!1,this.publiclyTrigger("datesRender",[{view:t.view,el:t.view.el}])),this.isEventsUpdated&&(this.isEventsUpdated=!1),this.releaseAfterSizingTriggers()},r.prototype.setOption=function(a,n){var t;this.mutateOptions(((t={})[a]=n,t),[],!0)},r.prototype.getOption=function(a){return this.optionsManager.computed[a]},r.prototype.opt=function(a){return this.optionsManager.computed[a]},r.prototype.viewOpt=function(a){return this.viewOpts()[a]},r.prototype.viewOpts=function(){return this.viewSpecs[this.state.viewType].options},r.prototype.mutateOptions=function(a,n,t,i){var o=this,s=this.pluginSystem.hooks.optionChangeHandlers,l={},u={},c=this.dateEnv,d=!1,p=!1,g=Boolean(n.length);for(var h in a)s[h]?u[h]=a[h]:l[h]=a[h];for(var f in l)/^(height|contentHeight|aspectRatio)$/.test(f)?p=!0:/^(defaultDate|defaultView)$/.test(f)||(g=!0,"timeZone"===f&&(d=!0));this.optionsManager.mutate(l,n,t),g&&this.handleOptions(this.optionsManager.computed),this.batchRendering(function(){if(g?(d&&o.dispatch({type:"CHANGE_TIMEZONE",oldDateEnv:c}),o.dispatch({type:"SET_VIEW_TYPE",viewType:o.state.viewType})):p&&o.updateSize(),i)for(var m in u)s[m](u[m],o,i)})},r.prototype.handleOptions=function(a){var n=this,t=this.pluginSystem.hooks;this.defaultAllDayEventDuration=ue(a.defaultAllDayEventDuration),this.defaultTimedEventDuration=ue(a.defaultTimedEventDuration),this.delayedRerender=this.buildDelayedRerender(a.rerenderDelay),this.theme=this.buildTheme(a);var i=this.parseRawLocales(a.locales);this.availableRawLocales=i.map;var o=this.buildLocale(a.locale||i.defaultCode,i.map);this.dateEnv=this.buildDateEnv(o,a.timeZone,t.namedTimeZonedImpl,a.firstDay,a.weekNumberCalculation,a.weekLabel,t.cmdFormatter),this.selectionConfig=this.buildSelectionConfig(a),this.viewSpecs=function(r,a){var n=_u(r),t=_u(a.overrides.views),i=function(r,a){var t,n={};for(t in r)Rr(t,n,r,a);for(t in a)Rr(t,n,r,a);return n}(n,t);return at(i,function(o){return function(r,a,n){var t=r.overrides.duration||r.defaults.duration||n.dynamicOverrides.duration||n.overrides.duration,i=null,o="",s="",l={};if(t&&(i=ue(t))){var u=dr(i,!ur(t));o=u.unit,1===u.value&&(s=o,l=a[o]?a[o].options:{})}var c=function(p){var g=p.buttonText||{},h=r.defaults.buttonTextKey;return null!=h&&null!=g[h]?g[h]:null!=g[r.type]?g[r.type]:null!=g[s]?g[s]:void 0};return{type:r.type,class:r.class,duration:i,durationUnit:o,singleUnit:s,options:B({},Lt,r.defaults,n.dirDefaults,n.localeDefaults,n.overrides,l,r.overrides,n.dynamicOverrides),buttonTextOverride:c(n.dynamicOverrides)||c(n.overrides)||r.overrides.buttonText,buttonTextDefault:c(n.localeDefaults)||c(n.dirDefaults)||r.defaults.buttonText||c(Lt)||r.type}}(o,t,a)})}(t.views,this.optionsManager),this.dateProfileGenerators=at(this.viewSpecs,function(s){return new s.class.prototype.dateProfileGeneratorClass(s,n)})},r.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.availableRawLocales)},r.prototype._buildSelectionConfig=function(a){return tu("select",a,this)},r.prototype._buildEventUiSingleBase=function(a){return a.editable&&(a=B({},a,{eventEditable:!0})),tu("event",a,this)},r.prototype.hasPublicHandlers=function(a){return this.hasHandlers(a)||this.opt(a)},r.prototype.publiclyTrigger=function(a,n){var t=this.opt(a);if(this.triggerWith(a,this,n),t)return t.apply(this,n)},r.prototype.publiclyTriggerAfterSizing=function(a,n){var t=this.afterSizingTriggers;(t[a]||(t[a]=[])).push(n)},r.prototype.releaseAfterSizingTriggers=function(){var a=this.afterSizingTriggers;for(var n in a)for(var t=0,i=a[n];t<i.length;t++)this.publiclyTrigger(n,i[t]);this.afterSizingTriggers={}},r.prototype.isValidViewType=function(a){return Boolean(this.viewSpecs[a])},r.prototype.changeView=function(a,n){var t=null;n&&(n.start&&n.end?(this.optionsManager.mutate({visibleRange:n},[]),this.handleOptions(this.optionsManager.computed)):t=this.dateEnv.createMarker(n)),this.unselect(),this.dispatch({type:"SET_VIEW_TYPE",viewType:a,dateMarker:t})},r.prototype.zoomTo=function(a,n){var t;t=this.viewSpecs[n=n||"day"]||this.getUnitViewSpec(n),this.unselect(),this.dispatch(t?{type:"SET_VIEW_TYPE",viewType:t.type,dateMarker:a}:{type:"SET_DATE",dateMarker:a})},r.prototype.getUnitViewSpec=function(a){var i,o,n=this.component,t=[];for(var s in n.header&&t.push.apply(t,n.header.viewsWithButtons),n.footer&&t.push.apply(t,n.footer.viewsWithButtons),this.viewSpecs)t.push(s);for(i=0;i<t.length;i++)if((o=this.viewSpecs[t[i]])&&o.singleUnit===a)return o},r.prototype.getInitialDate=function(){var a=this.opt("defaultDate");return null!=a?this.dateEnv.createMarker(a):this.getNow()},r.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},r.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},r.prototype.prevYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,-1)})},r.prototype.nextYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,1)})},r.prototype.today=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.getNow()})},r.prototype.gotoDate=function(a){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.createMarker(a)})},r.prototype.incrementDate=function(a){var n=ue(a);n&&(this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.add(this.state.currentDate,n)}))},r.prototype.getDate=function(){return this.dateEnv.toDate(this.state.currentDate)},r.prototype.formatDate=function(a,n){var t=this.dateEnv;return t.format(t.createMarker(a),ht(n))},r.prototype.formatRange=function(a,n,t){var i=this.dateEnv;return i.formatRange(i.createMarker(a),i.createMarker(n),ht(t,this.opt("defaultRangeSeparator")),t)},r.prototype.formatIso=function(a,n){var t=this.dateEnv;return t.formatIso(t.createMarker(a),{omitTime:n})},r.prototype.windowResize=function(a){!this.isHandlingWindowResize&&this.component&&a.target===window&&(this.isHandlingWindowResize=!0,this.updateSize(),this.publiclyTrigger("windowResize",[this.view]),this.isHandlingWindowResize=!1)},r.prototype.updateSize=function(){this.component&&this.component.updateSize(!0)},r.prototype.registerInteractiveComponent=function(a,n){var t=function(r,a){return{component:r,el:a.el,useEventCenter:null==a.useEventCenter||a.useEventCenter}}(a,n),s=[zA,HA].concat(this.pluginSystem.hooks.componentInteractions).map(function(l){return new l(t)});this.interactionsStore[a.uid]=s,Zu[a.uid]=t},r.prototype.unregisterInteractiveComponent=function(a){for(var n=0,t=this.interactionsStore[a.uid];n<t.length;n++)t[n].destroy();delete this.interactionsStore[a.uid],delete Zu[a.uid]},r.prototype.select=function(a,n){var i=function(r,a,n){var t=function(r,a){var n={},t=gt(r,ZA,{},n),i=t.start?a.createMarkerMeta(t.start):null,o=t.end?a.createMarkerMeta(t.end):null,s=t.allDay;return null==s&&(s=i&&i.isTimeUnspecified&&(!o||o.isTimeUnspecified)),n.range={start:i?i.marker:null,end:o?o.marker:null},n.allDay=s,n}(r,a),i=t.range;if(!i.start)return null;if(!i.end){if(null==n)return null;i.end=a.add(i.start,n)}return t}(null==n?null!=a.start?a:{start:a,end:null}:{start:a,end:n},this.dateEnv,ue({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),this.triggerDateSelect(i))},r.prototype.unselect=function(a){this.state.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),this.triggerDateUnselect(a))},r.prototype.triggerDateSelect=function(a,n){var t=B({},this.buildDateSpanApi(a),{jsEvent:n?n.origEvent:null,view:this.view});this.publiclyTrigger("select",[t])},r.prototype.triggerDateUnselect=function(a){this.publiclyTrigger("unselect",[{jsEvent:a?a.origEvent:null,view:this.view}])},r.prototype.triggerDateClick=function(a,n,t,i){var o=B({},this.buildDatePointApi(a),{dayEl:n,jsEvent:i,view:t});this.publiclyTrigger("dateClick",[o])},r.prototype.buildDatePointApi=function(a){for(var n={},t=0,i=this.pluginSystem.hooks.datePointTransforms;t<i.length;t++)B(n,(0,i[t])(a,this));return B(n,function(r,a){return{date:a.toDate(r.range.start),dateStr:a.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay}}(a,this.dateEnv)),n},r.prototype.buildDateSpanApi=function(a){for(var n={},t=0,i=this.pluginSystem.hooks.dateSpanTransforms;t<i.length;t++)B(n,(0,i[t])(a,this));return B(n,function(r,a){return{start:a.toDate(r.range.start),end:a.toDate(r.range.end),startStr:a.formatIso(r.range.start,{omitTime:r.allDay}),endStr:a.formatIso(r.range.end,{omitTime:r.allDay}),allDay:r.allDay}}(a,this.dateEnv)),n},r.prototype.getNow=function(){var a=this.opt("now");return"function"==typeof a&&(a=a()),null==a?this.dateEnv.createNowMarker():this.dateEnv.createMarker(a)},r.prototype.getDefaultEventEnd=function(a,n){var t=n;return a?(t=_e(t),t=this.dateEnv.add(t,this.defaultAllDayEventDuration)):t=this.dateEnv.add(t,this.defaultTimedEventDuration),t},r.prototype.addEvent=function(a,n){if(a instanceof Se){var t=a._def;return this.state.eventStore.defs[t.defId]||this.dispatch({type:"ADD_EVENTS",eventStore:vr({def:t,instance:a._instance})}),a}var o;if(n instanceof ln)o=n.internalEventSource.sourceId;else if(null!=n){var s=this.getEventSourceById(n);if(!s)return console.warn('Could not find an event source with ID "'+n+'"'),null;o=s.internalEventSource.sourceId}var l=ru(a,o,this);return l?(this.dispatch({type:"ADD_EVENTS",eventStore:vr(l)}),new Se(this,l.def,l.def.recurringDef?null:l.instance)):null},r.prototype.getEventById=function(a){var n=this.state.eventStore,t=n.defs,i=n.instances;for(var o in a=String(a),t){var s=t[o];if(s.publicId===a){if(s.recurringDef)return new Se(this,s,null);for(var l in i){var u=i[l];if(u.defId===s.defId)return new Se(this,s,u)}}}return null},r.prototype.getEvents=function(){var a=this.state.eventStore,n=a.defs,t=a.instances,i=[];for(var o in t){var s=t[o];i.push(new Se(this,n[s.defId],s))}return i},r.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},r.prototype.rerenderEvents=function(){this.dispatch({type:"RESET_EVENTS"})},r.prototype.getEventSources=function(){var a=this.state.eventSources,n=[];for(var t in a)n.push(new ln(this,a[t]));return n},r.prototype.getEventSourceById=function(a){var n=this.state.eventSources;for(var t in a=String(a),n)if(n[t].publicId===a)return new ln(this,n[t]);return null},r.prototype.addEventSource=function(a){if(a instanceof ln)return this.state.eventSources[a.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[a.internalEventSource]}),a;var n=fu(a,this);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new ln(this,n)):null},r.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},r.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES"})},r.prototype.scrollToTime=function(a){var n=ue(a);n&&this.component.view.scrollToDuration(n)},r}();function VA(r,a,n){return new kS(this,r,a,n,null)}function JA(r,a,n,t,i,o,s){return new gu({calendarSystem:"gregory",timeZone:a,namedTimeZoneImpl:n,locale:r,weekNumberCalculation:i,firstDay:t,weekLabel:o,cmdFormatter:s})}function YA(r){return new(this.pluginSystem.hooks.themeClasses[r.themeSystem]||Ft)(r)}function QA(r){var a=this.tryRerender.bind(this);return null!=r&&(a=Ul(a,r)),a}function KA(r){return at(r,function(a){return a.ui})}function $A(r,a,n){var t={"":a};for(var i in r){var o=r[i];o.sourceId&&n[o.sourceId]&&(t[i]=n[o.sourceId])}return t}xr.mixInto(ku);var Ir=function(r){function a(n,t){var i=r.call(this,nn("div",{className:"fc-view fc-"+n.type+"-view"}))||this;return i.renderDatesMem=Ce(i.renderDatesWrap,i.unrenderDatesWrap),i.renderBusinessHoursMem=Ce(i.renderBusinessHours,i.unrenderBusinessHours,[i.renderDatesMem]),i.renderDateSelectionMem=Ce(i.renderDateSelectionWrap,i.unrenderDateSelectionWrap,[i.renderDatesMem]),i.renderEventsMem=Ce(i.renderEvents,i.unrenderEvents,[i.renderDatesMem]),i.renderEventSelectionMem=Ce(i.renderEventSelectionWrap,i.unrenderEventSelectionWrap,[i.renderEventsMem]),i.renderEventDragMem=Ce(i.renderEventDragWrap,i.unrenderEventDragWrap,[i.renderDatesMem]),i.renderEventResizeMem=Ce(i.renderEventResizeWrap,i.unrenderEventResizeWrap,[i.renderDatesMem]),i.viewSpec=n,i.type=n.type,t.appendChild(i.el),i.initialize(),i}return Ee(a,r),a.prototype.initialize=function(){},Object.defineProperty(a.prototype,"activeStart",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"activeEnd",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.end)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"currentStart",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"currentEnd",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.end)},enumerable:!0,configurable:!0}),a.prototype.render=function(n,t){this.renderDatesMem(n.dateProfile),this.renderBusinessHoursMem(n.businessHours),this.renderDateSelectionMem(n.dateSelection),this.renderEventsMem(n.eventStore),this.renderEventSelectionMem(n.eventSelection),this.renderEventDragMem(n.eventDrag),this.renderEventResizeMem(n.eventResize)},a.prototype.beforeUpdate=function(){this.addScroll(this.queryScroll())},a.prototype.destroy=function(){r.prototype.destroy.call(this),this.renderDatesMem.unrender()},a.prototype.updateSize=function(n,t,i){var o=this.context.calendar;n&&this.addScroll(this.queryScroll()),(n||o.isViewUpdated||o.isDatesUpdated||o.isEventsUpdated)&&this.updateBaseSize(n,t,i)},a.prototype.updateBaseSize=function(n,t,i){},a.prototype.renderDatesWrap=function(n){this.renderDates(n),this.addScroll({duration:ue(this.context.options.scrollTime)})},a.prototype.unrenderDatesWrap=function(){this.stopNowIndicator(),this.unrenderDates()},a.prototype.renderDates=function(n){},a.prototype.unrenderDates=function(){},a.prototype.renderBusinessHours=function(n){},a.prototype.unrenderBusinessHours=function(){},a.prototype.renderDateSelectionWrap=function(n){n&&this.renderDateSelection(n)},a.prototype.unrenderDateSelectionWrap=function(n){n&&this.unrenderDateSelection(n)},a.prototype.renderDateSelection=function(n){},a.prototype.unrenderDateSelection=function(n){},a.prototype.renderEvents=function(n){},a.prototype.unrenderEvents=function(){},a.prototype.sliceEvents=function(n,t){var i=this.props;return Tr(n,i.eventUiBases,i.dateProfile.activeRange,t?this.context.nextDayThreshold:null).fg},a.prototype.renderEventSelectionWrap=function(n){n&&this.renderEventSelection(n)},a.prototype.unrenderEventSelectionWrap=function(n){n&&this.unrenderEventSelection(n)},a.prototype.renderEventSelection=function(n){},a.prototype.unrenderEventSelection=function(n){},a.prototype.renderEventDragWrap=function(n){n&&this.renderEventDrag(n)},a.prototype.unrenderEventDragWrap=function(n){n&&this.unrenderEventDrag(n)},a.prototype.renderEventDrag=function(n){},a.prototype.unrenderEventDrag=function(n){},a.prototype.renderEventResizeWrap=function(n){n&&this.renderEventResize(n)},a.prototype.unrenderEventResizeWrap=function(n){n&&this.unrenderEventResize(n)},a.prototype.renderEventResize=function(n){},a.prototype.unrenderEventResize=function(n){},a.prototype.startNowIndicator=function(n,t){var c,d,p,i=this,o=this.context,s=o.calendar,l=o.dateEnv;o.options.nowIndicator&&!this.initialNowDate&&(c=this.getNowIndicatorUnit(n,t))&&(d=this.updateNowIndicator.bind(this),this.initialNowDate=s.getNow(),this.initialNowQueriedMs=(new Date).valueOf(),p=l.add(l.startOf(this.initialNowDate,c),ue(1,c)).valueOf()-this.initialNowDate.valueOf(),this.nowIndicatorTimeoutID=setTimeout(function(){i.nowIndicatorTimeoutID=null,d(),p="second"===c?1e3:6e4,i.nowIndicatorIntervalID=setInterval(d,p)},p))},a.prototype.updateNowIndicator=function(){this.props.dateProfile&&this.initialNowDate&&(this.unrenderNowIndicator(),this.renderNowIndicator(Jn(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs)),this.isNowIndicatorRendered=!0)},a.prototype.stopNowIndicator=function(){this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearInterval(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},a.prototype.getNowIndicatorUnit=function(n,t){},a.prototype.renderNowIndicator=function(n){},a.prototype.unrenderNowIndicator=function(){},a.prototype.addScroll=function(n,t){t&&(n.isForced=t),B(this.queuedScroll||(this.queuedScroll={}),n)},a.prototype.popScroll=function(n){this.applyQueuedScroll(n),this.queuedScroll=null},a.prototype.applyQueuedScroll=function(n){this.queuedScroll&&this.applyScroll(this.queuedScroll,n)},a.prototype.queryScroll=function(){var n={};return this.props.dateProfile&&B(n,this.queryDateScroll()),n},a.prototype.applyScroll=function(n,t){var i=n.duration;null!=i&&!n.isForced&&(delete n.duration,this.props.dateProfile&&B(n,this.computeDateScroll(i))),this.props.dateProfile&&this.applyDateScroll(n)},a.prototype.computeDateScroll=function(n){return{}},a.prototype.queryDateScroll=function(){return{}},a.prototype.applyDateScroll=function(n){},a.prototype.scrollToDuration=function(n){this.applyScroll({duration:n},!1)},a}(Or);function GA(r){var a=r.eventRange.def,n=r.eventRange.instance.range,t=n.start?n.start.valueOf():0,i=n.end?n.end.valueOf():0;return B({},a.extendedProps,a,{id:a.publicId,start:t,end:i,duration:i-t,allDay:Number(a.allDay),_seg:r})}function ew(r,a,n,t,i,o,s,l){var h,u=o.dateEnv,c=o.theme,d=o.options,p=sn(a.activeRange,r),g=["fc-day-header",c.getClass("widgetHeader")];return h="function"==typeof d.columnHeaderHtml?d.columnHeaderHtml(u.toDate(r)):un("function"==typeof d.columnHeaderText?d.columnHeaderText(u.toDate(r)):u.format(r,i)),n?g=g.concat(function(r,a,n,t){var c,d,i=n.calendar,o=n.options,l=n.dateEnv,u=[];return sn(a.activeRange,r)?(u.push("fc-"+xl[r.getUTCDay()]),o.monthMode&&l.getMonth(r)!==l.getMonth(a.currentRange.start)&&u.push("fc-other-month"),d=Ge(c=_e(i.getNow()),1),r<c?u.push("fc-past"):r>=d?u.push("fc-future"):u.push("fc-today")):u.push("fc-disabled-day"),u}(r,a,o)):g.push("fc-"+xl[r.getUTCDay()]),'<th class="'+g.join(" ")+'"'+(p&&n?' data-date="'+u.formatIso(r,{omitTime:!0})+'"':"")+(s>1?' colspan="'+s+'"':"")+(l?" "+l:"")+">"+(p?function(r,a,n,t,i){var o,s,l,u;return n instanceof Date?o=n:(o=n.date,s=n.type,l=n.forceOff),u={date:a.formatIso(o,{omitTime:!0}),type:s||"day"},"string"==typeof t&&(i=t,t=null),t=t?" "+function(r){var a=[];for(var n in r){var t=r[n];null!=t&&a.push(n+'="'+un(t)+'"')}return a.join(" ")}(t):"",i=i||"",!l&&r.navLinks?"<a"+t+' data-goto="'+un(JSON.stringify(u))+'">'+i+"</a>":"<span"+t+">"+i+"</span>"}(d,u,{date:r,forceOff:!n||1===t},h):h)+"</th>"}function Ur(r,a){var n=r.activeRange;return a?n:{start:Jn(n.start,r.minTime.milliseconds),end:Jn(n.end,r.maxTime.milliseconds-864e5)}}xr.mixInto(Ir),Ir.prototype.usesMinMaxTime=!1,Ir.prototype.dateProfileGeneratorClass=gA,function(){function r(){this.segs=[],this.isSizeDirty=!1}r.prototype.renderSegs=function(a,n,t){this.context=a,this.rangeUpdated(),n=this.renderSegEls(n,t),this.segs=n,this.attachSegs(n,t),this.isSizeDirty=!0,Kl(this.context,this.segs,Boolean(t))},r.prototype.unrender=function(a,n,t){$l(this.context,this.segs,Boolean(t)),this.detachSegs(this.segs),this.segs=[]},r.prototype.rangeUpdated=function(){var n,t,a=this.context.options;this.eventTimeFormat=ht(a.eventTimeFormat||this.computeEventTimeFormat(),a.defaultRangeSeparator),null==(n=a.displayEventTime)&&(n=this.computeDisplayEventTime()),null==(t=a.displayEventEnd)&&(t=this.computeDisplayEventEnd()),this.displayEventTime=n,this.displayEventEnd=t},r.prototype.renderSegEls=function(a,n){var i,t="";if(a.length){for(i=0;i<a.length;i++)t+=this.renderSegHtml(a[i],n);nr(t).forEach(function(o,s){o&&(a[s].el=o)}),a=Yl(this.context,a,Boolean(n))}return a},r.prototype.getSegClasses=function(a,n,t,i){var o=["fc-event",a.isStart?"fc-start":"fc-not-start",a.isEnd?"fc-end":"fc-not-end"].concat(a.eventRange.ui.classNames);return n&&o.push("fc-draggable"),t&&o.push("fc-resizable"),i&&(o.push("fc-mirror"),i.isDragging&&o.push("fc-dragging"),i.isResizing&&o.push("fc-resizing")),o},r.prototype.getTimeText=function(a,n,t){var i=a.def,o=a.instance;return this._getTimeText(o.range.start,i.hasEnd?o.range.end:null,i.allDay,n,t,o.forcedStartTzo,o.forcedEndTzo)},r.prototype._getTimeText=function(a,n,t,i,o,s,l){var u=this.context.dateEnv;return null==i&&(i=this.eventTimeFormat),null==o&&(o=this.displayEventEnd),this.displayEventTime&&!t?o&&n?u.formatRange(a,n,i,{forcedStartTzo:s,forcedEndTzo:l}):u.format(a,i,{forcedTzo:s}):""},r.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0}},r.prototype.computeDisplayEventTime=function(){return!0},r.prototype.computeDisplayEventEnd=function(){return!0},r.prototype.getSkinCss=function(a){return{"background-color":a.backgroundColor,"border-color":a.borderColor,color:a.textColor}},r.prototype.sortEventSegs=function(a){var n=this.context.eventOrderSpecs,t=a.map(GA);return t.sort(function(i,o){return function(r,a,n){var t,i;for(t=0;t<n.length;t++)if(i=f0(r,a,n[t]))return i;return 0}(i,o,n)}),t.map(function(i){return i._seg})},r.prototype.computeSizes=function(a){(a||this.isSizeDirty)&&this.computeSegSizes(this.segs)},r.prototype.assignSizes=function(a){(a||this.isSizeDirty)&&(this.assignSegSizes(this.segs),this.isSizeDirty=!1)},r.prototype.computeSegSizes=function(a){},r.prototype.assignSegSizes=function(a){},r.prototype.hideByHash=function(a){if(a)for(var n=0,t=this.segs;n<t.length;n++){var i=t[n];a[i.eventRange.instance.instanceId]&&(i.el.style.visibility="hidden")}},r.prototype.showByHash=function(a){if(a)for(var n=0,t=this.segs;n<t.length;n++){var i=t[n];a[i.eventRange.instance.instanceId]&&(i.el.style.visibility="")}},r.prototype.selectByInstanceId=function(a){if(a)for(var n=0,t=this.segs;n<t.length;n++){var i=t[n],o=i.eventRange.instance;o&&o.instanceId===a&&i.el&&i.el.classList.add("fc-selected")}},r.prototype.unselectByInstanceId=function(a){if(a)for(var n=0,t=this.segs;n<t.length;n++){var i=t[n];i.el&&i.el.classList.remove("fc-selected")}}}(),function(){function r(){this.fillSegTag="div",this.dirtySizeFlags={},this.containerElsByType={},this.segsByType={}}r.prototype.getSegsByType=function(a){return this.segsByType[a]||[]},r.prototype.renderSegs=function(a,n,t){var i;this.context=n;var o=this.renderSegEls(a,t),s=this.attachSegs(a,o);s&&(i=this.containerElsByType[a]||(this.containerElsByType[a]=[])).push.apply(i,s),this.segsByType[a]=o,"bgEvent"===a&&Kl(n,o,!1),this.dirtySizeFlags[a]=!0},r.prototype.unrender=function(a,n){var t=this.segsByType[a];t&&("bgEvent"===a&&$l(n,t,!1),this.detachSegs(a,t))},r.prototype.renderSegEls=function(a,n){var o,t=this,i="";if(n.length){for(o=0;o<n.length;o++)i+=this.renderSegHtml(a,n[o]);nr(i).forEach(function(s,l){s&&(n[l].el=s)}),"bgEvent"===a&&(n=Yl(this.context,n,!1)),n=n.filter(function(s){return ir(s.el,t.fillSegTag)})}return n},r.prototype.renderSegHtml=function(a,n){var t=null,i=[];return"highlight"!==a&&"businessHours"!==a&&(t={"background-color":n.eventRange.ui.backgroundColor}),"highlight"!==a&&(i=i.concat(n.eventRange.ui.classNames)),i.push("businessHours"===a?"fc-bgevent":"fc-"+a.toLowerCase()),"<"+this.fillSegTag+(i.length?' class="'+i.join(" ")+'"':"")+(t?' style="'+function(r){var a=[];for(var n in r){var t=r[n];null!=t&&""!==t&&a.push(n+":"+t)}return a.join(";")}(t)+'"':"")+"></"+this.fillSegTag+">"},r.prototype.detachSegs=function(a,n){var t=this.containerElsByType[a];t&&(t.forEach(Ut),delete this.containerElsByType[a])},r.prototype.computeSizes=function(a){for(var n in this.segsByType)(a||this.dirtySizeFlags[n])&&this.computeSegSizes(this.segsByType[n])},r.prototype.assignSizes=function(a){for(var n in this.segsByType)(a||this.dirtySizeFlags[n])&&this.assignSegSizes(this.segsByType[n]);this.dirtySizeFlags={}},r.prototype.computeSegSizes=function(a){},r.prototype.assignSegSizes=function(a){}}(),function(){function r(a){this.emitter=new xr}r.prototype.destroy=function(){},r.prototype.setMirrorIsVisible=function(a){},r.prototype.setMirrorNeedsRevert=function(a){},r.prototype.setAutoScrollEnabled=function(a){}}(),Boolean,function(r){function a(n){var t=r.call(this)||this;return t.renderSkeleton=Ce(t._renderSkeleton,t._unrenderSkeleton),t.parentEl=n,t}Ee(a,r),a.prototype.render=function(n,t){var i=n.dates,o=n.datesRepDistinctDays,s=[];this.renderSkeleton(t),n.renderIntroHtml&&s.push(n.renderIntroHtml());for(var l=ht(t.options.columnHeaderFormat||function(r,a){return!r||a>10?{weekday:"short"}:a>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"}}(o,i.length)),u=0,c=i;u<c.length;u++)s.push(ew(c[u],n.dateProfile,o,i.length,l,t));t.isRtl&&s.reverse(),this.thead.innerHTML="<tr>"+s.join("")+"</tr>"},a.prototype.destroy=function(){r.prototype.destroy.call(this),this.renderSkeleton.unrender()},a.prototype._renderSkeleton=function(n){var t=n.theme,i=this.parentEl;i.innerHTML="",i.appendChild(this.el=tr('<div class="fc-row '+t.getClass("headerRow")+'"><table class="'+t.getClass("tableGrid")+'"><thead></thead></table></div>')),this.thead=this.el.querySelector("thead")},a.prototype._unrenderSkeleton=function(){Ut(this.el)}}($n),function(){function r(a,n){for(var t=a.start,i=a.end,o=[],s=[],l=-1;t<i;)n.isHiddenDay(t)?o.push(l+.5):(l++,o.push(l),s.push(t)),t=Ge(t,1);this.dates=s,this.indices=o,this.cnt=s.length}r.prototype.sliceRange=function(a){var n=this.getDateDayIndex(a.start),t=this.getDateDayIndex(Ge(a.end,-1)),i=Math.max(0,n),o=Math.min(this.cnt-1,t);return(i=Math.ceil(i))<=(o=Math.floor(o))?{firstIndex:i,lastIndex:o,isStart:n===i,isEnd:t===o}:null},r.prototype.getDateDayIndex=function(a){var n=this.indices,t=Math.floor(Et(this.dates[0],a));return t<0?n[0]-1:t>=n.length?n[n.length-1]+1:n[t]}}(),function(){function r(a,n){var i,o,s,t=a.dates;if(n){for(o=t[0].getUTCDay(),i=1;i<t.length&&t[i].getUTCDay()!==o;i++);s=Math.ceil(t.length/i)}else s=1,i=t.length;this.rowCnt=s,this.colCnt=i,this.daySeries=a,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}r.prototype.buildCells=function(){for(var a=[],n=0;n<this.rowCnt;n++){for(var t=[],i=0;i<this.colCnt;i++)t.push(this.buildCell(n,i));a.push(t)}return a},r.prototype.buildCell=function(a,n){return{date:this.daySeries.dates[a*this.colCnt+n]}},r.prototype.buildHeaderDates=function(){for(var a=[],n=0;n<this.colCnt;n++)a.push(this.cells[0][n].date);return a},r.prototype.sliceRange=function(a){var n=this.colCnt,t=this.daySeries.sliceRange(a),i=[];if(t)for(var o=t.firstIndex,s=t.lastIndex,l=o;l<=s;){var u=Math.floor(l/n),c=Math.min((u+1)*n,s+1);i.push({row:u,firstCol:l%n,lastCol:(c-1)%n,isStart:t.isStart&&l===o,isEnd:t.isEnd&&c-1===s}),l=c}return i}}(),function(){function r(){this.sliceBusinessHours=pe(this._sliceBusinessHours),this.sliceDateSelection=pe(this._sliceDateSpan),this.sliceEventStore=pe(this._sliceEventStore),this.sliceEventDrag=pe(this._sliceInteraction),this.sliceEventResize=pe(this._sliceInteraction)}r.prototype.sliceProps=function(a,n,t,i,o){for(var s=[],l=5;l<arguments.length;l++)s[l-5]=arguments[l];var u=a.eventUiBases,c=this.sliceEventStore.apply(this,[a.eventStore,u,n,t,o].concat(s));return{dateSelectionSegs:this.sliceDateSelection.apply(this,[a.dateSelection,u,o].concat(s)),businessHourSegs:this.sliceBusinessHours.apply(this,[a.businessHours,n,t,i,o].concat(s)),fgEventSegs:c.fg,bgEventSegs:c.bg,eventDrag:this.sliceEventDrag.apply(this,[a.eventDrag,u,n,t,o].concat(s)),eventResize:this.sliceEventResize.apply(this,[a.eventResize,u,n,t,o].concat(s)),eventSelection:a.eventSelection}},r.prototype.sliceNowDate=function(a,n){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return this._sliceDateSpan.apply(this,[{range:{start:a,end:Jn(a,1)},allDay:!1},{},n].concat(t))},r.prototype._sliceBusinessHours=function(a,n,t,i,o){for(var s=[],l=5;l<arguments.length;l++)s[l-5]=arguments[l];return a?this._sliceEventStore.apply(this,[on(a,Ur(n,Boolean(t)),i),{},n,t,o].concat(s)).bg:[]},r.prototype._sliceEventStore=function(a,n,t,i,o){for(var s=[],l=5;l<arguments.length;l++)s[l-5]=arguments[l];if(a){var u=Tr(a,n,Ur(t,Boolean(i)),i);return{bg:this.sliceEventRanges(u.bg,o,s),fg:this.sliceEventRanges(u.fg,o,s)}}return{bg:[],fg:[]}},r.prototype._sliceInteraction=function(a,n,t,i,o){for(var s=[],l=5;l<arguments.length;l++)s[l-5]=arguments[l];if(!a)return null;var u=Tr(a.mutatedEvents,n,Ur(t,Boolean(i)),i);return{segs:this.sliceEventRanges(u.fg,o,s),affectedInstances:a.affectedEvents.instances,isEvent:a.isEvent,sourceSeg:a.origSeg}},r.prototype._sliceDateSpan=function(a,n,t){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];if(!a)return[];for(var s=OA(a,n,t.context.calendar),l=this.sliceRange.apply(this,[a.range].concat(i)),u=0,c=l;u<c.length;u++){var d=c[u];d.component=t,d.eventRange=s}return l},r.prototype.sliceEventRanges=function(a,n,t){for(var i=[],o=0,s=a;o<s.length;o++)i.push.apply(i,this.sliceEventRange(s[o],n,t));return i},r.prototype.sliceEventRange=function(a,n,t){for(var i=this.sliceRange.apply(this,[a.range].concat(t)),o=0,s=i;o<s.length;o++){var l=s[o];l.component=n,l.eventRange=a,l.isStart=a.isStart&&l.isStart,l.isEnd=a.isEnd&&l.isEnd}return i}}();var tw=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez]]}),r}(),pw=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez,q.Bz,dn.z],q.Bz,dn.z]}),r}(),gw=["input"];function hw(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"i",4),e.NdJ("click",function(){return e.CHM(n),e.oxw().onMaskToggle()}),e.qZA()}if(2&r){var t=e.oxw();e.Q6J("ngClass",t.toggleIconClass())}}function fw(r,a){1&r&&e.GkF(0)}function mw(r,a){1&r&&e.GkF(0)}function vw(r,a){if(1&r&&(e.ynx(0),e.YNc(1,mw,1,0,"ng-container",6),e.BQk()),2&r){var n=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",n.contentTemplate)}}var bw=function(a){return{width:a}};function yw(r,a){if(1&r&&(e.TgZ(0,"div",9),e._UZ(1,"div",0),e.qZA(),e.TgZ(2,"div",10),e._uU(3),e.qZA()),2&r){var n=e.oxw(2);e.xp6(1),e.Q6J("ngClass",n.strengthClass())("ngStyle",e.VKq(3,bw,n.meter?n.meter.width:"")),e.xp6(2),e.Oqu(n.infoText)}}function _w(r,a){1&r&&e.GkF(0)}var Tw=function(a,n){return{showTransitionParams:a,hideTransitionParams:n}},Cw=function(a){return{value:"visible",params:a}};function Zw(r,a){if(1&r){var n=e.EpF();e.TgZ(0,"div",4,5),e.NdJ("click",function(s){return e.CHM(n),e.oxw().onOverlayClick(s)})("@overlayAnimation.start",function(s){return e.CHM(n),e.oxw().onAnimationStart(s)})("@overlayAnimation.done",function(s){return e.CHM(n),e.oxw().onAnimationEnd(s)}),e.YNc(2,fw,1,0,"ng-container",6),e.YNc(3,vw,2,1,"ng-container",7),e.YNc(4,yw,4,5,"ng-template",null,8,e.W1O),e.YNc(6,_w,1,0,"ng-container",6),e.qZA()}if(2&r){var t=e.MAs(5),i=e.oxw();e.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",e.VKq(9,Cw,e.WLB(6,Tw,i.showTransitionOptions,i.hideTransitionOptions))),e.xp6(2),e.Q6J("ngTemplateOutlet",i.headerTemplate),e.xp6(1),e.Q6J("ngIf",i.contentTemplate)("ngIfElse",t),e.xp6(3),e.Q6J("ngTemplateOutlet",i.footerTemplate)}}var kw={provide:T.JU,useExisting:(0,e.Gpc)(function(){return Sw}),multi:!0},Sw=function(){var r=function(){function a(n,t,i,o){(0,M.Z)(this,a),this.cd=n,this.config=t,this.el=i,this.overlayService=o,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=function(){},this.onModelTouched=function(){}}return(0,R.Z)(a,[{key:"ngAfterContentInit",value:function(){var t=this;this.templates.forEach(function(i){switch(i.getType()){case"content":default:t.contentTemplate=i.template;break;case"header":t.headerTemplate=i.template;break;case"footer":t.footerTemplate=i.template}})}},{key:"ngOnInit",value:function(){var t=this;this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(function(){t.updateUI(t.value||"")})}},{key:"onAnimationStart",value:function(t){switch(t.toState){case"visible":this.overlay=t.element,E.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}},{key:"onAnimationEnd",value:function(t){"void"===t.toState&&E.P9.clear(t.element)}},{key:"appendContainer",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}},{key:"alignOverlay",value:function(){this.appendTo?(this.overlay.style.minWidth=k.p.getOuterWidth(this.input.nativeElement)+"px",k.p.absolutePosition(this.overlay,this.input.nativeElement)):k.p.relativePosition(this.overlay,this.input.nativeElement)}},{key:"onInput",value:function(t){this.value=t.target.value,this.onModelChange(this.value),this.onModelTouched()}},{key:"onInputFocus",value:function(t){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(t)}},{key:"onInputBlur",value:function(t){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(t)}},{key:"onKeyUp",value:function(t){this.feedback&&(this.updateUI(t.target.value),this.overlayVisible||(this.overlayVisible=!0))}},{key:"updateUI",value:function(t){var i=null,o=null;switch(this.testStrength(t)){case 1:i=this.weakText(),o={strength:"weak",width:"33.33%"};break;case 2:i=this.mediumText(),o={strength:"medium",width:"66.66%"};break;case 3:i=this.strongText(),o={strength:"strong",width:"100%"};break;default:i=this.promptText(),o=null}this.meter=o,this.infoText=i}},{key:"onMaskToggle",value:function(){this.unmasked=!this.unmasked}},{key:"onOverlayClick",value:function(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}},{key:"testStrength",value:function(t){var i=0;return this.strongCheckRegExp.test(t)?i=3:this.mediumCheckRegExp.test(t)?i=2:t.length&&(i=1),i}},{key:"writeValue",value:function(t){this.value=void 0===t?null:t,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}},{key:"registerOnChange",value:function(t){this.onModelChange=t}},{key:"registerOnTouched",value:function(t){this.onModelTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t}},{key:"bindScrollListener",value:function(){var t=this;this.scrollHandler||(this.scrollHandler=new k.V(this.input.nativeElement,function(){t.overlayVisible&&(t.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}},{key:"bindResizeListener",value:function(){var t=this;this.resizeListener||(this.resizeListener=function(){t.overlayVisible&&(t.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"unbindResizeListener",value:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},{key:"unbindOutsideClickListener",value:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}},{key:"containerClass",value:function(){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":this.toggleMask}}},{key:"inputFieldClass",value:function(){return{"p-password-input":!0,"p-disabled":this.disabled}}},{key:"toggleIconClass",value:function(){return this.unmasked?"pi pi-eye-slash":"pi pi-eye"}},{key:"strengthClass",value:function(){return"p-password-strength ".concat(this.meter?this.meter.strength:"")}},{key:"filled",value:function(){return null!=this.value&&this.value.toString().length>0}},{key:"promptText",value:function(){return this.promptLabel||this.getTranslation(D.ws.PASSWORD_PROMPT)}},{key:"weakText",value:function(){return this.weakLabel||this.getTranslation(D.ws.WEAK)}},{key:"mediumText",value:function(){return this.mediumLabel||this.getTranslation(D.ws.MEDIUM)}},{key:"strongText",value:function(){return this.strongLabel||this.getTranslation(D.ws.STRONG)}},{key:"restoreAppend",value:function(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}},{key:"inputType",value:function(){return this.unmasked?"text":"password"}},{key:"getTranslation",value:function(t){return this.config.getTranslation(t)}},{key:"ngOnDestroy",value:function(){this.overlay&&(E.P9.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}]),a}();return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO),e.Y36(D.b4),e.Y36(e.SBq),e.Y36(D.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["p-password"]],contentQueries:function(n,t,i){var o;1&n&&e.Suo(i,D.jx,4),2&n&&e.iGM(o=e.CRH())&&(t.templates=o)},viewQuery:function(n,t){var i;1&n&&e.Gf(gw,5),2&n&&e.iGM(i=e.CRH())&&(t.input=i.first)},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(n,t){2&n&&e.ekj("p-inputwrapper-filled",t.filled())("p-inputwrapper-focus",t.focused)},inputs:{disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[e._Bn([kw])],decls:5,vars:14,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup"],["input",""],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"input",1,2),e.NdJ("input",function(o){return t.onInput(o)})("focus",function(o){return t.onInputFocus(o)})("blur",function(o){return t.onInputBlur(o)})("keyup",function(o){return t.onKeyUp(o)}),e.qZA(),e.YNc(3,hw,1,1,"i",3),e.YNc(4,Zw,7,11,"div",3),e.qZA()),2&n&&(e.Tol(t.styleClass),e.Q6J("ngClass",t.containerClass())("ngStyle",t.style),e.xp6(1),e.Tol(t.inputStyleClass),e.Q6J("ngClass",t.inputFieldClass())("ngStyle",t.inputStyle)("value",t.value),e.uIk("id",t.inputId)("type",t.inputType())("placeholder",t.placeholder),e.xp6(2),e.Q6J("ngIf",t.toggleMask),e.xp6(1),e.Q6J("ngIf",t.overlayVisible))},directives:[I.mk,I.PC,j,I.O5,I.tP],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}"],encapsulation:2,data:{animation:[(0,J.X$)("overlayAnimation",[(0,J.eR)(":enter",[(0,J.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,J.jt)("{{showTransitionParams}}")]),(0,J.eR)(":leave",[(0,J.jt)("{{hideTransitionParams}}",(0,J.oB)({opacity:0}))])])]},changeDetection:0}),r}(),Aw=function(){var r=(0,R.Z)(function a(){(0,M.Z)(this,a)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez,jn],D.m8]}),r}(),ww=[{path:"home",component:Au,data:{}},{path:"search-dataset",component:dh,data:{}},{path:"my-datasets",component:mh,data:{}},{path:"add-dataset",component:_h,data:{}},{path:"organization",component:Th,data:{}},{path:"users",component:xh,data:{}},{path:"profile",component:Oh,data:{}},{path:"view-dataset",component:Ih,data:{}},{path:"add-organization",component:Uh,data:{}},{path:"organizations-users",component:Lh,data:{}},{path:"user-selected-profile",component:Hh,data:{}},{path:"net-user-selected-profile",component:Qh,data:{}},{path:"org-add-user",component:$h,data:{}},{path:"net-add-user",component:Gh,data:{}},{path:"org-selected-profile",component:ef,data:{}},{path:"org-selected-users",component:uf,data:{}},{path:"provided-datasets",component:yf,data:{}},{path:"my-datasets-details",component:qf,data:{}},{path:"my-datasets-permissions",component:Gf,data:{}},{path:"my-datasets-content",component:im,data:{}},{path:"my-datasets-history",component:mm,data:{}},{path:"provided-datasets-details",component:Im,data:{}},{path:"provided-datasets-content",component:Hm,data:{}},{path:"provided-datasets-history",component:nv,data:{}},{path:"notifications",component:sv,data:{}},{path:"view-permission-request",component:lv,data:{}},{path:"view-revoke-request",component:uv,data:{}},{path:"inactive-users",component:mv,data:{}},{path:"org-selected-inactive-users",component:kv,data:{}},{path:"org-datasets",component:Ov,data:{}},{path:"org-datasets-details",component:Iv,data:{}},{path:"org-datasets-content",component:Nv,data:{}},{path:"org-datasets-history",component:Kv,data:{}},{path:"my-datasets-datasource-history",component:ob,data:{}},{path:"provided-datasets-datasource-history",component:yb,data:{}},{path:"org-datasets-datasource-history",component:xb,data:{}},{path:"my-datasets-access-requests-history",component:Kb,data:{}},{path:"my-datasets-revoked-access-history",component:hy,data:{}},{path:"provided-datasets-access-requests-history",component:Uy,data:{}},{path:"provided-datasets-revoked-access-history",component:e_,data:{}},{path:"add-external-organization",component:t_,data:{}},{path:"external-organizations",component:o_,data:{}},{path:"ext-org-selected-profile",component:c_,data:{}},{path:"ext-org-selected-users",component:b_,data:{}},{path:"ext-org-selected-inactive-users",component:A_,data:{}},{path:"access-history-pending-access-requests",component:B_,data:{}},{path:"access-history-access-requests-history",component:G_,data:{}},{path:"access-history-revoked-access-history",component:l1,data:{}}],xw=function(){function r(){}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[I.ez,ee.aw.forChild(),q.Bz.forChild(ww),ne.kW,T.UX,T.u5,Pk,Gr,tw,pw,oh,jn,Ac,Ht.nD,Aw]]}),r}()}}]);